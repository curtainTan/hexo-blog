{"meta":{"title":"curTain","subtitle":"","description":"","author":"tanTantan","url":"http://blog.curtaintan.club","root":"/"},"pages":[{"title":"404 Not Found","date":"2019-12-02T08:25:53.803Z","updated":"2019-12-02T08:25:53.803Z","comments":true,"path":"404.html","permalink":"http://blog.curtaintan.club/404.html","excerpt":"","text":"404 Not Found **å¾ˆæŠ±æ­‰ï¼Œæ‚¨è®¿é—®çš„é¡µé¢ä¸å­˜åœ¨** å¯èƒ½æ˜¯è¾“å…¥åœ°å€æœ‰è¯¯æˆ–è¯¥åœ°å€å·²è¢«åˆ é™¤"},{"title":"å…³äº","date":"2019-12-26T14:01:07.399Z","updated":"2019-12-26T14:01:07.399Z","comments":true,"path":"about/index.html","permalink":"http://blog.curtaintan.club/about/index.html","excerpt":"","text":"äº‘æ·¡é£è½»ã€ å…³äºæˆ‘ï¼šç›®å‰å°±è¯»äºæˆéƒ½å¤§å­¦ï¼Œå¤§ä¸‰ çƒ­çˆ±çš„ï¼š coding æ¢ç´¢ å‰ç«¯ ç§‘æŠ€ ç”µå­äº§å“ æŠ€æœ¯æ ˆï¼š js flutter nodejs mysql æ„¿æœ›ï¼š æ‰“é€ ä¸€ä¸ªå¤šç«¯çš„app å’Œå¥½æœ‹å‹ä»¬ä¸€èµ·åƒå¥½å¤šå¥½åƒçš„ å’Œå¥½æœ‹å‹ä»¬ä¸€èµ·å»æµ·è¾¹çœ‹æµ· æœ‰è‡ªå·±çƒ­çˆ±çš„ä¸œè¥¿ï¼Œå¹³é™ç®€å•çš„ç”Ÿæ´».. æ¬¢è¿çŒæ°´"},{"title":"æ‰€æœ‰åˆ†ç±»","date":"2019-12-26T14:01:52.812Z","updated":"2019-12-26T14:01:52.812Z","comments":true,"path":"categories/index.html","permalink":"http://blog.curtaintan.club/categories/index.html","excerpt":"","text":""},{"title":"","date":"2019-12-03T08:42:54.518Z","updated":"2019-12-03T08:42:54.518Z","comments":true,"path":"mylist/index.html","permalink":"http://blog.curtaintan.club/mylist/index.html","excerpt":"","text":""},{"title":"æ‰€æœ‰æ ‡ç­¾","date":"2019-12-03T08:46:42.440Z","updated":"2019-12-03T08:46:42.440Z","comments":true,"path":"tags/index.html","permalink":"http://blog.curtaintan.club/tags/index.html","excerpt":"","text":""},{"title":"æˆ‘çš„æ”¶è—å¤¹","date":"2020-01-31T06:03:52.343Z","updated":"2020-01-31T06:03:52.343Z","comments":true,"path":"favorite/index.html","permalink":"http://blog.curtaintan.club/favorite/index.html","excerpt":"","text":"å›¾åºŠåˆæ‹å›¾åºŠspeedè·¯è¿‡å›¾åºŠ(ç¨³å®šã€æ¨èä½¿ç”¨) å‰ç«¯é¢è¯•é¢˜ å‰ç«¯ 100 é—®ï¼šèƒ½ææ‡‚ 80% çš„è¯·æŠŠç®€å†ç»™æˆ‘ sequelizeä¸€ç‚¹é€š Sequelize å¿«é€Ÿå…¥é—¨ Sequelize ç³»åˆ—æ•™ç¨‹ä¹‹ä¸€å¯¹ä¸€æ¨¡å‹å…³ç³» Sequelize ç³»åˆ—æ•™ç¨‹ä¹‹ä¸€å¯¹å¤šæ¨¡å‹å…³ç³» Sequelize ç³»åˆ—æ•™ç¨‹ä¹‹å¤šå¯¹å¤šæ¨¡å‹å…³ç³» è‰²å½©æ­é…Paleetes å¤§å®¶æœ‰ä»€ä¹ˆå¥½çš„ä¸œè¥¿ï¼Œå¯ä»¥åœ¨ä¸‹é¢ç»™æˆ‘ç•™è¨€...."},{"title":"æˆ‘çš„æœ‹å‹ä»¬","date":"2020-02-06T02:23:42.801Z","updated":"2020-02-06T02:23:42.801Z","comments":true,"path":"friends/index.html","permalink":"http://blog.curtaintan.club/friends/index.html","excerpt":"","text":""},{"title":"æˆ‘çš„ä½œå“","date":"2020-02-06T06:13:38.748Z","updated":"2020-02-06T06:13:38.748Z","comments":true,"path":"projects/index.html","permalink":"http://blog.curtaintan.club/projects/index.html","excerpt":"","text":"2020.1 little chat ä¸€ç›´éƒ½æƒ³é‡æ„ä¹‹å‰çš„chatGoèŠå¤©é¡¹ç›®ï¼Œç»ˆäºé‡æ„äº†ï¼å¼€å¿ƒâ€¦ Featuresï¼š ä½¿ç”¨create-react-appæ„å»º hooks redux + redux-saga çŠ¶æ€ç®¡ç† ä½¿ç”¨immutable.js é€‚é…ç§»åŠ¨ç«¯ ç§èŠ ç¾¤èŠ ç”³è¯·åŠ ç¾¤ æ”¯æŒå‘é€å›¾ç‰‡å’Œemoji æœåŠ¡ç«¯ï¼š socket.ioæ­é…koa2 ä½¿ç”¨å•ä¾‹æ¨¡å¼ç®¡ç†çŠ¶æ€ ä½¿ç”¨å‡½æ•°æŸ¯ç†æ¥æ”¶å‚æ•° ä¸€å¼€å§‹ç”¨dvaæ„å»ºçš„é¡¹ç›®ï¼Œåæ¥ç”¨create-react-appé‡æ„äº†é¡¹ç›®ï¼š reactç‰ˆæœ¬ï¼šreactç‰ˆæœ¬é¢„è§ˆdvaç®€åŒ–ç‰ˆæœ¬ï¼šdvaç‰ˆæœ¬é¢„è§ˆåœ°å€æºç åœ°å€ï¼šgithub 2019.11 nextGoä½¿ç”¨nextjsæ­é…koa2æ­å»ºçš„ä»¿å†™githubçš„ssré¡¹ç›®ï¼Œé¡¹ç›®ä½¿ç”¨githubæ¥å£ï¼Œä½¿ç”¨OAuthè¿›è¡Œç™»å½•ã€‚ Featuresï¼š ä½¿ç”¨nextjsæ„å»º ä½¿ç”¨hooks ä½¿ç”¨reduxç®¡ç†çŠ¶æ€ é›†æˆkoa2 ä½¿ç”¨HOCå®šåˆ¶props æ¥å…¥githubâ€”OAuth ä½¿ç”¨webpack-bundle-analyzeråˆ†ææ‰“åŒ…ä¾èµ– é¢„è§ˆåœ°å€ï¼šnextGoæºç åœ°å€ï¼šgithubæ‰“åŒ…åˆ†æï¼šç‚¹å‡»ç›´è¾¾ 2019.9 fabric-board ç”¨fabric.jsé‡å†™çš„é¢å‘å¯¹è±¡çš„ç”»æ¿ ä½¿ç”¨äº†åŒå­¦ï¼ˆèƒ¡ç¿”ï¼‰çš„ipadå’Œé…å¥—çš„Apple Pencilï¼Œä½“éªŒäº†è®°äº‹æœ¬çš„åŠŸèƒ½ï¼Œçªå‘å¥‡æƒ³ï¼Œæˆ‘å°±å®ç°äº†ä¸€ä¸‹ï¼Œä½¿ç”¨å›¾å±‚å¯¹è±¡çš„å½¢å¼æ¥å¼€å‘ç”»æ¿ï¼Œä½“éªŒè¿˜æ˜¯ä¸é”™çš„ã€‚ è¿™ä¸ªé¡¹ç›®ä»å¼€å§‹æ„æƒ³ï¼Œåˆ°å¤§ä½“å®ŒæˆåªèŠ±äº†ä¸¤å¤©ï¼Œåé¢åœ¨å®Œå–„è·å–å›¾å±‚ç»„ï¼Œç„¶åå°†å›¾å±‚ç»„å•ç‹¬æ‹¿å‡ºæ¥æ¸²æŸ“åˆ°å³ä¾§çš„å°canvasä¸Šçš„æ—¶å€™ï¼Œå‡ºç°äº†é—®é¢˜ï¼Œ æ–­æ–­ç»­ç»­çš„å†™äº†ä¸‹ï¼Œè¿˜æ˜¯æ²¡æœ‰è§£å†³ã€‚ Featuresï¼š fabric.js canvas vue å›¾å±‚å¼æ“ä½œ é¢„è§ˆåœ°å€ï¼šfabricGoæºç åœ°å€ï¼šgithub 2019.8 canvasGo ä½¿ç”¨canvasæ„å»ºçš„ç”»æ¿é¡¹ç›®ï¼ŒåŸç”Ÿjsæ“ä½œã€‚ Featuresï¼š åŸç”Ÿjs canvas å…¼å®¹æ‰‹æœºç«¯ æ‹¥æœ‰å‘é€å¼¹å¹•åŠŸèƒ½ æˆªå›¾åŠŸèƒ½ æˆªå›¾å¯æ—‹è½¬ æ’¤é”€/å‰è¿› é¢„è§ˆåœ°å€ï¼šcanvasGoæºç åœ°å€ï¼šgithubé…å¥—æ–‡ç« ï¼šå¿«åˆ°ç¢—é‡Œæ¥ 2019.6 electron-music æ˜¯å­¦ä¹ electronçš„å°demoå§ï¼Œåé¢ä¸€å®šä¼šæ¨å‡ºelectronçš„æ›´å®Œå–„çš„åº”ç”¨çš„ã€‚ Featuresï¼š electron åŸç”Ÿjs æ¡Œé¢åº”ç”¨ æœ¬åœ°æ•°æ®ç¼“å­˜ æºç åœ°å€ï¼šgithub 2019.5 ç½‘æ˜“äº‘Go ä½¿ç”¨flutteræ„å»ºçš„æ¨¡ä»¿ç½‘æ˜“äº‘éŸ³ä¹appï¼Œç•Œé¢è¿˜åŸåº¦å¾ˆé«˜ï¼Œ Featuresï¼š flutteræ„å»º æ’­æ”¾è§†é¢‘ä¸vedio æ’­æ”¾éŸ³ä¹ å¯¼èˆªæ çº§è”æ»‘åŠ¨ æœç´¢æç¤º èŠ‚æµæ“ä½œ provideçŠ¶æ€ç®¡ç† ç»„ä»¶å¼å¼€å‘ æºç åœ°å€ï¼šgithubä¸‹è½½åœ°å€ï¼š å®‰å“ä¸‹è½½ï¼šç‚¹æˆ‘ä¸‹è½½ æ‰«ç ä¸‹è½½ï¼š iosï¼šç”±äºæ²¡æœ‰iosæ‰‹æœºå’Œmacï¼Œæ‰€ä»¥æ²¡æœ‰æ‰“åŒ…iosç‰ˆæœ¬ 2019.3 çŸ¥ç¨‹ ä½¿ç”¨åŸç”Ÿå°ç¨‹åºæ„å»ºï¼Œå·¥ä½œå®¤å›¢é˜Ÿé¡¹ç›®ï¼Œ Featuresï¼š å¾®ä¿¡å°ç¨‹åº åŸå¸‚çº§è” flexå¸ƒå±€ æºç åœ°å€ï¼šgithub 2018.10 chatGo ä½¿ç”¨socket.ioæ­é…expressæ­å»ºè€Œæˆçš„åœ¨çº¿èŠå¤©ç³»ç»Ÿï¼Œåé¢ä¼šä½¿ç”¨æ¡†æ¶æ­å»ºä¸€ä¸ªæ›´å…¨é¢ï¼Œç•Œé¢æ›´å‹å¥½çš„åœ¨çº¿èŠå¤©ç³»ç»Ÿï¼Œ Featuresï¼š socket.ioæ„å»ºè€Œæˆ bootstrapæ …æ ¼ç³»ç»Ÿ æºç åœ°å€ï¼šgithubé¢„è§ˆåœ°å€ï¼šchatGo 2018.10 å°å°è®ºå› è¿™æ˜¯æœ€åˆçš„ä½œå“ï¼Œä¹Ÿæ˜¯å¿ƒå¿ƒå¿µå¿µæƒ³è¦å»å®Œæˆçš„ä½œå“ï¼Œæœ€åˆæ˜¯ç‰ˆæœ¬æ˜¯ç•™è¨€æ¿ï¼Œåæ¥ä¸€å†ä¸€å†çš„æ‰©å±•ï¼Œå°±å˜æˆäº†è¿™æ ·çš„ä¸€ä¸ªè®ºå›äº†ã€‚å…¶å®è›®å–œæ¬¢è¿™ä¸ªä½œå“çš„ï¼Œæœ€è¿‘ä¹Ÿåœ¨é‡æ„ä¸­ï¼Œä¹Ÿåœ¨è¯•å›¾æ·»åŠ æ›´å¤šåŠŸèƒ½â€¦ Featuresï¼š vuejsã€vuexã€vue-routerå…¨å®¶æ¡¶ quillå¯Œæ–‡æœ¬ç¼–è¾‘å™¨ è·¯ç”±å®ˆå« tokené‰´æƒ æºç åœ°å€ï¼šgithubé¢„è§ˆåœ°å€ï¼šç‚¹å‡»ç›´è¾¾"}],"posts":[{"title":"æ€è·¯æ¸…æ™°--å‰ç«¯æ€§èƒ½ä¼˜åŒ–","slug":"æ€è·¯æ¸…æ™°-å‰ç«¯æ€§èƒ½ä¼˜åŒ–","date":"2020-02-14T01:25:00.000Z","updated":"2020-02-14T02:18:57.932Z","comments":true,"path":"2020/02/14/æ€è·¯æ¸…æ™°-å‰ç«¯æ€§èƒ½ä¼˜åŒ–/","link":"","permalink":"http://blog.curtaintan.club/2020/02/14/%E6%80%9D%E8%B7%AF%E6%B8%85%E6%99%B0-%E5%89%8D%E7%AB%AF%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/","excerpt":"","text":"1. åŸåˆ™ å¤šä½¿ç”¨å†…å­˜ã€ç¼“å­˜æˆ–å…¶ä»–æ–¹æ³•æ¥å­˜å‚¨ å‡å°‘ cpu è®¡ç®—ï¼Œå‡å°‘ http ç½‘ç»œè¯·æ±‚ 2. ä»å“ªé‡Œå…¥æ‰‹ åŠ è½½é¡µé¢å’Œé™æ€èµ„æº é¡µé¢æ¸²æŸ“ 2.1 åŠ è½½èµ„æºä¼˜åŒ– é™æ€èµ„æºçš„å‹ç¼©å’Œåˆå¹¶ é™æ€èµ„æºç¼“å­˜ ä½¿ç”¨ CDN è®©èµ„æºåŠ è½½æ›´å¿« ä½¿ç”¨ SSR åç«¯æ¸²æŸ“ï¼Œæ•°æ®ç›´æ¥è¾“å‡ºåˆ° HTML ä¸­ 2.2 æ¸²æŸ“ä¼˜åŒ– CSS æ”¾å‰é¢ï¼ŒJS æ”¾åé¢ æ‡’åŠ è½½ï¼ˆå›¾ç‰‡æ‡’åŠ è½½ã€ä¸‹æ‹‰åŠ è½½æ›´å¤šï¼‰ å‡å°‘ DOM æŸ¥è¯¢ï¼Œå¯¹ DOM æŸ¥è¯¢åšç¼“å­˜ å‡å°‘ DOM æ“ä½œï¼Œå¤šä¸ªæ“ä½œå°½é‡åˆå¹¶åœ¨ä¸€èµ·æ‰§è¡Œï¼ˆä¾‹å¦‚ï¼šæ’å…¥åˆ—è¡¨ï¼‰ ä½¿ç”¨äº‹ä»¶èŠ‚æµä¸é˜²æŠ– å°½æ—©æ‰§è¡Œæ“ä½œï¼ˆ å¦‚ï¼šDOMContentLoaded ï¼‰ 3. æ€»ç»“ç®€ç•¥çš„æ¦‚è¿°äº†ä¸€ä¸‹å‰ç«¯æ€§èƒ½çš„ä¼˜åŒ–ã€‚ 4. èµ„æºæ¨èæ¡†æ¶æ‰“åŒ…ä¼˜åŒ– ğŸš€ è®°ä¸€æ¬¡å‰ç«¯æ€§èƒ½ä¼˜åŒ– å‰ç«¯æ€§èƒ½ä¼˜åŒ–æœ€ä½³å®è·µ","categories":[{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"http://blog.curtaintan.club/categories/%E5%89%8D%E7%AB%AF/"}],"tags":[{"name":"æ€§èƒ½ä¼˜åŒ–","slug":"æ€§èƒ½ä¼˜åŒ–","permalink":"http://blog.curtaintan.club/tags/%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/"}]},{"title":"[è½¬è½½]webpackä¼˜åŒ–","slug":"[è½¬è½½]-webpackä¼˜åŒ–","date":"2020-02-12T15:43:31.000Z","updated":"2020-02-12T15:44:32.236Z","comments":true,"path":"2020/02/12/[è½¬è½½]-webpackä¼˜åŒ–/","link":"","permalink":"http://blog.curtaintan.club/2020/02/12/[%E8%BD%AC%E8%BD%BD]-webpack%E4%BC%98%E5%8C%96/","excerpt":"","text":"webpackå„ç§ä¼˜åŒ–ä¸Šä¸€ç« èŠ‚æˆ‘ä»¬å·²ç»æŒæ¡äº†webpackå¸¸è§çš„æ‰€æœ‰é…ç½® è¿™ä¸€èŠ‚æˆ‘ä»¬æ¥çœ‹çœ‹å¦‚ä½•å®ç°webpackä¸­çš„ä¼˜åŒ–ï¼Œæˆ‘ä»¬å…ˆæ¥ç¼–å†™æœ€åŸºæœ¬çš„webpacké…ç½®ï¼Œç„¶åä¾æ¬¡å®ç°å„ç§ä¼˜åŒ–ï¼ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647const MiniCssExtractPlugin = require(\"mini-css-extract-plugin\");const HtmlWebpackPlugin = require(\"html-webpack-plugin\");const path = require(\"path\");module.exports = mode =&gt; &#123; return &#123; mode: mode, entry: \"./src/main.js\", output: &#123; filename: \"bundle.js\", path: path.resolve(__dirname, \"dist\") &#125;, module: &#123; rules: [ &#123; test: /\\.(png|jpg|gif)$/, use: \"file-loader\" &#125;, &#123; test: /\\.js$/, use: \"babel-loader\" // .babelrcå·²ç»é…ç½®æ”¯æŒreact &#125;, &#123; test: /\\.css$/, use: [ mode !== \"development\" ? MiniCssExtractPlugin.loader : \"style-loader\", \"css-loader\" ] &#125; ] &#125;, plugins: [ new PurgecssPlugin(&#123; paths: glob.sync(`$&#123;path.join(__dirname, \"src\")&#125;/**/*`, &#123; nodir: true &#125;) // ä¸åŒ¹é…ç›®å½•ï¼ŒåªåŒ¹é…æ–‡ä»¶ &#125;), mode !== \"development\" &amp;&amp; new MiniCssExtractPlugin(&#123; filename: \"css/[name].css\" &#125;), new HtmlWebpackPlugin(&#123; template: \"./src/template.html\", filename: \"index.html\" &#125;) ].filter(Boolean) &#125;;&#125;; .babelrcé…ç½®æ–‡ä»¶ 123456&#123; \"presets\": [ \"@babel/preset-env\", \"@babel/preset-react\" ]&#125; 1.åˆ é™¤æ— ç”¨çš„Cssæ ·å¼å…ˆæ¥çœ‹ç¼–å†™çš„ä»£ç  1234import './style.css'import React from 'react';import ReactDOM from 'react-dom';ReactDOM.render(&lt;div&gt;hello&lt;/div&gt;,document.getElementById('root')); 123456body&#123; background: red&#125;.class1&#123; background: red&#125; è¿™é‡Œçš„.class1æ˜¾ç„¶æ˜¯æ— ç”¨çš„ï¼Œæˆ‘ä»¬å¯ä»¥æœç´¢srcç›®å½•ä¸‹çš„æ–‡ä»¶ï¼Œåˆ é™¤æ— ç”¨çš„æ ·å¼ 1234567const glob = require('glob');const PurgecssPlugin = require('purgecss-webpack-plugin');// éœ€è¦é…åˆmini-css-extract-pluginæ’ä»¶mode !== \"development\" &amp;&amp; new PurgecssPlugin(&#123; paths: glob.sync(`$&#123;path.join(__dirname, \"src\")&#125;/**/*`, &#123; nodir: true &#125;) // ä¸åŒ¹é…ç›®å½•ï¼ŒåªåŒ¹é…æ–‡ä»¶&#125;), 2.å›¾ç‰‡å‹ç¼©æ’ä»¶å°†æ‰“åŒ…åçš„å›¾ç‰‡è¿›è¡Œä¼˜åŒ– 1npm install image-webpack-loader --save-dev åœ¨file-loaderä¹‹å‰ä½¿ç”¨å‹ç¼©å›¾ç‰‡æ’ä»¶ 12345678910111213141516171819202122loader: \"image-webpack-loader\",options: &#123; mozjpeg: &#123; progressive: true, quality: 65 &#125;, // optipng.enabled: false will disable optipng optipng: &#123; enabled: false, &#125;, pngquant: &#123; quality: [0.90, 0.95], speed: 4 &#125;, gifsicle: &#123; interlaced: false, &#125;, // the webp option will enable WEBP webp: &#123; quality: 75 &#125;&#125; å¯ä»¥å‘ç°å›¾ç‰‡å¤§å°æ˜¯æœ‰äº†æ˜æ˜¾çš„å˜åŒ– 3.CDNåŠ è½½æ–‡ä»¶æˆ‘ä»¬å¸Œæœ›é€šè¿‡cdnçš„æ–¹å¼å¼•å…¥èµ„æº 1234const AddAssetHtmlCdnPlugin = require('add-asset-html-cdn-webpack-plugin')new AddAssetHtmlCdnPlugin(true,&#123; 'jquery':'https://cdn.bootcss.com/jquery/3.4.1/jquery.min.js'&#125;) ä½†æ˜¯åœ¨ä»£ç ä¸­è¿˜å¸Œæœ›å¼•å…¥jqueryæ¥è·å¾—æç¤º 12import $ from 'jquery'console.log('$',$) ä½†æ˜¯æ‰“åŒ…æ—¶ä¾ç„¶ä¼šå°†jqueryè¿›è¡Œæ‰“åŒ… 123externals:&#123; 'jquery':'$'&#125; åœ¨é…ç½®æ–‡ä»¶ä¸­æ ‡æ³¨jqueryæ˜¯å¤–éƒ¨çš„ï¼Œè¿™æ ·æ‰“åŒ…æ—¶å°±ä¸ä¼šå°†jqueryè¿›è¡Œæ‰“åŒ…äº† 4.Tree-shaking &amp;&amp; Scope-Hoisting4.1 Tree-shakingé¡¾åæ€ä¹‰å°±æ˜¯å°†æ²¡ç”¨çš„å†…å®¹æ‘‡æ™ƒæ‰,æ¥çœ‹ä¸‹é¢ä»£ç  main.js 12import &#123; minus &#125; from \"./calc\";console.log(minus(1,1)); calc.js 1234567import &#123;test&#125; from './test';export const sum = (a, b) =&gt; &#123; return a + b + 'sum';&#125;;export const minus = (a, b) =&gt; &#123; return a - b + 'minus';&#125;; test.js 1234export const test = ()=&gt;&#123; console.log('hello')&#125;console.log(test()); è§‚å¯Ÿä¸Šè¿°ä»£ç å…¶å®æˆ‘ä»¬ä¸»è¦ä½¿ç”¨minusæ–¹æ³•,test.jsä»£ç æ˜¯æœ‰å‰¯ä½œç”¨çš„! é»˜è®¤mode:productionæ—¶ï¼Œä¼šè‡ªåŠ¨tree-shaking,ä½†æ˜¯æ‰“åŒ…å&#39;hello&#39;ä¾ç„¶ä¼šè¢«æ‰“å°å‡ºæ¥,è¿™æ—¶å€™æˆ‘ä»¬éœ€è¦é…ç½®ä¸ä½¿ç”¨å‰¯ä½œç”¨ åœ¨package.jsonä¸­é…ç½® 1\"sideEffects\":false, å¦‚æœè¿™æ ·è®¾ç½®ï¼Œé»˜è®¤å°±ä¸ä¼šå¯¼å…¥cssæ–‡ä»¶å•¦ï¼Œå› ä¸ºæˆ‘ä»¬å¼•å…¥cssä¹Ÿæ˜¯é€šè¿‡import &#39;./style.css&#39; è¿™é‡Œé‡ç‚¹å°±æ¥äº†,tree-shakingä¸»è¦é’ˆå¯¹es6æ¨¡å—,æˆ‘ä»¬å¯ä»¥ä½¿ç”¨requireè¯­æ³•å¯¼å…¥css,ä½†æ˜¯è¿™æ ·ç”¨èµ·æ¥æœ‰ç‚¹æ ¼æ ¼ä¸å…¥,æ‰€ä»¥æˆ‘ä»¬å¯ä»¥é…ç½®cssæ–‡ä»¶ä¸æ˜¯å‰¯ä½œç”¨ 123\"sideEffects\":[ \"**/*.css\"] åœ¨å¼€å‘ç¯å¢ƒä¸‹é»˜è®¤tree-shakingä¸ä¼šç”Ÿæ•ˆ,å¯ä»¥é…ç½®æ ‡è¯†æç¤º 123optimization:&#123; usedExports:true &#125; 4.2 Scope Hoistingä½œç”¨åŸŸæå‡,å¯ä»¥å‡å°‘ä»£ç ä½“ç§¯ï¼ŒèŠ‚çº¦å†…å­˜ 12345678let a = 1;let b = 2;let c = 3;let d = a+b+cexport default d;// å¼•å…¥dimport d from './d';console.log(d) æœ€ç»ˆæ‰“åŒ…åçš„ç»“æœä¼šå˜æˆ console.log(6) ä»£ç é‡æ˜æ˜¾å‡å°‘ å‡å°‘å¤šä¸ªå‡½æ•°åå†…å­˜å ç”¨ä¹Ÿå°†å‡å°‘ 5.DllPlugin &amp;&amp; DllReferencePluginæ¯æ¬¡æ„å»ºæ—¶ç¬¬ä¸‰æ–¹æ¨¡å—éƒ½éœ€è¦é‡æ–°æ„å»ºï¼Œè¿™ä¸ªæ€§èƒ½æ¶ˆè€—æ¯”è¾ƒå¤§ï¼Œæˆ‘ä»¬å¯ä»¥å…ˆæŠŠç¬¬ä¸‰æ–¹åº“æ‰“åŒ…æˆåŠ¨æ€é“¾æ¥åº“ï¼Œä»¥åæ„å»ºæ—¶åªéœ€è¦æŸ¥æ‰¾æ„å»ºå¥½çš„åº“å°±å¥½äº†ï¼Œè¿™æ ·å¯ä»¥å¤§å¤§èŠ‚çº¦æ„å»ºæ—¶é—´ 1234import React from 'react';import ReactDOM from 'react-dom';ReactDOM.render(&lt;h1&gt;hello&lt;/h1&gt;,document.getElementById('root')) 5.1 DllPlugin è¿™é‡Œæˆ‘ä»¬å¯ä»¥å…ˆå°†reactã€react-domå•ç‹¬è¿›è¡Œæ‰“åŒ… å•ç‹¬æ‰“åŒ…åˆ›å»ºwebpack.dll.js 1234567891011121314151617const path = require('path');const DllPlugin = require('webpack/lib/DllPlugin');module.exports = &#123; entry:['react','react-dom'], mode:'production', output:&#123; filename:'react.dll.js', path:path.resolve(__dirname,'dll'), library:'react' &#125;, plugins:[ new DllPlugin(&#123; name:'react', path:path.resolve(__dirname,'dll/manifest.json') &#125;) ]&#125; æ‰§è¡Œ&quot;webpack --config webpack.dll.jså‘½ä»¤ï¼Œå¯ä»¥çœ‹åˆ°dllç›®å½•ä¸‹åˆ›å»ºäº†ä¸¤ä¸ªæ–‡ä»¶åˆ†åˆ«æ˜¯manifest.json,react.dll.js å…³ç³»æ˜¯è¿™ä¸ªé…±ç´«çš„ï¼Œåˆ°æ—¶å€™æˆ‘ä»¬ä¼šé€šè¿‡manifest.jsonæ‰¾åˆ°react.dll.jsæ–‡ä»¶ä¸­çš„æ¨¡å—è¿›è¡ŒåŠ è½½ 5.2 DllReferencePluginåœ¨æˆ‘ä»¬çš„é¡¹ç›®ä¸­å¯ä»¥å¼•ç”¨åˆšæ‰æ‰“åŒ…å¥½çš„åŠ¨æ€é“¾æ¥åº“ 12345678910const DllReferencePlugin = require('webpack/lib/DllReferencePlugin');const AddAssetHtmlWebpackPlugin = require('add-asset-html-webpack-plugin');// æ„å»ºæ—¶ä¼šå¼•ç”¨åŠ¨æ€é“¾æ¥åº“çš„å†…å®¹new DllReferencePlugin(&#123; manifest:path.resolve(__dirname,'dll/manifest.json')&#125;),// éœ€è¦æ‰‹åŠ¨å¼•å…¥react.dll.jsnew AddAssetHtmlWebpackPlugin( &#123; filepath: path.resolve(__dirname,'dll/react.dll.js') &#125;) ä½¿ç”¨DllPluginå¯ä»¥å¤§å¹…åº¦æé«˜æ„å»ºé€Ÿåº¦ 6.åŠ¨æ€åŠ è½½å®ç°ç‚¹å‡»ååŠ¨æ€åŠ è½½æ–‡ä»¶ 12345678let btn = document.createElement('button');btn.innerHTML = 'ç‚¹å‡»åŠ è½½è§†é¢‘';btn.addEventListener('click',()=&gt;&#123; import('./video').then(res=&gt;&#123; console.log(res.default); &#125;);&#125;);document.body.appendChild(btn); ç»™åŠ¨æ€å¼•å…¥çš„æ–‡ä»¶å¢åŠ åå­— 123456output:&#123; chunkFilename:'[name].min.js'&#125;import(/* webpackChunkName: \"video\" */ './video').then(res=&gt;&#123; console.log(res.default);&#125;) è¿™æ ·æ‰“åŒ…åçš„ç»“æœæœ€ç»ˆçš„æ–‡ä»¶å°±æ˜¯ video.min.js 7.æ‰“åŒ…æ–‡ä»¶åˆ†æå·¥å…·å®‰è£…webpack-bundle-analyzeræ’ä»¶ 1npm install --save-dev webpack-bundle-analyzer ä½¿ç”¨æ’ä»¶ 12const &#123;BundleAnalyzerPlugin&#125; = require('webpack-bundle-analyzer');mode !== \"development\" &amp;&amp; new BundleAnalyzerPlugin() é»˜è®¤å°±ä¼šå±•ç°å½“å‰åº”ç”¨çš„åˆ†æå›¾è¡¨ 8.SplitChunksæˆ‘ä»¬åœ¨æ¥çœ‹ä¸‹SplitChunksè¿™ä¸ªé…ç½®ï¼Œä»–å¯ä»¥åœ¨ç¼–è¯‘æ—¶æŠ½ç¦»ç¬¬ä¸‰æ–¹æ¨¡å—ã€å…¬å…±æ¨¡å— å°†é¡¹ç›®é…ç½®æˆå¤šå…¥å£æ–‡ä»¶ 1234entry:&#123; a:'./src/a.js', b:'./src/b.js'&#125; æˆ‘ä»¬è®©a,bä¸¤ä¸ªæ¨¡å—åŒæ—¶å¼•ç”¨jquery,åˆ«å¿˜äº†å»æ‰ä¹‹å‰çš„externalsé…ç½® é…ç½®SplitChunksæ’ä»¶ é»˜è®¤é…ç½®åœ¨æ­¤ï¼Œæˆ‘ä¸€ä¸ªä¸ªæè¿°ä¸‹å«ä¹‰ 12345678910111213141516171819202122splitChunks: &#123; chunks: 'async', // åˆ†å‰²å¼‚æ­¥æ¨¡å— minSize: 30000, // åˆ†å‰²çš„æ–‡ä»¶æœ€å°å¤§å° maxSize: 0, minChunks: 1, // å¼•ç”¨æ¬¡æ•° maxAsyncRequests: 5, // æœ€å¤§å¼‚æ­¥è¯·æ±‚æ•° maxInitialRequests: 3, // æœ€å¤§åˆå§‹åŒ–è¯·æ±‚æ•° automaticNameDelimiter: '~', // æŠ½ç¦»çš„å‘½ååˆ†éš”ç¬¦ automaticNameMaxLength: 30, // åå­—æœ€å¤§é•¿åº¦ name: true, cacheGroups: &#123; // ç¼“å­˜ç»„ vendors: &#123; // å…ˆæŠ½ç¦»ç¬¬ä¸‰æ–¹ test: /[\\\\/]node_modules[\\\\/]/, priority: -10 &#125;, default: &#123; minChunks: 2, priority: -20, // ä¼˜å…ˆçº§ reuseExistingChunk: true &#125; &#125;&#125; æˆ‘ä»¬å°†asyncæ”¹ä¸ºinitial æˆ‘ä»¬åœ¨ä¸ºæ¯ä¸ªæ–‡ä»¶åŠ¨æ€å¯¼å…¥lodashåº“,å¹¶ä¸”æ”¹æˆasync 1import('lodash') ä¸ºæ¯ä¸ªå…¥å£å¼•å…¥c.js,å¹¶ä¸”æ”¹é€ é…ç½®æ–‡ä»¶ 123456789101112131415splitChunks: &#123; chunks: 'all', name: true, cacheGroups: &#123; vendors: &#123; test: /[\\\\/]node_modules[\\\\/]/, priority: -10 &#125;, default: &#123; minSize:1, // ä¸æ˜¯ç¬¬ä¸‰æ–¹æ¨¡å—ï¼Œè¢«å¼•å…¥ä¸¤æ¬¡ä¹Ÿä¼šè¢«æŠ½ç¦» minChunks: 2, priority: -20, &#125; &#125;&#125; è¿™æ ·å†åè¿‡æ¥çœ‹chunksçš„å‚æ•°æ˜¯ä¸æ˜¯å°±äº†ç„¶äºèƒ¸å•¦ï¼ 9.çƒ­æ›´æ–°æ¨¡å—çƒ­æ›¿æ¢ï¼ˆHMR - Hot Module Replacementï¼‰æ˜¯ webpack æä¾›çš„æœ€æœ‰ç”¨çš„åŠŸèƒ½ä¹‹ä¸€ã€‚å®ƒå…è®¸åœ¨è¿è¡Œæ—¶æ›¿æ¢ï¼Œæ·»åŠ ï¼Œåˆ é™¤å„ç§æ¨¡å—ï¼Œè€Œæ— éœ€è¿›è¡Œå®Œå…¨åˆ·æ–°é‡æ–°åŠ è½½æ•´ä¸ªé¡µé¢ ä¿ç•™åœ¨å®Œå…¨é‡æ–°åŠ è½½é¡µé¢æ—¶ä¸¢å¤±çš„åº”ç”¨ç¨‹åºçš„çŠ¶æ€ åªæ›´æ–°æ”¹å˜çš„å†…å®¹ï¼Œä»¥èŠ‚çœå¼€å‘æ—¶é—´ è°ƒæ•´æ ·å¼æ›´åŠ å¿«é€Ÿï¼Œå‡ ä¹ç­‰åŒäºå°±åœ¨æµè§ˆå™¨è°ƒè¯•å™¨ä¸­æ›´æ”¹æ ·å¼ å¯ç”¨çƒ­æ›´æ–°ï¼Œé»˜è®¤æ ·å¼å¯ä»¥æ”¯æŒçƒ­æ›´æ–°ï¼Œå¦‚æœä¸æ”¯æŒçƒ­æ›´æ–°åˆ™é‡‡ç”¨å¼ºåˆ¶åˆ·æ–° 1234devServer:&#123; hot:true&#125;new webpack.NamedModulesPlugin(), è®©jsæ”¯æŒçƒ­æ›´æ–° 12345import sum from './sum';console.log(sum(1,2));if(module.hot)&#123; // å¦‚æœæ”¯æŒçƒ­æ›´æ–° module.hot.accept(); // å½“å…¥å£æ–‡ä»¶å˜åŒ–åé‡æ–°æ‰§è¡Œå½“å‰å…¥å£æ–‡ä»¶&#125; 10.IgnorePluginå¿½ç•¥ importå’Œrequireè¯­æ³• 1new webpack.IgnorePlugin(/^\\.\\/locale$/, /moment$/) 11.è´¹æ—¶åˆ†æå¯ä»¥è®¡ç®—æ¯ä¸€æ­¥æ‰§è¡Œçš„è¿è¡Œé€Ÿåº¦ 1234const SpeedMeasureWebpackPlugin = require('speed-measure-webpack-plugin');const smw = new SpeedMeasureWebpackPlugin(); module.exports =smw.wrap(&#123;&#125;); 12.noParsemodule.noParseï¼Œå¯¹ç±»ä¼¼jqè¿™ç±»ä¾èµ–åº“ï¼Œå†…éƒ¨ä¸ä¼šå¼•ç”¨å…¶ä»–åº“ï¼Œæˆ‘ä»¬åœ¨æ‰“åŒ…çš„æ—¶å€™å°±æ²¡æœ‰å¿…è¦å»è§£æï¼Œè¿™æ ·èƒ½å¤Ÿå¢åŠ æ‰“åŒ…é€Ÿç‡ 1noParse:/jquery/ 13.resolve12345resolve: &#123; extensions: [\".js\",\".jsx\",\".json\",\".css\"], alias:&#123;&#125;, modules:['node_modules']&#125;, 14.include/excludeåœ¨ä½¿ç”¨loaderæ—¶,å¯ä»¥æŒ‡å®šå“ªäº›æ–‡ä»¶ä¸é€šè¿‡loader,æˆ–è€…æŒ‡å®šå“ªäº›æ–‡ä»¶é€šè¿‡loader 123456&#123; test: /\\.js$/, use: \"babel-loader\", // include:path.resolve(__dirname,'src'), exclude:/node_modules/&#125;, 15.happypackå¤šçº¿ç¨‹æ‰“åŒ…ï¼Œæˆ‘ä»¬å¯ä»¥å°†ä¸åŒçš„é€»è¾‘äº¤ç»™ä¸åŒçš„çº¿ç¨‹æ¥å¤„ç† 1npm install --save-dev happypack ä½¿ç”¨æ’ä»¶ 1234567891011121314151617181920212223const HappyPack = require('happypack');rules:[ &#123; test: /\\.js$/, use: 'happypack/loader?id=jsx' &#125;, &#123; test: /\\.less$/, use: 'happypack/loader?id=styles' &#125;,]new HappyPack(&#123; id: 'jsx', threads: 4, loaders: [ 'babel-loader' ]&#125;),new HappyPack(&#123; id: 'styles', threads: 2, loaders: [ 'style-loader', 'css-loader', 'less-loader' ]&#125;)","categories":[{"name":"è½¬è½½","slug":"è½¬è½½","permalink":"http://blog.curtaintan.club/categories/%E8%BD%AC%E8%BD%BD/"},{"name":"webpack","slug":"è½¬è½½/webpack","permalink":"http://blog.curtaintan.club/categories/%E8%BD%AC%E8%BD%BD/webpack/"}],"tags":[{"name":"webpack","slug":"webpack","permalink":"http://blog.curtaintan.club/tags/webpack/"}]},{"title":"[è½¬è½½]ä»0æ­å»ºè‡ªå·±çš„webpackå¼€å‘ç¯å¢ƒï¼ˆäºŒï¼‰","slug":"[è½¬è½½]-ä»0æ­å»ºè‡ªå·±çš„webpackå¼€å‘ç¯å¢ƒï¼ˆäºŒï¼‰","date":"2020-02-12T15:37:37.000Z","updated":"2020-02-12T15:52:07.386Z","comments":true,"path":"2020/02/12/[è½¬è½½]-ä»0æ­å»ºè‡ªå·±çš„webpackå¼€å‘ç¯å¢ƒï¼ˆäºŒï¼‰/","link":"","permalink":"http://blog.curtaintan.club/2020/02/12/[%E8%BD%AC%E8%BD%BD]-%E4%BB%8E0%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84webpack%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%EF%BC%88%E4%BA%8C%EF%BC%89/","excerpt":"","text":"Webpackä¸­å¿…é¡»æŒæ¡çš„é…ç½®loaderä¸»è¦ç”¨äºæŠŠæ¨¡å—åŸå†…å®¹æŒ‰ç…§éœ€æ±‚è½¬æ¢æˆæ–°å†…å®¹ï¼Œå¯ä»¥åŠ è½½é JS æ¨¡å—ï¼é€šè¿‡ä½¿ç”¨ä¸åŒçš„Loaderï¼ŒWebpackå¯ä»¥æŠŠä¸åŒçš„æ–‡ä»¶éƒ½è½¬æˆJSæ–‡ä»¶,æ¯”å¦‚CSSã€ES6/7ã€JSXç­‰ã€‚ æˆ‘ä»¬æ¥çœ‹çœ‹è¿™äº›æˆ‘ä»¬å¿…é¡»æŒæ¡çš„loader! 1.loaderçš„ç¼–å†™1.1 loaderçš„ä½¿ç”¨ testï¼šåŒ¹é…å¤„ç†æ–‡ä»¶çš„æ‰©å±•åçš„æ­£åˆ™è¡¨è¾¾å¼ useï¼šloaderåç§°ï¼Œå°±æ˜¯ä½ è¦ä½¿ç”¨æ¨¡å—çš„åç§° include/exclude:æ‰‹åŠ¨æŒ‡å®šå¿…é¡»å¤„ç†çš„æ–‡ä»¶å¤¹æˆ–å±è”½ä¸éœ€è¦å¤„ç†çš„æ–‡ä»¶å¤¹ options:ä¸ºloadersæä¾›é¢å¤–çš„è®¾ç½®é€‰é¡¹ é»˜è®¤loaderçš„é¡ºåºæ˜¯ä»ä¸‹åˆ°ä¸Šã€ä»å³å‘å·¦æ‰§è¡Œï¼Œå½“ç„¶æ‰§è¡Œé¡ºåºä¹Ÿå¯ä»¥æ‰‹åŠ¨å®šä¹‰çš„ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬ä¾æ¬¡ä»‹ç»å¸¸è§çš„loaderï¼Œæ¥æ„Ÿå—loaderçš„é­…åŠ›! æˆ‘ä»¬åŸºäºè¿™ä¸ªåŸºç¡€é…ç½®æ¥ç»§ç»­ç¼–å†™: 123456789101112131415161718192021222324252627282930313233const path = require(\"path\");const dev = require(\"./webpack.dev\");const prod = require(\"./webpack.prod\");const merge = require(\"webpack-merge\");const HtmlWebpackPlugin = require(\"html-webpack-plugin\");const &#123; CleanWebpackPlugin &#125; = require('clean-webpack-plugin');const base = &#123; entry:'./src/index.js', output: &#123; filename: \"[name].js\", path: path.resolve(__dirname, \"../dist\") &#125;, plugins: [ new HtmlWebpackPlugin(&#123; filename: 'index.html', template: path.resolve(__dirname, \"../public/template.html\"), hash: true, minify: &#123; removeAttributeQuotes: true &#125; &#125;), new CleanWebpackPlugin(&#123; cleanOnceBeforeBuildPatterns: [path.resolve('xxxx/*'),'**/*'], &#125;), ]&#125;;module.exports = env =&gt; &#123; if (env.development) &#123; return merge(base, dev); &#125; else &#123; return merge(base, prod); &#125;&#125;; 2.å¤„ç†CSSæ–‡ä»¶2.1 è§£æcssæ ·å¼æˆ‘ä»¬åœ¨jsæ–‡ä»¶ä¸­å¼•å…¥cssæ ·å¼ï¼ 1import './index.css'; å†æ¬¡æ‰§è¡Œæ‰“åŒ…æ—¶ï¼Œä¼šæç¤ºcssæ— æ³•è§£æ 123ERROR in ./src/index.css 1:4Module parse failed: Unexpected token (1:4)You may need an appropriate loader to handle this file type, currently no loaders are configured to process this file. See https://webpack.js.org/concepts#loaders å®‰è£…loader 1npm install style-loader css-loader --save-dev 12345678module: &#123; rules: [ &#123; test: /\\.css$/, use: [\"style-loader\", \"css-loader\"] &#125; ]&#125; 2.2 æŠ½ç¦»æ ·å¼æ–‡ä»¶é»˜è®¤åªåœ¨æ‰“åŒ…æ—¶è¿›è¡Œæ ·å¼æŠ½ç¦» 123456789module.exports = env =&gt; &#123; let isDev = env.development; const base = &#123;/*source...*/&#125; if (isDev) &#123; return merge(base, dev); &#125; else &#123; return merge(base, prod); &#125;&#125;; å®‰è£…æŠ½ç¦»æ’ä»¶ 1npm install mini-css-extract-plugin --save-dev é…ç½®æŠ½ç¦»æ’ä»¶ 1234567891011&#123; test: /\\.css$/, use: [ !isDev &amp;&amp; MiniCssExtractPlugin.loader, isDev &amp;&amp; 'style-loader', \"css-loader\" ].filter(Boolean)&#125;!isDev &amp;&amp; new MiniCssExtractPlugin(&#123; filename: \"css/[name].css\"&#125;) æœ€ç»ˆæ–‡ä»¶é…ç½®è´´ä¸€ä¸‹: 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647const path = require(\"path\");const dev = require(\"./webpack.dev\");const prod = require(\"./webpack.prod\");const merge = require(\"webpack-merge\");const MiniCssExtractPlugin = require(\"mini-css-extract-plugin\");const HtmlWebpackPlugin = require(\"html-webpack-plugin\");module.exports = env =&gt; &#123; let isDev = env.development; const base = &#123; entry: \"./src/index.js\", output: &#123; filename: \"[name].js\", path: path.resolve(__dirname, \"../dist\") &#125;, module: &#123; rules: [ &#123; test: /\\.css$/, use: [ !isDev &amp;&amp; MiniCssExtractPlugin.loader, isDev &amp;&amp; 'style-loader', \"css-loader\" ].filter(Boolean) &#125; ] &#125;, plugins:[ !isDev &amp;&amp; new MiniCssExtractPlugin(&#123; filename: \"css/[name].css\" &#125;), new HtmlWebpackPlugin(&#123; filename: \"index.html\", template: path.resolve(__dirname, \"../public/template.html\"), hash: true, minify: &#123; removeAttributeQuotes: true &#125; &#125;), ].filter(Boolean) &#125;; if (isDev) &#123; return merge(base, dev); &#125; else &#123; return merge(base, prod); &#125;&#125;; 2.3 cssé¢„å¤„ç†å™¨ä¸åŒçš„cssé¢„å¤„ç†å™¨è¦å®‰è£…ä¸åŒçš„loaderæ¥è¿›è¡Œè§£æ sass: sass-loader node-sass less: less-loader less stylus: stylus-loader stylus ä½¿ç”¨sass 123456789&#123; test:/\\.scss$/, use:[ !isDev &amp;&amp; MiniCssExtractPlugin.loader, isDev &amp;&amp; 'style-loader', \"css-loader\", \"sass-loader\" ].filter(Boolean)&#125; åœ¨cssæ–‡ä»¶ä¸­å¯èƒ½ä¼šä½¿ç”¨@importè¯­æ³•å¼•ç”¨cssæ–‡ä»¶,è¢«å¼•ç”¨çš„cssæ–‡ä»¶ä¸­å¯èƒ½è¿˜ä¼šå¯¼å…¥scss 1234567891011121314&#123; test: /\\.css$/, use: [ !isDev &amp;&amp; MiniCssExtractPlugin.loader, isDev &amp;&amp; 'style-loader', &#123; loader:\"css-loader\", options:&#123; importLoaders:1 // å¼•å…¥çš„æ–‡ä»¶éœ€è¦è°ƒç”¨sass-loaderæ¥å¤„ç† &#125; &#125;, \"sass-loader\" ].filter(Boolean)&#125;, 2.4 å¤„ç†æ ·å¼å‰ç¼€ä½¿ç”¨postcss-loaderå¢åŠ æ ·å¼å‰ç¼€ 1npm install postcss-loader autoprefixer åœ¨å¤„ç†csså‰å…ˆå¢åŠ å‰ç¼€ 123456789101112131415 &#123; test: /\\.css$/, use: [ !isDev &amp;&amp; MiniCssExtractPlugin.loader, isDev &amp;&amp; 'style-loader', &#123; loader:\"postcss-loader\", options:&#123; plugins:[require('autoprefixer')] &#125; &#125;, \"postcss-loader\", \"sass-loader\" ].filter(Boolean)&#125;, æˆ–è€…ä¹Ÿå¯ä»¥åˆ›å»ºpostcssçš„é…ç½®æ–‡ä»¶postcss.config.js 12345module.exports = &#123; plugins:[ require('autoprefixer') ]&#125; å¯ä»¥é…ç½®æµè§ˆå™¨çš„å…¼å®¹æ€§èŒƒå›´ .browserslistrc 1cover 99.5% 2.5 csså‹ç¼©åœ¨ç”Ÿäº§ç¯å¢ƒä¸‹æˆ‘ä»¬éœ€è¦å‹ç¼©cssæ–‡ä»¶,é…ç½®minimizeré€‰é¡¹,å®‰è£…å‹ç¼©æ’ä»¶ 1npm i optimize-css-assets-webpack-plugin terser-webpack-plugin --save-dev åœ¨webpack.prod.jsæ–‡ä»¶ä¸­é…ç½®å‹ç¼© 12345const OptimizeCSSAssetsPlugin = require('optimize-css-assets-webpack-plugin');const TerserJSPlugin = require('terser-webpack-plugin');optimization:&#123; minimizer:[new TerserJSPlugin(&#123;&#125;), new OptimizeCSSAssetsPlugin(&#123;&#125;)]&#125; 2.6 æ–‡ä»¶æŒ‡çº¹ Hashæ•´ä¸ªé¡¹ç›®çš„hashå€¼ chunkhash æ ¹æ®å…¥å£äº§ç”Ÿhashå€¼ contentHash æ ¹æ®æ¯ä¸ªæ–‡ä»¶çš„å†…å®¹äº§ç”Ÿçš„hashå€¼ æˆ‘ä»¬å¯ä»¥åˆç†çš„ä½¿ç”¨hashæˆ³ï¼Œè¿›è¡Œæ–‡ä»¶çš„ç¼“å­˜ 123!isDev &amp;&amp; new MiniCssExtractPlugin(&#123; filename: \"css/[name].[contentHash].css\"&#125;) 3.å¤„ç†æ–‡ä»¶ç±»å‹3.1 å¤„ç†å¼•ç”¨çš„å›¾ç‰‡1234import logo from './webpack.png';let img = document.createElement('img');img.src = logo;document.body.appendChild(img); ä½¿ç”¨file-loader,ä¼šå°†å›¾ç‰‡è¿›è¡Œæ‰“åŒ…ï¼Œå¹¶å°†æ‰“åŒ…åçš„è·¯å¾„è¿”å› 123456789&#123; test:/\\.jpe?g|png|gif/, use:&#123; loader:'file-loader', options:&#123; name:`img/[name].[ext]` &#125; &#125;&#125; 3.2 å¤„ç†iconäºŒè¿›åˆ¶æ–‡ä»¶ä¹Ÿæ˜¯ä½¿ç”¨file-loaderæ¥æ‰“åŒ… 123456&#123; test:/woff|ttf|eot|svg|otf/, use:&#123; loader:'file-loader' &#125;&#125; 3.3 è½¬åŒ–æˆbase64ä½¿ç”¨url-loaderå°†æ»¡è¶³æ¡ä»¶çš„å›¾ç‰‡è½¬åŒ–æˆbase64,ä¸æ»¡è¶³æ¡ä»¶çš„url-loaderä¼šè‡ªåŠ¨è°ƒç”¨file-loaderæ¥è¿›è¡Œå¤„ç† 12345678910&#123; test:/\\.jpe?g|png|gif/, use:&#123; loader:'url-loader', options:&#123; limit:100*1024, name:`img/[name].[ext]` &#125; &#125;&#125; 4.å¤„ç†JSæ¨¡å—4.1 å°†es6ä»£ç ç¼–è¯‘æˆes5ä»£ç ä»£ç çš„è½¬åŒ–å·¥ä½œè¦äº¤ç»™babelæ¥å¤„ç† 1npm install @babel/core @babel/preset-env babel-loader --save-dev @babel/coreæ˜¯babelä¸­çš„æ ¸å¿ƒæ¨¡å—ï¼Œ@babel/preset-env çš„ä½œç”¨æ˜¯es6è½¬åŒ–es5æ’ä»¶çš„æ’ä»¶é›†åˆï¼Œbabel-loaderæ˜¯webpackå’Œloaderçš„æ¡¥æ¢ã€‚ 123const sum = (a, b) =&gt; &#123; return a + b;&#125;; å¢åŠ babelçš„é…ç½®æ–‡ä»¶ .babelrc 12345&#123; \"presets\": [ [\"@babel/preset-env\"] ]&#125; é…ç½®loader 123module: &#123; rules: [&#123; test: /\\.js$/, use: \"babel-loader\" &#125;]&#125;, ç°åœ¨æ‰“åŒ…å·²ç»å¯ä»¥æˆåŠŸçš„å°†es6è¯­æ³•è½¬åŒ–æˆes5è¯­æ³•ï¼ 4.2 è§£æè£…é¥°å™¨1npm i @babel/plugin-proposal-class-properties @babel/plugin-proposal-decorators --save-dev 1234\"plugins\": [ [\"@babel/plugin-proposal-decorators\", &#123; \"legacy\": true &#125;], [\"@babel/plugin-proposal-class-properties\",&#123;\"loose\":true&#125;]] legacy:trueè¡¨ç¤ºç»§ç»­ä½¿ç”¨è£…é¥°å™¨è£…é¥°å™¨ï¼Œlooseä¸ºfalseæ—¶ä¼šé‡‡ç”¨Object.definePropertyå®šä¹‰å±æ€§ Pluginä¼šè¿è¡Œåœ¨Presetä¹‹å‰ Plugin ä¼šä»ç¬¬ä¸€ä¸ªå¼€å§‹é¡ºåºæ‰§è¡Œï¼ŒPresetåˆ™æ˜¯ç›¸åçš„ 4.3 polyfillæ ¹æ®.browserslistrcæ–‡ä»¶ï¼Œè½¬åŒ–ä½¿ç”¨åˆ°çš„æµè§ˆå™¨api 123456\"presets\": [ [\"@babel/preset-env\",&#123; \"useBuiltIns\":\"usage\", // æŒ‰éœ€åŠ è½½ \"corejs\":2 // corejs æ›¿ä»£äº†ä»¥å‰çš„pollyfill &#125;]] å®‰è£…corejs 1npm install core-js@2 --save ä½¿ç”¨transform-runtimeA plugin that enables the re-use of Babelâ€™s injected helper code to save on codesize.å¯ä»¥å¸®æˆ‘ä»¬èŠ‚çœä»£ç  1npm install --save-dev @babel/plugin-transform-runtime @babel/runtime åœ¨.babelrcä¸­é…ç½®æ’ä»¶ 123\"plugins\": [ \"@babel/plugin-transform-runtime\"] 4.4 æ·»åŠ eslintå®‰è£…eslint 12npm install eslintnpx eslint --init # åˆå§‹åŒ–é…ç½®æ–‡ä»¶ 12345&#123; test:&#x2F;\\.js&#x2F;, enforce:&#39;pre&#39;, use:&#39;eslint-loader&#39;&#125;, é…ç½®eslint-loaderå¯ä»¥å®æ—¶æ ¡éªŒjsæ–‡ä»¶çš„æ­£ç¡®æ€§,preè¡¨ç¤ºåœ¨æ‰€æœ‰loaderæ‰§è¡Œå‰æ‰§è¡Œ 5.source-map eval ç”Ÿæˆä»£ç  æ¯ä¸ªæ¨¡å—éƒ½è¢«evalæ‰§è¡Œ,æ¯ä¸€ä¸ªæ‰“åŒ…åçš„æ¨¡å—åé¢éƒ½å¢åŠ äº†åŒ…å«sourceURL source-map äº§ç”Ÿmapæ–‡ä»¶ inline ä¸ä¼šç”Ÿæˆç‹¬ç«‹çš„ .mapæ–‡ä»¶,ä¼šä»¥dataURLå½¢å¼æ’å…¥ cheap å¿½ç•¥æ‰“åŒ…åçš„åˆ—ä¿¡æ¯ï¼Œä¸ä½¿ç”¨loaderä¸­çš„sourcemap module æ²¡æœ‰åˆ—ä¿¡æ¯ï¼Œä½¿ç”¨loaderä¸­çš„sourcemap(æ²¡æœ‰åˆ—ä¿¡æ¯) 1devtool:isDev?'cheap-module-eval-source-map':false æ¯ä¸ªåº“ä¸­é‡‡ç”¨çš„sourcemapæ–¹å¼ä¸ä¸€,å¯ä»¥æ ¹æ®è‡ªå·±çš„éœ€è¦è‡ªè¡Œé…ç½® 6.resolveè§£ææƒ³å®ç°ä½¿ç”¨requireæˆ–æ˜¯importçš„æ—¶å€™,å¯ä»¥è‡ªåŠ¨å°è¯•æ·»åŠ æ‰©å±•åè¿›è¡ŒåŒ¹é… 123resolve: &#123; extensions: [\".js\", \".jsx\", \".json\", \".css\", \".ts\", \".tsx\", \".vue\"]&#125;, 7.æ‹·è´é™æ€æ–‡ä»¶æœ‰äº›æ—¶å€™åœ¨æ‰“åŒ…æ—¶å¸Œæœ›å°†ä¸€äº›é™æ€èµ„æºæ–‡ä»¶è¿›è¡Œæ‹·è´,å¯ä»¥ä½¿ç”¨copy-webpack-plugin å®‰è£…æ’ä»¶ 1npm i copy-webpack-plugin --save-dev ä½¿ç”¨æ‹·è´æ’ä»¶ 1234const CopyWebpackPlugin = require('copy-webpack-plugin');new CopyWebpackPlugin([ &#123;from:path.resolve('./src/static'),to:path.resolve('./dist')&#125;,]) 8.é…ç½®TSç¯å¢ƒ8.1 ä½¿ç”¨ts-loaderä½¿ç”¨tséœ€è¦å®‰è£…tsç›¸å…³é…ç½® 1npm install typescript ts-loader --save-dev ç”Ÿæˆtsçš„é…ç½®æ–‡ä»¶ 1npx tsc --init é…ç½®ts-loader 12345&#123; test:/\\.tsx?/, use: ['ts-loader'], exclude: /node_modules/&#125; å°†å…¥å£æ–‡ä»¶æ›´æ”¹æˆtsæ–‡ä»¶ 12let a:string = 'hello';console.log(a); æ‰§è¡Œnpm run devå‘ç°å·²ç»å¯ä»¥æ­£å¸¸çš„è§£ætsæ–‡ä»¶å•¦ï¼ 8.2 ä½¿ç”¨ preset-typescriptä¸éœ€è¦å€ŸåŠ©typescript 1npm install @babel/preset-typescript 1234567891011121314151617&#123; \"presets\": [ [\"@babel/preset-env\",&#123; \"useBuiltIns\":\"usage\", \"corejs\":2 &#125;], \"@babel/preset-react\", [\"@babel/preset-typescript\",&#123; \"allExtensions\": true &#125;] ], \"plugins\": [ [\"@babel/plugin-proposal-decorators\", &#123; \"legacy\": true &#125;], [\"@babel/plugin-proposal-class-properties\",&#123;\"loose\":true&#125;], \"@babel/plugin-transform-runtime\" ]&#125; 9.é…ç½®ts+reactç¯å¢ƒå®‰è£…reactç›¸å…³æ¨¡å— 12npm i @babel/preset-react --save-dev # è§£æjsxè¯­æ³•npm i react @types/react @types/react-dom react react-dom typescript 1234567891011121314151617181920import React from 'react';import ReactDOM from 'react-dom';const state = &#123;number:0&#125;;type State = Readonly&lt;typeof state&gt;;class Counter extends React.Component&lt;object,State&gt;&#123; state:State = state handleClick =()=&gt;&#123; this.setState(&#123;number:this.state.number+1&#125;) &#125; render()&#123; const &#123;number&#125; = this.state; return ( &lt;div&gt; &lt;button onClick=&#123;this.handleClick&#125;&gt;ç‚¹å‡»&lt;/button&gt; &#123;number&#125; &lt;/div&gt; ) &#125;&#125;ReactDOM.render(&lt;Counter&gt;&lt;/Counter&gt;,document.getElementById('root')); 10.é…ç½®ts+vueç¯å¢ƒå®‰è£…vueæ‰€éœ€è¦çš„æ¨¡å— 12npm install vue-loader vue-template-compiler --save-devnpm install vue vue-property-decorator é…ç½®ts-loader 12345678910&#123; test: /\\.tsx?/, use: &#123; loader:'ts-loader', options: &#123; appendTsSuffixTo: [/\\.vue$/], &#125;, &#125;, exclude: /node_modules/&#125; ä½¿ç”¨vue-loaderæ’ä»¶ 12const VueLoaderPlugin = require('vue-loader/lib/plugin');new VueLoaderPlugin(); é…ç½®è§£æ.vueæ–‡ä»¶ 1234&#123; test:/\\.vue$/, use:'vue-loader'&#125; å¢åŠ vue-shims.d.tsï¼Œå¯ä»¥è¯†åˆ«.vueæ–‡ä»¶ 1234declare module &#39;*.vue&#39; &#123; import Vue from &#39;vue&#39;; export default Vue;&#125; index.tsxæ–‡ä»¶ 12345import Vue from 'vue';import App from './App.vue';let vm = new Vue(&#123; render:h=&gt;h(App)&#125;).$mount('#root') App.vueæ–‡ä»¶ 123456789101112&lt;template&gt; &lt;div&gt; &lt;div v-for=\"(todo,index) in todos\" :key=\"index\"&gt;&#123;&#123;todo&#125;&#125;&lt;/div&gt; &lt;/div&gt;&lt;/template&gt;&lt;script lang=\"ts\"&gt;import &#123;Component,Vue&#125; from 'vue-property-decorator';@Componentexport default class Todo extends Vue&#123; public todos = ['é¦™è•‰','è‹¹æœ','æ©˜å­']&#125;&lt;/script&gt; 11.é…ç½®ä»£ç†è®¾ç½®æœåŠ¡ç«¯æ¥å£ 123456const express = require('express');const app = express();app.get('/api/list', (req, res) =&gt; &#123; res.send(['é¦™è•‰', 'è‹¹æœ', 'æ©˜å­']);&#125;);app.listen(4000); å®‰è£…axiosè·å–æ•°æ® 1npm install axios --save-dev é…ç½®æ¥å£è¯·æ±‚ 1234567891011121314151617181920&lt;template&gt; &lt;div&gt; &lt;div v-for=\"(todo,index) in todos\" :key=\"index\"&gt; &#123;&#123;todo&#125;&#125; &lt;/div&gt; &lt;/div&gt;&lt;/template&gt;&lt;script lang=\"ts\"&gt;import axios from 'axios';import &#123;Component ,Vue&#125; from 'vue-property-decorator';@Componentexport default class Todo extends Vue&#123; public todos:string[] =[]; async mounted()&#123; let &#123; data &#125; = await axios.get('/api/list'); this.todos = data &#125;&#125;&lt;/script&gt; é…ç½®æœåŠ¡å™¨ä»£ç†è·¯ç”± 12345proxy: &#123; '/api': &#123; target: 'http://localhost:4000', &#125;,&#125;","categories":[{"name":"è½¬è½½","slug":"è½¬è½½","permalink":"http://blog.curtaintan.club/categories/%E8%BD%AC%E8%BD%BD/"},{"name":"webpack","slug":"è½¬è½½/webpack","permalink":"http://blog.curtaintan.club/categories/%E8%BD%AC%E8%BD%BD/webpack/"}],"tags":[{"name":"webpack","slug":"webpack","permalink":"http://blog.curtaintan.club/tags/webpack/"}]},{"title":"[è½¬è½½]ä»0æ­å»ºè‡ªå·±çš„webpackå¼€å‘ç¯å¢ƒï¼ˆä¸€ï¼‰","slug":"[è½¬è½½]ä»0æ­å»ºè‡ªå·±çš„webpackå¼€å‘ç¯å¢ƒï¼ˆä¸€ï¼‰","date":"2020-02-12T15:30:46.000Z","updated":"2020-02-12T15:55:05.396Z","comments":true,"path":"2020/02/12/[è½¬è½½]ä»0æ­å»ºè‡ªå·±çš„webpackå¼€å‘ç¯å¢ƒï¼ˆä¸€ï¼‰/","link":"","permalink":"http://blog.curtaintan.club/2020/02/12/[%E8%BD%AC%E8%BD%BD]%E4%BB%8E0%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84webpack%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%EF%BC%88%E4%B8%80%EF%BC%89/","excerpt":"","text":"ä»0æ­å»ºè‡ªå·±çš„webpackå¼€å‘ç¯å¢ƒ1.ä»€ä¹ˆæ˜¯Webpackï¼Ÿwebpack æ˜¯ä¸€ä¸ªç°ä»£ JavaScript åº”ç”¨ç¨‹åºçš„é™æ€æ¨¡å—æ‰“åŒ…å™¨(module bundler),å½“ webpack å¤„ç†åº”ç”¨ç¨‹åºæ—¶ï¼Œå®ƒä¼šé€’å½’åœ°æ„å»ºä¸€ä¸ªä¾èµ–å…³ç³»å›¾(dependency graph)ï¼Œå…¶ä¸­åŒ…å«åº”ç”¨ç¨‹åºéœ€è¦çš„æ¯ä¸ªæ¨¡å—ï¼Œç„¶åå°†æ‰€æœ‰è¿™äº›æ¨¡å—æ‰“åŒ…æˆä¸€ä¸ªæˆ–å¤šä¸ª bundle ä½¿ç”¨Webpackä½œä¸ºå‰ç«¯æ„å»ºå·¥å…·ï¼š ä»£ç è½¬æ¢ï¼šTypeScript ç¼–è¯‘æˆ JavaScriptã€SCSS ç¼–è¯‘æˆ CSS ç­‰ã€‚ æ–‡ä»¶ä¼˜åŒ–ï¼šå‹ç¼© JavaScriptã€CSSã€HTML ä»£ç ï¼Œå‹ç¼©åˆå¹¶å›¾ç‰‡ç­‰ã€‚ ä»£ç åˆ†å‰²ï¼šæå–å¤šä¸ªé¡µé¢çš„å…¬å…±ä»£ç ã€æå–é¦–å±ä¸éœ€è¦æ‰§è¡Œéƒ¨åˆ†çš„ä»£ç è®©å…¶å¼‚æ­¥åŠ è½½ã€‚ æ¨¡å—åˆå¹¶ï¼šåœ¨é‡‡ç”¨æ¨¡å—åŒ–çš„é¡¹ç›®é‡Œä¼šæœ‰å¾ˆå¤šä¸ªæ¨¡å—å’Œæ–‡ä»¶ï¼Œéœ€è¦æ„å»ºåŠŸèƒ½æŠŠæ¨¡å—åˆ†ç±»åˆå¹¶æˆä¸€ä¸ªæ–‡ä»¶ã€‚ è‡ªåŠ¨åˆ·æ–°ï¼šç›‘å¬æœ¬åœ°æºä»£ç çš„å˜åŒ–ï¼Œè‡ªåŠ¨é‡æ–°æ„å»ºã€åˆ·æ–°æµè§ˆå™¨ã€‚ ä»£ç æ ¡éªŒï¼šåœ¨ä»£ç è¢«æäº¤åˆ°ä»“åº“å‰éœ€è¦æ ¡éªŒä»£ç æ˜¯å¦ç¬¦åˆè§„èŒƒï¼Œä»¥åŠå•å…ƒæµ‹è¯•æ˜¯å¦é€šè¿‡ã€‚ è‡ªåŠ¨å‘å¸ƒï¼šæ›´æ–°å®Œä»£ç åï¼Œè‡ªåŠ¨æ„å»ºå‡ºçº¿ä¸Šå‘å¸ƒä»£ç å¹¶ä¼ è¾“ç»™å‘å¸ƒç³»ç»Ÿã€‚ åœ¨webpackåº”ç”¨ä¸­æœ‰ä¸¤ä¸ªæ ¸å¿ƒ: 1) æ¨¡å—è½¬æ¢å™¨ï¼Œç”¨äºæŠŠæ¨¡å—åŸå†…å®¹æŒ‰ç…§éœ€æ±‚è½¬æ¢æˆæ–°å†…å®¹ï¼Œå¯ä»¥åŠ è½½é JS æ¨¡å— 2) æ‰©å±•æ’ä»¶ï¼Œåœ¨ Webpack æ„å»ºæµç¨‹ä¸­çš„ç‰¹å®šæ—¶æœºæ³¨å…¥æ‰©å±•é€»è¾‘æ¥æ”¹å˜æ„å»ºç»“æœæˆ–åšä½ æƒ³è¦çš„äº‹æƒ…ã€‚ 2.åˆå§‹åŒ–é¡¹ç›®123â”œâ”€â”€ src # æºç ç›®å½•â”‚ â”œâ”€â”€ a-module.jsâ”‚ â””â”€â”€ index.js ç¼–å†™ a-module.js 1module.exports = 'hello'; ç¼–å†™ index.js 12let a = require('./a-module');console.log(a); è¿™é‡Œæˆ‘ä»¬ä½¿ç”¨CommonJSæ¨¡å—çš„æ–¹å¼å¼•å…¥ï¼Œè¿™ç§æ–¹å¼é»˜è®¤åœ¨æµè§ˆå™¨ä¸Šæ˜¯æ— æ³•è¿è¡Œçš„ï¼Œæˆ‘ä»¬å¸Œæœ›é€šè¿‡ webpack æ¥è¿›è¡Œæ‰“åŒ…ï¼ 3.webpackå¿«é€Ÿä¸Šæ‰‹3.1 å®‰è£…12npm init -ynpm install webpack webpack-cli --save-dev webpacké»˜è®¤æ”¯æŒ0é…ç½®,é…ç½®scriptsè„šæœ¬ 123\"scripts\": &#123; \"build\": \"webpack\"&#125; æ‰§è¡Œnpm run build,é»˜è®¤ä¼šè°ƒç”¨ node_modules/.binä¸‹çš„webpackå‘½ä»¤ï¼Œå†…éƒ¨ä¼šè°ƒç”¨webpack-cliè§£æç”¨æˆ·å‚æ•°è¿›è¡Œæ‰“åŒ…ã€‚é»˜è®¤ä¼šä»¥ src/index.js ä½œä¸ºå…¥å£æ–‡ä»¶ã€‚ è¿™é‡Œä¹Ÿå¯ä»¥ä½¿ç”¨npx webpack,npx æ˜¯ 5.2ç‰ˆæœ¬ä¹‹ånpmæä¾›çš„å‘½ä»¤å¯ä»¥æ‰§è¡Œ.binä¸‹çš„å¯æ‰§è¡Œæ–‡ä»¶ æˆ‘ä»¬å¯ä»¥å‘ç°å·²ç»äº§ç”Ÿäº†distç›®å½•ï¼Œæ­¤ç›®å½•ä¸ºæœ€ç»ˆæ‰“åŒ…å‡ºçš„ç»“æœã€‚main.jså¯ä»¥åœ¨htmlä¸­ç›´æ¥å¼•ç”¨,è¿™é‡Œè¿˜æç¤ºæˆ‘ä»¬é»˜è®¤mode ä¸ºproduction 3.2 webpack.config.jsæˆ‘ä»¬æ‰“åŒ…æ—¶ä¸€èˆ¬ä¸ä¼šé‡‡ç”¨0é…ç½®ï¼Œwebpackåœ¨æ‰“åŒ…æ—¶é»˜è®¤ä¼šæŸ¥æ‰¾å½“å‰ç›®å½•ä¸‹çš„ webpack.config.js or webpackfile.js æ–‡ä»¶ã€‚ é€šè¿‡é…ç½®æ–‡ä»¶è¿›è¡Œæ‰“åŒ… 12345678const path = require('path');module.exports = &#123; entry:'./src/index.js', output:&#123; filename:'bundle.js', // æ‰“åŒ…å‡ºçš„ç»“æœæ–‡ä»¶ path:path.resolve(__dirname,'dist') // æ‰“åŒ…åˆ°distç›®å½•ä¸‹ &#125;&#125; 3.3 é…ç½®æ‰“åŒ…çš„modeæˆ‘ä»¬éœ€è¦åœ¨æ‰“åŒ…æ—¶æä¾›modeå±æ€§æ¥åŒºåˆ†æ˜¯å¼€å‘ç¯å¢ƒè¿˜æ˜¯ç”Ÿäº§ç¯å¢ƒ,æ¥å®ç°é…ç½®æ–‡ä»¶çš„æ‹†åˆ† 1234â”œâ”€â”€ buildâ”‚ â”œâ”€â”€ webpack.base.jsâ”‚ â”œâ”€â”€ webpack.dev.jsâ”‚ â””â”€â”€ webpack.prod.js æˆ‘ä»¬å¯ä»¥é€šè¿‡æŒ‡å®šä¸åŒçš„æ–‡ä»¶æ¥è¿›è¡Œæ‰“åŒ… é…ç½®scriptsè„šæœ¬ 1234\"scripts\": &#123; \"build\": \"webpack --config ./build/webpack.prod\", \"dev\": \"webpack --config ./build/webpack.dev\"&#125; å¯ä»¥é€šè¿‡ config å‚æ•°æŒ‡å®š,ä½¿ç”¨å“ªä¸ªé…ç½®æ–‡ä»¶æ¥è¿›è¡Œæ‰“åŒ… é€šè¿‡envå‚æ•°åŒºåˆ† 1234\"scripts\": &#123; \"build\": \"webpack --env.production --config ./build/webpack.base\", \"dev\": \"webpack --env.development --config ./build/webpack.base\"&#125; æ”¹é€ webpack.baseæ–‡ä»¶é»˜è®¤å¯¼å‡ºå‡½æ•°ï¼Œä¼šå°†ç¯å¢ƒå˜é‡ä¼ å…¥åˆ°å‡½æ•°çš„å‚æ•°ä¸­ 123module.exports = (env)=&gt;&#123; console.log(env); // &#123; development: true &#125;&#125; åˆå¹¶é…ç½®æ–‡ä»¶ æˆ‘ä»¬å¯ä»¥åˆ¤æ–­å½“å‰ç¯å¢ƒæ˜¯å¦æ˜¯å¼€å‘ç¯å¢ƒæ¥åŠ è½½ä¸åŒçš„é…ç½®,è¿™é‡Œæˆ‘ä»¬éœ€è¦åšé…ç½®åˆå¹¶å®‰è£…webpack-merge: 1npm install webpack-merge --save-dev webpack.devé…ç½® 123module.exports = &#123; mode:'development'&#125; webpack.prodé…ç½® 123module.exports = &#123; mode:'production'&#125; webpack.baseé…ç½® 1234567891011121314151617181920const path = require('path');const merge = require('webpack-merge');// å¼€å‘ç¯å¢ƒconst dev = require('./webpack.dev');// ç”Ÿäº§ç¯å¢ƒconst prod = require('./webpack.prod');const base = &#123; // åŸºç¡€é…ç½® entry:'./src/index.js', output:&#123; filename:'bundle.js', path:path.resolve(__dirname,'../dist') &#125;&#125;module.exports = (env) =&gt;&#123; if(env.development)&#123; return merge(base,dev); &#125;else&#123; return merge(base,prod) &#125;&#125; åç»­çš„å¼€å‘ä¸­ï¼Œæˆ‘ä»¬ä¼šå°†å…¬å…±çš„é€»è¾‘æ”¾åˆ°baseä¸­,å¼€å‘å’Œç”Ÿäº§å¯¹çš„é…ç½®ä¹Ÿåˆ†åˆ«è¿›è¡Œå­˜æ”¾ï¼ 4.webpack-dev-serveré…ç½®å¼€å‘æœåŠ¡å™¨ï¼Œå¯ä»¥åœ¨å®ç°åœ¨å†…å­˜ä¸­æ‰“åŒ…,å¹¶ä¸”è‡ªåŠ¨å¯åŠ¨æœåŠ¡ 1npm install webpack-dev-server --save-dev 1234\"scripts\": &#123; \"build\": \"webpack --env.production --config ./build/webpack.base\", \"dev\": \"webpack-dev-server --env.development --config ./build/webpack.base\"&#125; é€šè¿‡æ‰§è¡Œnpm run devæ¥å¯å¯åŠ¨å¼€å‘ç¯å¢ƒ é»˜è®¤ä¼šåœ¨å½“å‰æ ¹ç›®å½•ä¸‹å¯åŠ¨æœåŠ¡ é…ç½®å¼€å‘æœåŠ¡çš„é…ç½® 12345678910const path = require('path')module.exports = &#123; mode:'development', devServer:&#123; // æ›´æ”¹é™æ€æ–‡ä»¶ç›®å½•ä½ç½® contentBase:path.resolve(__dirname,'../dist'), compress:true, // å¼€å¯gzip port:3000, // æ›´æ”¹ç«¯å£å· &#125;&#125; 5.æ‰“åŒ…Htmlæ’ä»¶5.1 å•å…¥å£æ‰“åŒ…è‡ªåŠ¨äº§ç”Ÿhtmlï¼Œå¹¶å¼•å…¥æ‰“åŒ…åçš„æ–‡ä»¶ ç¼–è¾‘webpack.baseæ–‡ä»¶ 123456789101112const HtmlWebpackPlugin = require('html-webpack-plugin');plugins:[ new HtmlWebpackPlugin(&#123; filename:'index.html', // æ‰“åŒ…å‡ºæ¥çš„æ–‡ä»¶å template:path.resolve(__dirname,'../public/index.html'), hash:true, // åœ¨å¼•ç”¨èµ„æºçš„åé¢å¢åŠ hashæˆ³ minify:&#123; removeAttributeQuotes:true // åˆ é™¤å±æ€§åŒå¼•å· &#125; &#125;)] 5.2 å¤šå…¥å£æ‰“åŒ…æ ¹æ®ä¸åŒå…¥å£ ç”Ÿæˆå¤šä¸ªjsæ–‡ä»¶ï¼Œå¼•å…¥åˆ°ä¸åŒhtmlä¸­ 123â”€â”€ src â”œâ”€â”€ entry-1.js â””â”€â”€ entry-2.js å¤šå…¥å£éœ€è¦é…ç½®å¤šä¸ªentry 123456789entry:&#123; jquery:['jquery'], // æ‰“åŒ…jquery entry1:path.resolve(__dirname,'../src/entry-1.js'), entry2:path.resolve(__dirname,'../src/entry-2.js')&#125;,output:&#123; filename:'[name].js', path:path.resolve(__dirname,'../dist')&#125;, äº§ç”Ÿå¤šä¸ªHtmlæ–‡ä»¶ 1234567891011121314151617181920new HtmlWebpackPlugin(&#123; filename:'index.html', template:path.resolve(__dirname,'../public/template.html'), hash:true, minify:&#123; removeAttributeQuotes:true &#125;, chunks:['jquery','entry1'], // å¼•å…¥çš„chunk æœ‰jquery,entry&#125;),new HtmlWebpackPlugin(&#123; filename:'login.html', template:path.resolve(__dirname,'../public/template.html'), hash:true, minify:&#123; removeAttributeQuotes:true &#125;, inject:false, // inject ä¸ºfalseè¡¨ç¤ºä¸æ³¨å…¥jsæ–‡ä»¶ chunksSortMode:'manual', // æ‰‹åŠ¨é…ç½®ä»£ç å—é¡ºåº chunks:['entry2','jquery']&#125;) ä»¥ä¸Šçš„æ–¹å¼ä¸æ˜¯å¾ˆä¼˜é›…ï¼Œæ¯æ¬¡éƒ½éœ€è¦æ‰‹åŠ¨æ·»åŠ HtmlPluginåº”è¯¥åŠ¨æ€äº§ç”Ÿhtmlæ–‡ä»¶ï¼Œåƒè¿™æ ·: 12345678910111213141516171819202122let htmlPlugins = [ &#123; entry: \"entry1\", html: \"index.html\" &#125;, &#123; entry: \"entry2\", html: \"login.html\" &#125;].map( item =&gt; new HtmlWebpackPlugin(&#123; filename: item.html, template: path.resolve(__dirname, \"../public/template.html\"), hash: true, minify: &#123; removeAttributeQuotes: true &#125;, chunks: [\"jquery\", item.entry] &#125;));plugins: [...htmlPlugins] 6.æ¸…ç©ºæ‰“åŒ…ç»“æœå¯ä»¥ä½¿ç”¨clean-webpack-pluginæ‰‹åŠ¨æ¸…é™¤æŸä¸ªæ–‡ä»¶å¤¹å†…å®¹: å®‰è£… 1npm install --save-dev clean-webpack-plugin 12345const &#123; CleanWebpackPlugin &#125; = require('clean-webpack-plugin');new CleanWebpackPlugin(&#123; // æ¸…ç©ºåŒ¹é…çš„è·¯å¾„ cleanOnceBeforeBuildPatterns: [path.resolve('xxxx/*'),'**/*'],&#125;) è¿™æ ·å°±å¯ä»¥æ¸…ç©ºæŒ‡å®šçš„ç›®å½•äº†,æˆ‘ä»¬å¯ä»¥çœ‹åˆ°webpackæ’ä»¶çš„åŸºæœ¬ç”¨æ³•å°±æ˜¯ new Pluginå¹¶ä¸”æ”¾åˆ°pluginsä¸­","categories":[{"name":"è½¬è½½","slug":"è½¬è½½","permalink":"http://blog.curtaintan.club/categories/%E8%BD%AC%E8%BD%BD/"},{"name":"webpack","slug":"è½¬è½½/webpack","permalink":"http://blog.curtaintan.club/categories/%E8%BD%AC%E8%BD%BD/webpack/"}],"tags":[{"name":"webpack","slug":"webpack","permalink":"http://blog.curtaintan.club/tags/webpack/"}]},{"title":"mobxä¸mobx-reactå®ç°todoList","slug":"mobxä¸mobx-reactå®ç°todoList","date":"2020-02-11T09:09:51.000Z","updated":"2020-02-12T03:25:45.926Z","comments":true,"path":"2020/02/11/mobxä¸mobx-reactå®ç°todoList/","link":"","permalink":"http://blog.curtaintan.club/2020/02/11/mobx%E4%B8%8Emobx-react%E5%AE%9E%E7%8E%B0todoList/","excerpt":"ä½¿ç”¨ mobx ç»“åˆ react æ­å»ºçš„å° demoâ€¦.","text":"ä½¿ç”¨ mobx ç»“åˆ react æ­å»ºçš„å° demoâ€¦. å…ˆçœ‹æ•ˆæœå›¾ï¼š é¢„è§ˆåœ°å€ï¼šTodoListgithub åœ°å€ï¼šmobx-react â€” todoList 1. å‰è¨€æœ¬æ–‡ä¸»è¦ä»‹ç» mobx-react ä¸ mobx çš„ä½¿ç”¨ï¼Œæœ€åå®Œæˆ todolistã€‚ æ­¤ demo å…¨éƒ¨ç”¨ class ç»„ä»¶æ­å»ºå®Œæˆï¼Œå¦‚éœ€ä½¿ç”¨ hooks ï¼Œè¯·å‚è€ƒmobxä¸react-hooks 2. ç¯å¢ƒå‡†å¤‡éœ€è¦åœ¨mobxâ€”ç®€æ˜å­¦ä¹ çš„åŸºç¡€ä¸Šã€‚ å®‰è£… reactä¸€å¥—ï¼š yarn add react react-dom prop-types å®‰è£… babel-reactç›¸å…³æ’ä»¶ yarn add @babel/preset-react å®‰è£… mobx-react yarn add mobx-react é…ç½® webpack.config.js æ–‡ä»¶ é…ç½®å®Œæˆï¼Œå¼€å§‹ç¼–å†™æ–‡ä»¶ã€‚ 3. mobx-react è¯´æ˜ï¼šçœ‹ mobx-react å®˜æ–¹æ–‡æ¡£ å¯çŸ¥æœ‰å¦‚ä¸‹ apiï¼š observer(componentClass) Observer â€”- Observeræ˜¯ä¸€ä¸ªReactç»„ä»¶ï¼Œå®ƒå°†è§‚å¯Ÿè€…åº”ç”¨äºç»„ä»¶ä¸­çš„åŒ¿ååŒºåŸŸã€‚ useLocalStore hook useAsObservableSource hook Server Side Rendering with useStaticRenderingï¼ˆæœåŠ¡ç«¯ï¼‰ PropTypes Provider and inject disposeOnUnmount(componentInstance, propertyKey | function | function[]) å¯è§ï¼Œæœ‰ä¸¤ç§ apiï¼Œä¸€ç§æ˜¯é’ˆå¯¹ componentClass çš„ï¼Œä¸€ç§æ˜¯é’ˆå¯¹ hooks çš„ã€‚ æˆ‘ä»¬ä½¿ç”¨ componentClassï¼Œæ‰€ä»¥ä¸»è¦ç”¨åˆ°ï¼š observer(componentClass) ä½¿ç±»é‡æ–°render PropTypes åˆ¤å®šproptype Provider and inject æä¾› store å’Œ æ³¨å…¥å¯¹åº”props å…·ä½“çš„ä½¿ç”¨ï¼Œè¯·é˜…è¯» å®˜æ–¹æ–‡æ¡£ ï¼Œ å®˜æ–¹æ–‡æ¡£å†™å¾—è›®è¯¦ç»†çš„ã€‚ 4. å¼€å§‹ç¼–å†™æ–‡ä»¶ç»“æ„ï¼š 4.1 store.js1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950import &#123; observable, action, computed, observe &#125; from \"mobx\"class Todo &#123; id = Math.random() @observable title = \"\" @observable finished = false constructor( title )&#123; this.title = title &#125; @action.bound toggle()&#123; this.finished = !this.finished &#125;&#125;class Store &#123; @observable todos = [] disposers = [] @action.bound createTodo( title )&#123; this.todos.unshift( new Todo( title ) ) &#125; @computed get left()&#123; return this.todos.filter( todo =&gt; &#123; return !todo.finished &#125;).length &#125; @action.bound removeTodo( todo )&#123; this.todos.remove( todo ) &#125; constructor()&#123; observe( this.todos, change =&gt; &#123; this.disposers.forEach( disposer =&gt; disposer() ) this.disposers = [] for( let todo of change.object )&#123; var disposer = observe( todo, change =&gt; &#123; console.log( change ) &#125;) this.disposers.push( disposer ) &#125; &#125;) &#125;&#125;const store = new Store()const ss = &#123; store&#125;export default ss 4.2 index.jsx1234567891011121314151617181920212223242526272829303132import React, &#123; Component &#125; from \"react\"import ReactDOM from \"react-dom\"import &#123; observer, Provider &#125; from \"mobx-react\"import &#123; trace &#125; from \"mobx\"import TodoHeader from \"./conponent/TodoHeader.jsx\"import TodoView from \"./conponent/TodoView.jsx\"import TodoFooter from \"./conponent/TodoFooter.jsx\"import ss from \"./store.js\"@observerclass TodoList extends Component &#123; render()&#123; trace() return ( &lt;div className=\"todo-list\" &gt; &lt;TodoHeader /&gt; &lt;ul&gt; &lt;TodoView /&gt; &lt;/ul&gt; &lt;TodoFooter /&gt; &lt;/div&gt; ) &#125;&#125;ReactDOM.render( ( &lt;Provider &#123; ...ss &#125; &gt; &lt;TodoList /&gt; &lt;/Provider&gt;), document.querySelector(\"#root\") ) 4.3 TodoFooter.jsx12345678910111213141516171819202122import React, &#123; Component &#125; from \"react\"import &#123; observer, inject &#125; from \"mobx-react\"import &#123; trace &#125; from \"mobx\"@inject( allStore =&gt; &#123; return &#123; left: allStore.store.left &#125;&#125;)@observerclass TodoFooter extends Component &#123; render()&#123; trace() return ( &lt;footer&gt; &#123; this.props.left &#125; items unfinished... &lt;/footer&gt; ) &#125;&#125;export default TodoFooter 4.4 TodoHeader.jsx1234567891011121314151617181920212223242526272829303132333435363738394041424344454647import React, &#123; Component &#125; from \"react\"import &#123; observer, inject &#125; from \"mobx-react\"@inject( \"store\" )@observerclass TodoHeader extends Component &#123; state = &#123; inputValue : \"\" &#125; handleSubmit = ( e ) =&gt; &#123; e.preventDefault() let store = this.props.store var inputValue = this.state.inputValue store.createTodo( inputValue ) this.setState(&#123; inputValue: \"\" &#125;) &#125; handleChange = ( e ) =&gt; &#123; e.persist() var inputValue = e.target.value this.setState(&#123; inputValue: inputValue &#125;) &#125; render()&#123; return ( &lt;header&gt; &lt;form onSubmit=&#123; this.handleSubmit &#125; &gt; &lt;input type=\"text\" onChange=&#123; e =&gt; this.handleChange( e )&#125; value=&#123; this.state.inputValue &#125; className=\"input\" placeholder=\" what deeds to be finished? \" /&gt; &lt;/form&gt; &lt;/header&gt; ) &#125;&#125;export default TodoHeader 4.5 TodoView.jsx123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051import React, &#123; Component, Fragment &#125; from \"react\"import PropTypes from \"prop-types\"import &#123; observer, inject &#125; from \"mobx-react\"@inject( \"store\" )@observerclass TodoView extends Component &#123; render()&#123; const store = this.props.store const &#123; todos &#125; = store return todos.map( todo =&gt; &#123; return ( &lt;li key=&#123; todo.id &#125; className=\"todo-item\"&gt; &lt;TodoItem todo=&#123; todo &#125; /&gt; &lt;span className=\"delete\" onClick=&#123; e =&gt; store.removeTodo( todo ) &#125; &gt;X&lt;/span&gt; &lt;/li&gt; ) &#125;) &#125;&#125;@observerclass TodoItem extends Component&#123; static propTypes = &#123; todo: PropTypes.shape(&#123; id: PropTypes.number.isRequired, title: PropTypes.string.isRequired, finished: PropTypes.bool.isRequired &#125;).isRequired &#125; handleClick = () =&gt; &#123; this.props.todo.toggle() &#125; render()&#123; const todo = this.props.todo return ( &lt;Fragment&gt; &lt;input type=\"checkbox\" className=\"toggle\" checked=&#123; todo.finished &#125; onChange=&#123; this.handleClick &#125; /&gt; &lt;span className=&#123;[\"title\", todo.finished &amp;&amp; \"finished\"].join(\" \")&#125; &gt; &#123; todo.title &#125; &lt;/span&gt; &lt;/Fragment&gt; ) &#125;&#125;export default TodoView 4.6 html æ–‡ä»¶å†…æ·»åŠ  css æ ·å¼123456789101112131415161718192021222324252627282930.input &#123; padding: 15px; border: 1px solid #ccc; font-size: 24px; width: 400px;&#125;.todo-item &#123; display: flex; align-items: center; height: 40px; border-bottom: 1px solid #ccc;&#125;.todo-item .toggle &#123; margin-right: 20px;&#125;.todo-item .title &#123; font-size: 24px; color: #000;&#125;.todo-item .title.finished &#123; text-decoration: line-through; color: #ccc;&#125;.todo-item .delete &#123; margin-left: 20px; cursor: pointer;&#125;footer&#123; font-size: 22px;&#125; 5. æ€§èƒ½ä¼˜åŒ–æå‡æ€§èƒ½ä¸‰å¤§æ³•åˆ™ï¼š ç»†ç²’åº¦æ‹†åˆ†è§†å›¾ç»„ä»¶ ä½¿ç”¨ä¸“ç”¨ç»„ä»¶å¤„ç†åˆ—è¡¨ å°½å¯èƒ½æ™šçš„ç»“æ„å¯è§‚å¯Ÿæ•°æ® ä¸Šé¢ä¸‰å¤§æ³•åˆ™ï¼Œä½ åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œèƒ½æ‰¾åˆ°åœ¨å“ªé‡Œå—ï¼Ÿï¼Ÿ è¿˜æœ‰å…¶ä»–çš„ä¼˜åŒ–ç‚¹ï¼š å°½æ—©çš„ç»‘å®šå‡½æ•°ï¼ˆä¸è¦ä¼ åŒ¿åå‡½æ•°å’Œç®­å¤´å‡½æ•°ï¼‰ ä¸è¦ä½¿ç”¨æ•°ç»„çš„ç´¢å¼•ä½œä¸º key ä½¿ç”¨å°ç»„ä»¶ è¯¦æƒ…å‚è€ƒï¼šä¼˜åŒ– React ç»„ä»¶æ¸²æŸ“ 6. æ€»ç»“å½“å¾—åˆ°ä¸€äº›ç‚¹æ‹¨è¿‡åï¼Œå†å»é˜…è¯»å®˜æ–¹æ–‡æ¡£ï¼Œå°±ä¼šæ”¶è·æ›´å¤šï¼Œ å½“ç„¶ä¹Ÿè¦å­¦ä¼šé˜…è¯»å®˜æ–¹æ–‡æ¡£ï¼Œå®˜æ–¹æ–‡æ¡£å†™å¾—éƒ½è›®å¥½çš„ã€‚ å†™ä¸‹è¿™ç¯‡æ–‡ç« ï¼Œä¹Ÿç®—æ˜¯æ€»ç»“äº†ä¸€ä¸‹ mobx ç›¸å…³çš„çŸ¥è¯†. åŠ æ²¹ï¼Œå†™ä¸‹è¿™ç¯‡æ–‡ç« å¸Œæœ›å¯¹ä½ æœ‰å¸®åŠ©ï¼Œä¸å›å…±å‹‰ï¼ï¼ æœ‰æ—¶é—´ï¼Œæˆ‘ä¼šæŠŠ class ç‰ˆæœ¬æ”¹æˆ hook ç‰ˆæœ¬çš„ã€‚ 7. å‚è€ƒææ–™èŒµé£æ³³æœˆâ€“mobxå…¥é—¨åŸºç¡€æ•™ç¨‹ mobxâ€”-å®˜ç½‘ mobx-react æ–‡æ¡£ mobx-react å®˜æ–¹æ–‡æ¡£","categories":[{"name":"mobx","slug":"mobx","permalink":"http://blog.curtaintan.club/categories/mobx/"}],"tags":[{"name":"mobx","slug":"mobx","permalink":"http://blog.curtaintan.club/tags/mobx/"}]},{"title":"mobx--ç®€æ˜å­¦ä¹ ","slug":"mobx-ç®€æ˜å­¦ä¹ ","date":"2020-02-11T06:19:41.000Z","updated":"2020-02-12T02:07:02.181Z","comments":true,"path":"2020/02/11/mobx-ç®€æ˜å­¦ä¹ /","link":"","permalink":"http://blog.curtaintan.club/2020/02/11/mobx-%E7%AE%80%E6%98%8E%E5%AD%A6%E4%B9%A0/","excerpt":"mobx ç®€æ˜å­¦ä¹ ä¸å®è·µâ€¦.","text":"mobx ç®€æ˜å­¦ä¹ ä¸å®è·µâ€¦. å‰ç½®ç¯å¢ƒå‡†å¤‡ï¼šè¯·å‚è€ƒï¼šes6â€”Decorator,å¹¶ä½¿ç”¨ yarn add mobx å®‰è£… mobx æ¨¡å—ã€‚ 1. å‰è¨€å­¦ä¹ å‰ï¼Œå»ºè®®ä»”ç»†é˜…è¯»ä¸€é MobX ä»‹ç» äº†è§£ mobx è¿è¡Œæœºåˆ¶ã€‚ å…ˆçœ‹ mobx å®˜ç½‘çš„æ–‡æ¡£ç›®å½•ï¼š å¯ä»¥çœ‹åˆ°ï¼Œæ•´ä¸ªåº“ï¼Œéœ€è¦æˆ‘ä»¬å­¦ä¹ çš„å°±åªæœ‰ä¸‰ä¸ªä¸»è¦çš„ç‚¹ï¼š observable ç›¸å…³ â€”â€“ åˆ›å»ºè§‚å¯Ÿæ•°æ® å¯¹ observables ä½œå‡ºå“åº” â€”â€“ æ•°æ®æ”¹å˜æ—¶çš„å“åº”æ“ä½œ æ”¹å˜ observables è¿˜æœ‰ä¸€ä¸ªå·¥å…·å‡½æ•°ã€‚ 2. observable ç›¸å…³ â€”- åˆ›å»ºè¢«è§‚å¯Ÿæ•°æ®åˆ›å»ºå¯è§‚å¯Ÿæ•°æ®çš„æ–¹å¼æœ‰ä¸¤ç§ï¼š ä½¿ç”¨ observable å‡½æ•°æ„å»º ä½¿ç”¨ @observable è£…é¥°ç±»æ„å»º 2.1 ä½¿ç”¨ observable å‡½æ•°æ„å»ºobservable å‡½æ•°æ„å»ºå¯è§‚å¯Ÿçš„æ•°æ®123456const value = observable(\"value\")const list = observable([1, 2, 4])const map = observable.map(&#123; key: \"value\"&#125;)// ä½¿ç”¨ observable.box()const cityName = observable.box(\"tan\") 2.1 ä½¿ç”¨ @observable è£…é¥°ç±»æ„å»º12345678910class Store &#123; @observable num = 22 @observable str = \"string\" @observable bool = false @observable obj = &#123; name: \"tan\", age: 12 &#125; @observable array = []&#125; 3. å¯¹ observables ä½œå‡ºå“åº”æœ‰ 4 ä¸ª api å¤„ç†å“åº”ï¼š computed å’Œ @computed å‡½æ•°å†…ä¾èµ–çš„è§‚å¯Ÿé¡¹æ”¹å˜æ—¶ï¼Œè‡ªåŠ¨æ‰§è¡Œï¼Œç±»ä¼¼ vue ä¸­çš„ computed autorun( fn, { options } ): å‡½æ•°å†…çš„ä¾èµ–é¡¹æ”¹å˜æ—¶ï¼Œè‡ªåŠ¨æ‰§è¡Œ when( fn, fn ): ç¬¬ä¸€ä¸ªå‡½æ•°å†…ä¾èµ–é¡¹æ”¹å˜æ—¶æ‰§è¡Œç¬¬ä¸€ä¸ªå‡½æ•°ï¼Œç¬¬ä¸€ä¸ªå‡½æ•°è¿”å› true æ—¶ï¼Œæ‰§è¡Œç¬¬äºŒä¸ªå‡½æ•° reaction( fn, fn ): ç¬¬ä¸€ä¸ªå‡½æ•°è¿”å›ä¸€ä¸ªæ•°ç»„ï¼Œæ•°ç»„ä¸­å€¼çš„æ”¹å˜æ—¶ï¼Œæ‰§è¡Œç¬¬äºŒä¸ªå‡½æ•° observer å’Œ @observer ä¿®é¥° react ç±»ï¼Œç”¨äºæ›´æ–°è§†å›¾ ä»£ç ï¼š ä»£ç æ”¾åœ¨æ–‡ç« å°¾éƒ¨ è¿è¡Œç»“æœï¼š 4. action â€“æ”¹å˜â€“ observablesæˆ‘ä»¬å¯ä»¥ç›´æ¥é€šè¿‡ store æ¥ä¿®æ”¹å±æ€§ï¼Œä½†æ˜¯æ¯ä¸€æ¬¡å±æ€§çš„æ”¹å˜ï¼Œå“åº”æ“ä½œéƒ½ä¼šæ‰§è¡Œï¼Œå½“æˆ‘ä»¬éœ€è¦ä¸€æ¬¡æ€§æ‰§å¤šä¸ªå±æ€§çš„æ”¹å˜çš„æ—¶å€™ï¼Œå“åº”æ“ä½œå°±ä¼šæ‰§è¡Œå¤šæ¬¡ï¼Œä½†æ˜¯æˆ‘ä»¬åªéœ€è¦æ‰§è¡Œä¸€æ¬¡å°±å¤Ÿäº†ï¼Œé‚£æ€ä¹ˆè§£å†³å‘¢ï¼Ÿï¼Ÿæ­¤æ—¶ action å°±å‡ºåœºäº†ã€‚ action ä¸»è¦æœ‰ï¼š action( fn ): fn â€” åˆ›å»ºä¸€ä¸ª action å‡½æ•° @action - fn : ä¿®é¥°ç±»æ–¹æ³•ï¼Œä½¿å…¶å˜æˆ action æ–¹æ³• @action.bound : ä¿®é¥°ç±»æ–¹æ³•ï¼Œç»‘å®š this runInAction(name?, thunk)ï¼š ç›´æ¥è¿è¡Œ action æ“ä½œï¼Œæ­é… @action å¯æ‰§è¡Œå¼‚æ­¥ æ¡ˆä¾‹ï¼š ä»£ç æ”¾åœ¨æ–‡ç« åº•éƒ¨ æµ‹è¯•ç»“æœï¼š 5. æ€»ç»“å·¥å…·å‡½æ•°å°±è‡ªè¡Œçœ‹å®˜æ–¹æ–‡æ¡£äº†ã€‚ å¯¹æ¯”ç€ mobx çš„è¿è¡Œæµç¨‹å›¾ï¼š æˆ‘ä»¬å°±å¯ä»¥å¾ˆè½»æ˜“çš„ç†è§£å„ä¸ª api ä¹‹é—´çš„å…³ç³»äº†ã€‚ 6. å‚è€ƒææ–™mobxâ€”-å®˜ç½‘ æ¨èå¤§å®¶å»è§‚çœ‹æ­¤æ•™ç¨‹ï¼Œéå¸¸å¥½çš„æ•™ç¨‹ã€‚èŒµé£æ³³æœˆâ€“mobxå…¥é—¨åŸºç¡€æ•™ç¨‹ 7. æ–‡ä¸­ä½¿ç”¨ä»£ç ï¼šæµ‹è¯•ç›¸åº”çš„ä»£ç æµ‹è¯•å‰¯ä½œç”¨12345678910111213141516171819202122232425262728293031323334353637383940414243444546import &#123; observable, computed, autorun, when, reaction &#125; from \"mobx\"class Store &#123; @observable num = 22 @observable str = \"string\" @observable bool = false @observable obj = &#123; name: \"tan\", age: 12 &#125; @computed get mixed()&#123; return this.obj.age + \"-----\" + this.str &#125;&#125;var store = new Store()// æµ‹è¯• computedvar foo = computed( function()&#123; return store.str + \"/\" + store.obj.age&#125;)console.log( foo.get() )console.log( store.mixed )foo.observe( function( change )&#123; console.log( \"computed å€¼æ”¹å˜ï¼š\" ) console.log( \"ä¿®æ”¹å€¼ï¼š\", change )&#125;)// æµ‹è¯• autorun autorun( () =&gt; &#123; console.log( \"autorunè¿è¡Œï¼š\" ) console.log( store.str + \"/\" + store.obj.age )&#125;)// æµ‹è¯• wenwhen( ()=&gt; store.bool , ()=&gt; console.log( \"å˜æˆ true äº†...\" ) )// æµ‹è¯• reactionreaction( () =&gt; [ store.str, store.obj.age ], arr =&gt; console.log( \"reaction è¿è¡Œï¼š\",arr ) )console.log( \"å¼€å§‹æµ‹è¯•ï¼š------- wen ------\" )store.bool = trueconsole.log( \"å¼€å§‹æµ‹è¯•ï¼š------- å…¶ä»–ä¸‰ä¸ª ------\" )store.obj.age = 13 æµ‹è¯• actionæµ‹è¯• action 123456789101112131415161718192021222324252627282930313233343536import &#123; observable, action, reaction &#125; from \"mobx\"class Store &#123; @observable num = 22 @observable str = \"string\" @observable bool = false @observable obj = &#123; name: \"tan\", age: 12 &#125; @action bar()&#123; this.str = \"ä¿®æ”¹å€¼äº†--\" this.num = 89 &#125;&#125;var store = new Store()reaction( () =&gt; [ store.str, store.obj.age ], arr =&gt; console.log( \"reaction è¿è¡Œï¼š\",arr ) )// ä¸ç”¨ action æ”¹å˜å€¼console.log( \"ä¸ç”¨ action æ”¹å˜å€¼ï¼š\" )store.obj.age = 11store.str = \"ä½ å¥½---\"// ä½¿ç”¨ @actionconsole.log( \"ä½¿ç”¨ action ä¿®é¥°å™¨æ”¹å˜å¤šä¸ªå€¼\" )store.bar()// ä½¿ç”¨ action æ‰§è¡Œconsole.log( \"ä½¿ç”¨ action ä¿®é¥°å™¨æ”¹å˜å¤šä¸ªå€¼\" )action( () =&gt; &#123; store.str = \"ppppppp\" store.obj.age = 45&#125;)()","categories":[{"name":"mobx","slug":"mobx","permalink":"http://blog.curtaintan.club/categories/mobx/"}],"tags":[{"name":"mobx","slug":"mobx","permalink":"http://blog.curtaintan.club/tags/mobx/"}]},{"title":"es6---Decorator","slug":"es6-Decorator","date":"2020-02-10T08:17:56.000Z","updated":"2020-02-11T06:34:41.508Z","comments":true,"path":"2020/02/10/es6-Decorator/","link":"","permalink":"http://blog.curtaintan.club/2020/02/10/es6-Decorator/","excerpt":"æ­å»ºå¯ä½¿ç”¨ Decorator çš„ç¯å¢ƒï¼Œå¹¶å­¦ä¹  Decorator ã€‚","text":"æ­å»ºå¯ä½¿ç”¨ Decorator çš„ç¯å¢ƒï¼Œå¹¶å­¦ä¹  Decorator ã€‚ 1. ç¯å¢ƒæ­å»º å®‰è£…æ’ä»¶ï¼š webpack ï¼š 1yarn add webpack webpack-cli babel ï¼š 1yarn add @babel/cli @babel/core @babel/preset-env babel-loader babel è£…é¥°å™¨ç›¸å…³æ’ä»¶ï¼š 1yarn add @babel/plugin-proposal-decorators babel-plugin-transform-class-properties webpack.config.js é…ç½® é…ç½®ä»£ç æ”¾åœ¨æ–‡ç« æœ«å°¾ã€‚ é…ç½® package.json 123\"scripts\": &#123; \"dev\": \"webpack\" &#125;, ç¯å¢ƒé…ç½®å®Œæ¯•ï¼Œè¿è¡Œ yarn dev å°±å¯ä»¥å°†æ–‡ä»¶ç¼–è¯‘å¥½ã€‚ æ–°å»ºä¸€ä¸ªhtmlæ–‡ä»¶ï¼Œå¼•å…¥ç¼–è¯‘å¥½çš„ js æ–‡ä»¶ï¼Œç¯å¢ƒé…ç½®åŸºæœ¬å®Œæˆã€‚ ç›®å½•ç»“æ„ï¼š 2. å¼€å§‹ä¹¦å†™ä»£ç ç¼–å†™ bundle.js 2.1 ç±»çš„è£…é¥°ï¼šä»£ç è®¾è®¡ï¼š è¿è¡Œç»“æœï¼š 2.2 ç±»æ–¹æ³•çš„ä¿®é¥°ä»£ç è®¾è®¡ï¼š è¿è¡Œç»“æœï¼š 2.2 ç±»å±æ€§çš„ä¿®é¥°ä»£ç è®¾è®¡ï¼š è¿è¡Œç»“æœï¼š æ³¨ï¼š å¯ä»¥åœ¨ js æ–‡ä»¶å¤´éƒ¨ç¼–å†™ &quot;use strict&quot;æ¥ä½¿ç”¨ä¸¥æ ¼æ¨¡å¼ï¼Œ ä½¿ç”¨ä¸¥æ ¼æ¨¡å¼åï¼Œå½“ä¿®æ”¹ä¸å¯ä¿®æ”¹çš„å±æ€§æ—¶ï¼Œå°±ä¼šæ‰“æ–­æ“ä½œå¹¶æŠ¥é”™ã€‚ 3. æ€»ç»“è£…é¥°å™¨ä¸èƒ½ç”¨ä¿®é¥°å‡½æ•°ï¼Œå› ä¸ºå‡½æ•°å­˜åœ¨å˜é‡æå‡ã€‚ 4. å‚è€ƒææ–™èŒµé£æ³³æœˆâ€“mobxå…¥é—¨åŸºç¡€æ•™ç¨‹ é˜®ä¸€å³°â€“es6 åŸºç¡€å…¥é—¨ 5. ä»£ç 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354// å®šä¹‰ç±»ä¿®é¥°å™¨function log( target )&#123; const desc = Object.getOwnPropertyDescriptors( target.prototype ) for( const key of Object.keys( desc ) )&#123; if( key === \"constuctor\" )&#123; continue &#125; const func = desc[key].value if( typeof func === \"function\" )&#123; Object.defineProperty( target.prototype, key, &#123; value( ...arg )&#123; console.log( \"åŠ ä¹‹å‰\", key ) const ret = func.apply( this, arg ) console.log( \"ç›¸åŠ ----ç»“æœï¼š\", ret ) console.log( \"åŠ ä¹‹å\", key ) return ret &#125; &#125;) &#125; &#125;&#125;// å±æ€§ä¿®é¥°å™¨function readonly( target, key, desc )&#123; desc.writable = false&#125;// æ–¹æ³•ä¿®é¥°å™¨function validate( target, key, desc )&#123; const func = desc.value desc.value = function( ...arg )&#123; for( let num of arg )&#123; if( typeof num !== \"number\" )&#123; throw new Error(`\"$&#123; num &#125; \" ä¸æ˜¯ä¸€ä¸ªæ•°å­—..`) &#125; &#125; console.log( \"å‡½æ•°é‡Œé¢çš„è£…é¥°å™¨-----å‡½æ•°çš„æ“ä½œ---\" ) return func.apply( this, [ 4, 7 ] ) &#125;&#125;@logclass Numberic &#123; @readonly PI = 3.1315926 // ä¿®é¥°æ–¹æ³• add( ...nums )&#123; return nums.reduce( ( p, n ) =&gt; ( p + n ), 0 ) &#125;&#125;// æµ‹è¯•console.log( new Numberic().add( 1, 2 ) )var ss = new Numberic()console.log( \"ä¿®æ”¹æ•°æ®å‰ï¼š\", ss )ss.PI = 99console.log( \"ä¿®æ”¹æ•°æ®åï¼š\", ss ) 5.1 ç¯å¢ƒé…ç½®ä»£ç ï¼š1234567891011121314151617181920212223242526272829303132333435const path = require(\"path\")const config = &#123; mode: \"development\", // å…¥å£æ–‡ä»¶ entry: path.resolve( __dirname, \"./src/mobx.js\" ), // æ‰“åŒ…è¾“å‡ºæ–‡ä»¶ output: &#123; path: path.resolve( __dirname, \"mobx\" ), filename: \"main.js\" &#125;, module: &#123; rules: [ &#123; test: /\\.js$/, exclude: /node_modules/, use: &#123; loader: \"babel-loader\", options: &#123; presets: [ \"@babel/preset-env\" ], // é…ç½® babel æ’ä»¶ plugins: [ [\"@babel/plugin-proposal-decorators\", &#123; \"legacy\": true &#125;], \"transform-class-properties\" ] &#125; &#125; &#125; ] &#125;, // é…ç½® map æ–‡ä»¶ devtool: \"inline-source-map\"&#125;module.exports = config","categories":[{"name":"javascript","slug":"javascript","permalink":"http://blog.curtaintan.club/categories/javascript/"}],"tags":[{"name":"jsåŸºç¡€","slug":"jsåŸºç¡€","permalink":"http://blog.curtaintan.club/tags/js%E5%9F%BA%E7%A1%80/"}]},{"title":"è®¾è®¡æ¨¡å¼ï¼ˆäº”ï¼‰---è£…é¥°å™¨æ¨¡å¼","slug":"è®¾è®¡æ¨¡å¼ï¼ˆäº”ï¼‰-è£…é¥°å™¨æ¨¡å¼","date":"2020-02-10T07:46:53.000Z","updated":"2020-02-10T08:14:24.701Z","comments":true,"path":"2020/02/10/è®¾è®¡æ¨¡å¼ï¼ˆäº”ï¼‰-è£…é¥°å™¨æ¨¡å¼/","link":"","permalink":"http://blog.curtaintan.club/2020/02/10/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%EF%BC%88%E4%BA%94%EF%BC%89-%E8%A3%85%E9%A5%B0%E5%99%A8%E6%A8%A1%E5%BC%8F/","excerpt":"æ‰‹å†™ä¸€ä¸ªè£…é¥°å™¨æ¨¡å¼ã€‚","text":"æ‰‹å†™ä¸€ä¸ªè£…é¥°å™¨æ¨¡å¼ã€‚ 1. ä»‹ç»è£…é¥°å™¨æ¨¡å¼çš„ç›®çš„ï¼š ä¸ºå¯¹è±¡æ·»åŠ æ–°åŠŸèƒ½ ä¸æ”¹å˜å…¶åŸæœ‰çš„ç»“æ„å’ŒåŠŸèƒ½ 2. ä»£ç æ¼”ç¤º1234567891011121314151617181920212223class Circle &#123; draw() &#123; console.log(\"ç”»ä¸€ä¸ªåœ†å½¢\"); &#125;&#125;class Decorator &#123; constructor(circle)&#123; this.circle = circle; &#125; draw() &#123; this.circle.draw(); this.setRedBorder(this.circle); &#125; setBorder(circle) &#123; console.log(\"è®¾ç½®è¾¹æ¡†\") &#125;&#125;// æµ‹è¯•ä»£ç let circle = new Circle();let dec = new Decorator(circle);dec.setRedBorder(); 3. æ€»ç»“è£…é¥°å™¨å°æƒ…æ™¯ï¼šæ‰‹æœºåˆç…§ç›¸çš„åŠŸèƒ½ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨æ‰‹æœºæ‘„åƒå¤´å‰è£…é¥°ä¸€ä¸ªæ”¾å¤§é•œï¼Œæ‰‹æœºåœ¨å…·æœ‰ç…§ç›¸çš„åŸºç¡€è¿˜æœ‰æ”¾å¤§çš„åŠŸèƒ½ã€‚ æœ¬è´¨ï¼šåœ¨æ‰§è¡ŒçœŸæ­£çš„æ“ä½œå‰åï¼Œå¯ä»¥è¿›è¡Œå…¶ä»–çš„æ“ä½œ 4. å‚è€ƒææ–™è£…é¥°è€…æ¨¡å¼ JSè®¾è®¡æ¨¡å¼-è£…é¥°å™¨æ¨¡å¼","categories":[{"name":"è®¾è®¡æ¨¡å¼","slug":"è®¾è®¡æ¨¡å¼","permalink":"http://blog.curtaintan.club/categories/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"}],"tags":[]},{"title":"è®¾è®¡æ¨¡å¼ï¼ˆå››ï¼‰---å‘å¸ƒè®¢é˜…æ¨¡å¼","slug":"è®¾è®¡æ¨¡å¼ï¼ˆå››ï¼‰-å‘å¸ƒè®¢é˜…æ¨¡å¼","date":"2020-02-09T06:56:37.000Z","updated":"2020-02-09T13:40:31.851Z","comments":true,"path":"2020/02/09/è®¾è®¡æ¨¡å¼ï¼ˆå››ï¼‰-å‘å¸ƒè®¢é˜…æ¨¡å¼/","link":"","permalink":"http://blog.curtaintan.club/2020/02/09/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%EF%BC%88%E5%9B%9B%EF%BC%89-%E5%8F%91%E5%B8%83%E8%AE%A2%E9%98%85%E6%A8%A1%E5%BC%8F/","excerpt":"æˆ‘çœ‹äº†å¾ˆå¤šå…³äºå‘å¸ƒè®¢é˜…æ¨¡å¼ä¸è§‚å¯Ÿè€…æ¨¡å¼çš„æ–‡ç« ï¼Œæœ‰ç‚¹æœ‹å‹è®¤ä¸ºè§‚å¯Ÿè€…æ¨¡å¼å°±æ˜¯å‘å¸ƒè®¢é˜…æ¨¡å¼ï¼Œæ ¹æ®æˆ‘çœ‹äº†è¿™ä¹ˆå¤šçš„æ–‡ç« çš„æ€»ç»“ï¼Œä»–ä»¬ç¡®å®æ˜¯ä¸ä¸€æ ·çš„ã€‚ åœ¨vueä¸­ï¼Œemitå’Œonæ–¹æ³•ã€‚ä»–ä»¬éƒ½ä¼¼ä¹ä¸çº¦è€ŒåŒçš„è‡ªå¸¦äº†å‘å¸ƒè®¢é˜…å±æ€§ä¸€èˆ¬ï¼Œè®©å¼€å‘å˜å¾—æ›´åŠ é«˜æ•ˆå¥½ç”¨èµ·æ¥ã€‚ ä»Šå¤©å°±å†™ä¸€ä¸ªå‘å¸ƒè®¢é˜…ã€‚","text":"æˆ‘çœ‹äº†å¾ˆå¤šå…³äºå‘å¸ƒè®¢é˜…æ¨¡å¼ä¸è§‚å¯Ÿè€…æ¨¡å¼çš„æ–‡ç« ï¼Œæœ‰ç‚¹æœ‹å‹è®¤ä¸ºè§‚å¯Ÿè€…æ¨¡å¼å°±æ˜¯å‘å¸ƒè®¢é˜…æ¨¡å¼ï¼Œæ ¹æ®æˆ‘çœ‹äº†è¿™ä¹ˆå¤šçš„æ–‡ç« çš„æ€»ç»“ï¼Œä»–ä»¬ç¡®å®æ˜¯ä¸ä¸€æ ·çš„ã€‚ åœ¨vueä¸­ï¼Œemitå’Œonæ–¹æ³•ã€‚ä»–ä»¬éƒ½ä¼¼ä¹ä¸çº¦è€ŒåŒçš„è‡ªå¸¦äº†å‘å¸ƒè®¢é˜…å±æ€§ä¸€èˆ¬ï¼Œè®©å¼€å‘å˜å¾—æ›´åŠ é«˜æ•ˆå¥½ç”¨èµ·æ¥ã€‚ ä»Šå¤©å°±å†™ä¸€ä¸ªå‘å¸ƒè®¢é˜…ã€‚ 1. æƒ…æ™¯æ¨¡æ‹Ÿï¼šå½“æˆ‘ä»¬åœ¨æ³¨å†Œè™æ‰‘çš„æ—¶å€™ï¼Œè½¯ä»¶ä¼šè®©æˆ‘ä»¬é€‰æ‹©æˆ‘ä»¬æ„Ÿå…´è¶£çš„æ¿å—ï¼Œä¾‹å¦‚ï¼šå”±ã€è·³ã€rapã€ç¯®çƒâ€¦.. å½“æˆ‘ä»¬é€‰æ‹©è‡ªå·±å–œæ¬¢çš„ç‰ˆå—æ—¶ï¼Œæˆ‘ä»¬å°±è®¢é˜…äº†ç›¸å…³æ¿å—çš„æ¶ˆæ¯ã€‚ å½“æ­¤æ¿å—å†…æœ‰çƒ­é—¨æ¶ˆæ¯æ—¶ï¼Œè™æ‰‘å°±ä¼šç»™æˆ‘ä»¬æ¨é€æ­¤æ¶ˆæ¯ï¼Œä»–ä¸ä¼šæŠŠå…¶ä»–æ¿å—çš„æ¶ˆæ¯æ¨é€ç»™æˆ‘ä»¬ã€‚ 2. åˆ†æï¼šæˆ‘ä»¬å¯ä»¥æŠ½è±¡å‡ºä¸‰ä¸ªå¯¹è±¡ï¼Œä¸€ä¸ªå‘å¸ƒè€…ï¼Œä¸€ä¸ªè°ƒåº¦ä¸­å¿ƒï¼Œä¸€ä¸ªè®¢é˜…è€… å‘å¸ƒè€…ï¼šæˆ‘å°±æ˜¯åœ¨ä¸åŒæ¿å—å‘é€çƒ­é—¨æ¶ˆæ¯çš„ è°ƒåº¦ä¸­å¿ƒï¼šå­˜ä¸‹æ‰€æœ‰æ¿å—ï¼Œä¸æ¿å—å¯¹åº”çš„è®¢é˜…è€… &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ä¸€ä¸ªå‡½æ•°ï¼šæ¥æ”¶æ¶ˆæ¯å¹¶ç»™ç›¸å…³æ¿å—æ‰€æœ‰çš„è®¢é˜…è€…å‘é€æ¶ˆæ¯ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ä¸€ä¸ªå‡½æ•°ï¼šç§»é™¤è®¢é˜…è€… &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ä¸€ä¸ªå‡½æ•°ï¼šæ·»åŠ è®¢é˜…è€… è®¢é˜…è€…ï¼šè‡ªå·±çš„å±æ€§ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ä¸€ä¸ªå‡½æ•°ï¼šè®¢é˜…æ¶ˆæ¯ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ä¸€ä¸ªå‡½æ•°ï¼šå–æ¶ˆè®¢é˜…æ¶ˆæ¯ ç”»å‡º UML ç±»å›¾å°±æ˜¯æ–‡ç« å‰çš„å›¾ç‰‡ã€‚ 3. ä»£ç å®ç° çœŸå®ä»£ç æ”¾åœ¨æ–‡ç« æœ«å°¾ã€‚ ç»“æœï¼š 4. æ€»ç»“ä»€ä¹ˆæ˜¯å‘å¸ƒè®¢é˜…æ¨¡å¼ï¼š å‘å¸ƒ-è®¢é˜…æ˜¯ä¸€ç§æ¶ˆæ¯èŒƒå¼ï¼Œæ¶ˆæ¯çš„å‘é€è€…ï¼ˆç§°ä¸ºå‘å¸ƒè€…ï¼‰ä¸ä¼šå°†æ¶ˆæ¯ç›´æ¥å‘é€ç»™ç‰¹å®šçš„æ¥æ”¶è€…ï¼ˆç§°ä¸ºè®¢é˜…è€…ï¼‰ã€‚è€Œæ˜¯å°†å‘å¸ƒçš„æ¶ˆæ¯åˆ†ä¸ºä¸åŒçš„ç±»åˆ«ï¼Œæ— éœ€äº†è§£å“ªäº›è®¢é˜…è€…ï¼ˆå¦‚æœæœ‰çš„è¯ï¼‰å¯èƒ½å­˜åœ¨ã€‚åŒæ ·çš„ï¼Œè®¢é˜…è€…å¯ä»¥è¡¨è¾¾å¯¹ä¸€ä¸ªæˆ–å¤šä¸ªç±»åˆ«çš„å…´è¶£ï¼Œåªæ¥æ”¶æ„Ÿå…´è¶£çš„æ¶ˆæ¯ï¼Œæ— éœ€äº†è§£å“ªäº›å‘å¸ƒè€…ï¼ˆå¦‚æœæœ‰çš„è¯ï¼‰å­˜åœ¨ã€‚ ç»´åŸºç™¾ç§‘zh.wikipedia.org/wiki/%E5%8F%91%E5%B8%83/%E8%AE%A2%E9%98%85 è¯´è¯´æˆ‘çš„ç†è§£ï¼š å‘å¸ƒè®¢é˜…æ¨¡å¼å¯ä»¥ç†è§£æˆä¸‰ä¸ªå¯¹è±¡ï¼Œä¸€ä¸ªæ˜¯å‘å¸ƒè€…ï¼Œä¸€ä¸ªæ˜¯è®¢é˜…è€…ï¼Œä¸€ä¸ªæ˜¯è°ƒåº¦ä¸­å¿ƒã€‚ ä¸ºä»€ä¹ˆéœ€è¦ä¸€ä¸ªè°ƒåº¦ä¸­å¿ƒï¼Ÿå› ä¸ºè®¢é˜…è€…çš„è®¢é˜…æ˜¯æœ‰ä¸€å®šè¦æ±‚çš„ï¼Œè€Œä¸æ˜¯æ¥æ”¶æ‰€æœ‰å‘å¸ƒçš„æ¶ˆæ¯ï¼Œ æ‰€ä»¥è°ƒåº¦ä¸­å¿ƒå°±æ˜¯å°†æ¶ˆæ¯åˆ†åˆ«å‘é€ç»™è®¢é˜…è€…ã€‚è®¢é˜…è€…ä¸ä¼šæ¥æ”¶åˆ°æ²¡æœ‰è®¢é˜…çš„æ¶ˆæ¯ã€‚ è§‚å¯Ÿè€…æ¨¡å¼ï¼š è§‚å¯Ÿè€…åªæœ‰ä¸¤ä¸ªå¯¹è±¡ï¼Œä¸€ä¸ªè§‚å¯Ÿè€…ã€ä¸€ä¸ªè¢«è§‚å¯Ÿè€…ï¼Œè¢«è§‚å¯Ÿè€…åªè¦ä½œå‡ºå˜åŒ–ï¼ˆä¸è®ºä»€ä¹ˆå˜åŒ–ï¼‰ï¼Œæ‰€æœ‰çš„è§‚å¯Ÿè€…éƒ½ä¼šæ¥å—åˆ°æ¶ˆæ¯ã€‚ 5. å‚è€ƒææ–™å‘å¸ƒè®¢é˜…æ¨¡å¼ï¼Œåœ¨å·¥ä½œä¸­å®ƒçš„èƒ½é‡è¶…ä¹ä½ çš„æƒ³è±¡ è°ˆè°ˆè§‚å¯Ÿè€…æ¨¡å¼å’Œå‘å¸ƒè®¢é˜…æ¨¡å¼ EventBusâ€”æ€è€ƒè§‚å¯Ÿè€…æ¨¡å¼ä¸å‘å¸ƒè®¢é˜…è€…æ¨¡å¼ JavaScriptä¸­å‘å¸ƒ/è®¢é˜…æ¨¡å¼çš„ç†è§£ 6. ä»£ç ï¼š1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374// å‘å¸ƒè€… ä¼ å…¥è°ƒåº¦ä¸­å¿ƒå®ä¾‹class Publisher &#123; constructor( dispatch )&#123; this.dispatch = dispatch &#125; publish()&#123; let arg = Array.from( arguments ) let event = arg.shift() this.dispatch.emit( event, arg ) &#125;&#125;// è°ƒåº¦ä¸­å¿ƒclass Dispatcher &#123; constructor()&#123; this.eventObj = &#123;&#125; &#125; on( event, fn )&#123; if( !this.eventObj[event] )&#123; this.eventObj[event] = [] &#125; this.eventObj[event].push( fn ) &#125; emit( type, arg )&#123; let funs = this.eventObj[type] if( !funs || funs.length === 0 )&#123; return &#125; funs.forEach( item =&gt; &#123; item.apply( this, arg ) &#125;); &#125; remove( type, fn )&#123; let fns = this.eventObj[ type ] if( !fns ) return if( !fn )&#123; delete this.eventObj[type] &#125; else &#123; this.eventObj[ type ] = fns.filter( item =&gt; item !== fn ) &#125; &#125;&#125;// è®¢é˜…è€…ç±» ä¼ å…¥ dispatch å’Œ è‡ªå·±çš„å±æ€§class Subscriber &#123; constructor( dispatch, name )&#123; this.dispatch = dispatch this.name = name &#125; fn = ( msg ) =&gt; &#123; console.log( `æˆ‘æ˜¯$&#123; this.name &#125;:` ,\"æ”¶åˆ°è®¢é˜…çš„æ¶ˆæ¯ï¼š\", msg ) &#125; subscrib( type, fn )&#123; this.dispatch.on( type, fn, this ) &#125; removeSubscrib( type, fn )&#123; this.dispatch.remove( type, fn ) &#125;&#125;// æµ‹è¯•let dispatch = new Dispatcher()let pub = new Publisher( dispatch )let sub1 = new Subscriber( dispatch, \"sub1\" )let sub2 = new Subscriber( dispatch, \"sub2\" )// è®¢é˜…æ¶ˆæ¯sub1.subscrib( \"ç¯®çƒ\", sub1.fn )sub2.subscrib( \"ç¯®çƒ\", sub2.fn )sub2.subscrib( \"è¶³çƒ\", sub2.fn )// å‘å¸ƒæ¶ˆæ¯pub.publish( \"ç¯®çƒ\", \"ä¹”ä¸¹å»ä¸–äº†---\" )pub.publish( \"è¶³çƒ\", \"å›½è¶³èƒ½è¿›ä¸–ç•Œæ¯å—ï¼Ÿï¼Ÿ\" )// å–æ¶ˆè®¢é˜…sub1.removeSubscrib( \"ç¯®çƒ\", sub1.fn )pub.publish( \"ç¯®çƒ\", \"è¿™é‡Œæœ‰ä¸€äº›NBAç›¸å…³çš„ä¿¡æ¯\" ) é€šç”¨ä»£ç ï¼š1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162let event = &#123; list: &#123;&#125;, on(key, fn) &#123; if (!this.list[key]) &#123; this.list[key] = []; &#125; this.list[key].push(fn); &#125;, emit() &#123; let key = [].shift.call(arguments), fns = this.list[key]; if (!fns || fns.length === 0) &#123; return false; &#125; fns.forEach(fn =&gt; &#123; fn.apply(this, arguments); &#125;); &#125;, remove(key, fn) &#123; // è¿™å›æˆ‘ä»¬åŠ å…¥äº†å–æ¶ˆè®¢é˜…çš„æ–¹æ³• let fns = this.list[key]; // å¦‚æœç¼“å­˜åˆ—è¡¨ä¸­æ²¡æœ‰å‡½æ•°ï¼Œè¿”å›false if (!fns) return false; // å¦‚æœæ²¡æœ‰ä¼ å¯¹åº”å‡½æ•°çš„è¯ // å°±ä¼šå°†keyå€¼å¯¹åº”ç¼“å­˜åˆ—è¡¨ä¸­çš„å‡½æ•°éƒ½æ¸…ç©ºæ‰ if (!fn) &#123; fns &amp;&amp; (fns.length = 0); &#125; else &#123; // éå†ç¼“å­˜åˆ—è¡¨ï¼Œçœ‹çœ‹ä¼ å…¥çš„fnä¸å“ªä¸ªå‡½æ•°ç›¸åŒ // å¦‚æœç›¸åŒå°±ç›´æ¥ä»ç¼“å­˜åˆ—è¡¨ä¸­åˆ æ‰å³å¯ fns.forEach((cb, i) =&gt; &#123; if (cb === fn) &#123; fns.splice(i, 1); &#125; &#125;); &#125; &#125;&#125;;function cat() &#123; console.log('ä¸€èµ·å–µå–µå–µ');&#125;function dog() &#123; console.log('ä¸€èµ·æ—ºæ—ºæ—º');&#125;event.on('pet', data =&gt; &#123; console.log('æ¥æ”¶æ•°æ®'); console.log(data);&#125;);event.on('pet', cat);event.on('pet', dog);// å–æ¶ˆdogæ–¹æ³•çš„è®¢é˜…event.remove('pet', dog);// å‘å¸ƒevent.emit('pet', ['äºŒå“ˆ', 'æ³¢æ–¯çŒ«']);/* æ¥æ”¶æ•°æ® [ 'äºŒå“ˆ', 'æ³¢æ–¯çŒ«' ] ä¸€èµ·å–µå–µå–µ*/ æ‘˜è‡ªï¼š å‘å¸ƒè®¢é˜…æ¨¡å¼ï¼Œåœ¨å·¥ä½œä¸­å®ƒçš„èƒ½é‡è¶…ä¹ä½ çš„æƒ³è±¡","categories":[{"name":"è®¾è®¡æ¨¡å¼","slug":"è®¾è®¡æ¨¡å¼","permalink":"http://blog.curtaintan.club/categories/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"}],"tags":[]},{"title":"è®¾è®¡æ¨¡å¼ï¼ˆä¸‰ï¼‰--ä»£ç†æ¨¡å¼","slug":"è®¾è®¡æ¨¡å¼ï¼ˆä¸‰ï¼‰-ä»£ç†æ¨¡å¼","date":"2020-02-08T13:08:41.000Z","updated":"2020-02-09T14:46:30.384Z","comments":true,"path":"2020/02/08/è®¾è®¡æ¨¡å¼ï¼ˆä¸‰ï¼‰-ä»£ç†æ¨¡å¼/","link":"","permalink":"http://blog.curtaintan.club/2020/02/08/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%EF%BC%88%E4%B8%89%EF%BC%89-%E4%BB%A3%E7%90%86%E6%A8%A1%E5%BC%8F/","excerpt":"å†™ä¸€ä¸ªä»£ç†æ¨¡å¼.","text":"å†™ä¸€ä¸ªä»£ç†æ¨¡å¼. 1. æƒ…æ™¯æƒ…æ™¯: å°æ˜è¿½å¥³ç”Ÿ A éä»£ç†æ¨¡å¼: å°æ˜ =èŠ±=&gt; å¥³ç”ŸA ä»£ç†æ¨¡å¼: å°æ˜ =èŠ±=&gt; è®©å¥³ç”ŸAçš„å¥½å‹Bå¸®å¿™ =èŠ±=&gt; å¥³ç”ŸA 2. ä»£ç†æ¨¡å¼çš„ç‰¹ç‚¹ ä»£ç†å¯¹è±¡å’Œæœ¬ä½“å¯¹è±¡å…·æœ‰ä¸€è‡´çš„æ¥å£, å¯¹ä½¿ç”¨è€…å‹å¥½ å¸¸ç”¨çš„è™šæ‹Ÿä»£ç†å½¢å¼ï¼šæŸä¸€ä¸ªèŠ±é”€å¾ˆå¤§çš„æ“ä½œï¼Œå¯ä»¥é€šè¿‡è™šæ‹Ÿä»£ç†çš„æ–¹å¼å»¶è¿Ÿåˆ°è¿™ç§éœ€è¦å®ƒçš„æ—¶å€™æ‰å»åˆ›å»ºï¼ˆä¾‹ï¼šä½¿ç”¨è™šæ‹Ÿä»£ç†å®ç°å›¾ç‰‡æ‡’åŠ è½½ï¼‰å›¾ç‰‡æ‡’åŠ è½½çš„æ–¹å¼ï¼šå…ˆé€šè¿‡ä¸€å¼ loadingå›¾å ä½ï¼Œç„¶åé€šè¿‡å¼‚æ­¥çš„æ–¹å¼åŠ è½½å›¾ç‰‡ï¼Œç­‰å›¾ç‰‡åŠ è½½å¥½äº†å†æŠŠå®Œæˆçš„å›¾ç‰‡åŠ è½½åˆ°imgæ ‡ç­¾é‡Œé¢ã€‚ è€ƒæ‹‰æµ·è´­å‰ç«¯å›¢é˜Ÿjuejin.im/post/59df4f74f265da430f311909 3. ä»£ç è®¾è®¡ 4. es6 ä»£ç†æ¨¡å¼ â€”- Proxyç›®çš„ï¼šåœ¨æ“ä½œå‰å¯ä»¥è¿›è¡Œå…¶ä»–çš„æ“ä½œï¼ˆå¯¹æ•°æ®åŠ å·¥ç­‰ï¼‰ã€‚ ä»£ç è®¾è®¡ è¿è¡Œç»“æœï¼š æ¡ˆä¾‹å‚è€ƒï¼š ES6ä¸­çš„ä»£ç†æ¨¡å¼â€”â€“Proxy é˜®ä¸€å³°â€“ es6 å…¥é—¨ 4. æ€»ç»“ä»£ç†æ¨¡å¼ï¼Œæ€»çš„æ¥è¯´ï¼Œæ˜¯åœ¨æ“ä½œå‰ï¼Œå¯ä»¥è¿›è¡Œå…¶ä»–çš„æ“ä½œã€‚ 5. å‚è€ƒææ–™BasicSkillâ€“ä»£ç†æ¨¡å¼ JavaScriptè®¾è®¡æ¨¡å¼ js â€“ä»£ç†æ¨¡å¼ 6. ä»£ç å›¾ç‰‡æ‡’åŠ è½½123456789101112131415161718192021222324252627// çœŸå®çš„å¯¹è±¡class RealImg &#123; constructor()&#123; this.imgNode = document.createElement(\"img\") document.body.appendChild( this.imgNode ) &#125; setSrc( src )&#123; this.imgNode.src = src &#125;&#125;// ä»£ç†å¯¹è±¡class ProxyImg &#123; constructor()&#123; this.realImg = new RealImg() &#125; setSrc( src )&#123; this.realImg.setSrc(\"http://seopic.699pic.com/photo/40007/8839.jpg_wh1200.jpg\") let img = new Image() img.src = src img.onload = () =&gt; &#123; this.realImg.setSrc( src ) &#125; &#125;&#125;let proxyImg = new ProxyImg()proxyImg.setSrc( \"http://seopic.699pic.com/photo/40006/7735.jpg_wh1200.jpg\" )","categories":[{"name":"è®¾è®¡æ¨¡å¼","slug":"è®¾è®¡æ¨¡å¼","permalink":"http://blog.curtaintan.club/categories/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"}],"tags":[]},{"title":"è®¾è®¡æ¨¡å¼ï¼ˆäºŒï¼‰--è§‚å¯Ÿè€…æ¨¡å¼","slug":"è®¾è®¡æ¨¡å¼ï¼ˆäºŒï¼‰-è§‚å¯Ÿè€…æ¨¡å¼","date":"2020-02-08T08:21:01.000Z","updated":"2020-02-08T09:33:31.663Z","comments":true,"path":"2020/02/08/è®¾è®¡æ¨¡å¼ï¼ˆäºŒï¼‰-è§‚å¯Ÿè€…æ¨¡å¼/","link":"","permalink":"http://blog.curtaintan.club/2020/02/08/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%EF%BC%88%E4%BA%8C%EF%BC%89-%E8%A7%82%E5%AF%9F%E8%80%85%E6%A8%A1%E5%BC%8F/","excerpt":"å†™ä¸€ä¸ªè§‚å¯Ÿè€…æ¨¡å¼ã€‚","text":"å†™ä¸€ä¸ªè§‚å¯Ÿè€…æ¨¡å¼ã€‚ ä»‹ç»æ„å›¾ï¼š å®šä¹‰å¯¹è±¡é—´çš„ä¸€ç§ä¸€å¯¹å¤šçš„ä¾èµ–å…³ç³»ï¼Œå½“ä¸€ä¸ªå¯¹è±¡çš„çŠ¶æ€å‘ç”Ÿæ”¹å˜æ—¶ï¼Œæ‰€æœ‰ä¾èµ–äºå®ƒçš„å¯¹è±¡éƒ½å¾—åˆ°é€šçŸ¥å¹¶è¢«è‡ªåŠ¨æ›´æ–°ã€‚ ä¸»è¦è§£å†³ï¼š ä¸€ä¸ªå¯¹è±¡çŠ¶æ€æ”¹å˜ç»™å…¶ä»–å¯¹è±¡é€šçŸ¥çš„é—®é¢˜ï¼Œè€Œä¸”è¦è€ƒè™‘åˆ°æ˜“ç”¨å’Œä½è€¦åˆï¼Œä¿è¯é«˜åº¦çš„åä½œã€‚ ä½•æ—¶ä½¿ç”¨ï¼š ä¸€ä¸ªå¯¹è±¡ï¼ˆç›®æ ‡å¯¹è±¡ï¼‰çš„çŠ¶æ€å‘ç”Ÿæ”¹å˜ï¼Œæ‰€æœ‰çš„ä¾èµ–å¯¹è±¡ï¼ˆè§‚å¯Ÿè€…å¯¹è±¡ï¼‰éƒ½å°†å¾—åˆ°é€šçŸ¥ï¼Œè¿›è¡Œå¹¿æ’­é€šçŸ¥ã€‚ å…³é”®ä»£ç ï¼š åœ¨æŠ½è±¡ç±»é‡Œæœ‰ä¸€ä¸ª ArrayList&lt;\\Observer&gt; å­˜æ”¾è§‚å¯Ÿè€…ä»¬ã€‚ å®ç°è§‚å¯Ÿè€…æ¨¡å¼1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950/** * è§‚å¯Ÿè€…æ¨¡å¼ * state çŠ¶æ€ * observers &#123; Observer &#125; ä¿å­˜æ‰€æœ‰çš„è§‚å¯Ÿè€… */class Subject&#123; constructor()&#123; this.state = 0 this.observers = [] &#125; getState()&#123; return this.state &#125; setState( state )&#123; this.state = state this.notifyAllObservers() &#125; // é€šçŸ¥æ‰€æœ‰çš„è§‚å¯Ÿè€… notifyAllObservers()&#123; this.observers.forEach( observer =&gt; &#123; observer.update() &#125;) &#125; // æ·»åŠ è§‚å¯Ÿè€… attach( observer )&#123; this.observers.push( observer ) &#125;&#125;// è§‚å¯Ÿè€…class Observer &#123; constructor( name, subject )&#123; this.name = name this.subject = subject this.subject.attach( this ) &#125; update()&#123; console.log( `$&#123; this.name &#125; -- update, state: $&#123; this.subject.getState() &#125;` ) &#125;&#125;// æµ‹è¯•let s = new Subject()let o1 = new Observer( \"o1\", s )let o2 = new Observer( \"o2\", s )s.setState( 11 )s.setState( 12 )console.log( s ) æµ‹è¯•ç»“æœï¼š æ€»ç»“ï¼šè§‚å¯Ÿè€…æ¨¡å¼çš„è¦ç‚¹ä¸»è¦æ˜¯å°†è§‚å¯Ÿè€…æ”¾åœ¨è¢«è§‚å¯Ÿè€…é‡Œé¢ï¼Œå½“çŠ¶æ€å˜åŒ–åï¼Œå°±ä¾æ¬¡é€šçŸ¥è§‚å¯Ÿè€…ã€‚ å‚è€ƒè¶…å…¨çš„è®¾è®¡æ¨¡å¼ç®€ä»‹ï¼ˆ45ç§ï¼‰â€”è§‚å¯Ÿè€…æ¨¡å¼ JavaScript ä¸­å¸¸è§è®¾è®¡æ¨¡å¼æ•´ç† è°ˆè°ˆè§‚å¯Ÿè€…æ¨¡å¼å’Œå‘å¸ƒè®¢é˜…æ¨¡å¼","categories":[{"name":"è®¾è®¡æ¨¡å¼","slug":"è®¾è®¡æ¨¡å¼","permalink":"http://blog.curtaintan.club/categories/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"}],"tags":[]},{"title":"è®¾è®¡æ¨¡å¼ï¼ˆä¸€ï¼‰--å•ä¾‹æ¨¡å¼","slug":"è®¾è®¡æ¨¡å¼ï¼ˆä¸€ï¼‰-å•ä¾‹æ¨¡å¼","date":"2020-02-08T06:00:08.000Z","updated":"2020-02-08T08:07:23.641Z","comments":true,"path":"2020/02/08/è®¾è®¡æ¨¡å¼ï¼ˆä¸€ï¼‰-å•ä¾‹æ¨¡å¼/","link":"","permalink":"http://blog.curtaintan.club/2020/02/08/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%EF%BC%88%E4%B8%80%EF%BC%89-%E5%8D%95%E4%BE%8B%E6%A8%A1%E5%BC%8F/","excerpt":"å†™ä¸€ä¸ªå•ä¾‹æ¨¡å¼ã€‚","text":"å†™ä¸€ä¸ªå•ä¾‹æ¨¡å¼ã€‚ å®šä¹‰ç¡®ä¿ä¸€ä¸ªç±»åªæœ‰ä¸€ä¸ªå®ä¾‹ï¼Œä½¿æ¯æ¬¡è·å–çš„å®ä¾‹éƒ½æ˜¯åŒä¸€ä¸ªã€‚ ä»£ç å®ç°123456789101112131415161718192021222324252627282930class Store &#123; constructor( name )&#123; this.name = name &#125; getName()&#123; return this.name &#125; setName( data )&#123; this.name = data &#125;&#125;// è·å–å•ä¾‹çš„æ–¹æ³• --- ä½¿ç”¨é—­åŒ…è·å–å•ä¾‹Store.getInstance = ( function()&#123; let instance return function( name )&#123; if( !instance )&#123; instance = new Store( name ) &#125; return instance &#125; &#125;)()let store1 = Store.getInstance( \"ä½ å¥½\" )let store2 = Store.getInstance( \"ä½ å¥½----\" )console.log( store1 )console.log( store2 )console.log( store1 === store2 ) è¿è¡Œç»“æœ æ€»ç»“å•ä¾‹æ¨¡å¼è¿ç”¨éå¸¸å¹¿æ³›ï¼Œåªè¦åœ¨ä»£ç ä¸­æ¶‰åŠåˆ°åªå­˜åœ¨ä¸€ä¸ªå®ä¾‹ï¼Œå°±å¯ä»¥ä½¿ç”¨å•ä¾‹æ¨¡å¼ï¼Œ vuex å’Œ redux å°±æ˜¯ä½¿ç”¨å•ä¾‹æ¨¡å¼æ„å»ºã€‚ å†™ä¸€ä¸ªå•ä¾‹æ¨¡å¼çš„è¦ç‚¹ï¼š ä½¿ç”¨ä¸€ä¸ªç‰¹å®šå‡½æ•°æ¥è·å–å•ä¾‹ï¼Œ æ­¤å‡½æ•°ä½¿ç”¨é—­åŒ…æ¥ç¡®ä¿ä½†ä¼šå•ä¾‹æ˜¯å”¯ä¸€çš„ï¼Œ ä½¿ç”¨å‡½æ•°æŸ¯ç†åŒ–â€“æ¥æ”¶ä¼ å…¥å‚æ•° å‚è€ƒJavaScriptè®¾è®¡æ¨¡å¼ JavaScriptè®¾è®¡æ¨¡å¼es6ï¼ˆ23ç§) JavaScript ä¸­å¸¸è§è®¾è®¡æ¨¡å¼æ•´ç†","categories":[{"name":"è®¾è®¡æ¨¡å¼","slug":"è®¾è®¡æ¨¡å¼","permalink":"http://blog.curtaintan.club/categories/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"}],"tags":[]},{"title":"javascriptä¹‹é˜²æŠ–ä¸èŠ‚æµ","slug":"javascriptä¹‹èŠ‚æµä¸é˜²æŠ–","date":"2020-02-07T05:27:55.000Z","updated":"2020-02-08T05:59:26.654Z","comments":true,"path":"2020/02/07/javascriptä¹‹èŠ‚æµä¸é˜²æŠ–/","link":"","permalink":"http://blog.curtaintan.club/2020/02/07/javascript%E4%B9%8B%E8%8A%82%E6%B5%81%E4%B8%8E%E9%98%B2%E6%8A%96/","excerpt":"å†™ä¸€ä¸ªé˜²æŠ–ä¸èŠ‚æµã€‚","text":"å†™ä¸€ä¸ªé˜²æŠ–ä¸èŠ‚æµã€‚ 1. é˜²æŠ–ä»€ä¹ˆæ˜¯é˜²æŠ–ï¼š å½“ä¸€ä¸ªäº‹ä»¶è§¦å‘åï¼Œåœ¨ n ç§’åæ‰æ‰§è¡Œç›¸å…³å‡½æ•°ï¼Œå¦‚æœåœ¨ n ç§’å†…å†æ¬¡è§¦å‘äº‹ä»¶ï¼Œåˆ™åœ¨æ–°äº‹ä»¶ n ç§’åæ‰æ‰§è¡Œç›¸å…³å‡½æ•°ã€‚ å‡½æ•°åŠŸèƒ½è®¾è®¡ä¸å®ç°åŸç†ï¼š ç”¨æˆ·å¯ä»¥æ ¹æ®éœ€æ±‚è‡ªä¼ å®šä¹‰æ‰§è¡Œå‡½æ•°ã€é—´éš”æ—¶é—´ã€æ˜¯å¦ç«‹å³æ‰§è¡Œæ¥ä¼ å…¥å¯¹åº”çš„å‚æ•°ã€‚ ä½¿ç”¨é—­åŒ…å‡½æ•°ï¼Œè®¾ç½®ä¸€ä¸ªå®šæ—¶å™¨ä½œä¸ºæ ‡å¿—æ”¾åœ¨é—­åŒ…å†…ï¼Œä½¿ç”¨å‡½æ•°æŸ¯ç†åŒ–æ¥æ”¶ä¼ å…¥å‚æ•°ã€‚ ä»£ç ï¼š 123456789101112131415161718192021/** * é˜²æŠ–å‡½æ•° * @param fn å›è°ƒå‡½æ•° * @param time é—´éš”æ—¶é—´ type number * @param immediate ç«‹åˆ»æ‰§è¡Œ type boolean */function debounce( fn, time, immediate = false )&#123; let timeount return function()&#123; if( timeount )&#123; clearTimeout( timeount ) &#125; if( immediate &amp;&amp; !timeount )&#123; fn.apply( this, arguments ) &#125; timeount = setTimeout( () =&gt; &#123; // æ­¤å¤„è¿ç”¨å‡½æ•°æŸ¯ç†åŒ– arguments ä¸ºè°ƒç”¨å‡½æ•°æ—¶çš„å‚æ•° fn.apply( this, arguments ) // æ­¤å¤„æ”¾å¼€æ³¨é‡Š-ä¼šè®©æ¯ä¸€æ¬¡æ‰§è¡Œå®Œåï¼Œç¬¬ä¸€æ¬¡éƒ½ä¼šç«‹å³æ‰§è¡Œä¸€æ¬¡ // timeount = null &#125;, time || 500 ) &#125;&#125; æµ‹è¯•ï¼š è‡ªå»ºhtmlæ–‡ä»¶æµ‹è¯•123456function go( e )&#123; console.log( e )&#125;document.addEventListener( \"mousemove\", debounce( go, 500, false ) )// è‡ªä¼ å‚æ•°debounce( go, 500, false )( \"æˆ‘æ˜¯è‡ªå·±ä¼ è¿›å»çš„å‚æ•°--\" ) 2. èŠ‚æµä»€ä¹ˆæ˜¯èŠ‚æµï¼š èŠ‚æµï¼Œå°±æ˜¯æŒ‡è¿ç»­è§¦å‘äº‹ä»¶ä½†æ˜¯åœ¨ n ç§’ä¸­åªæ‰§è¡Œä¸€æ¬¡å‡½æ•°ã€‚ èŠ‚æµä¼šç¨€é‡Šå‡½æ•°çš„æ‰§è¡Œé¢‘ç‡ã€‚ ä»£ç ï¼š 1234567891011121314151617181920212223/** * èŠ‚æµå‡½æ•° * @param fn å›è°ƒå‡½æ•° * @param time é—´éš”æ—¶é—´ type number * @param immediate ç«‹åˆ»æ‰§è¡Œ type boolean */function throttle( fn, time, immediate = false )&#123; let timeount let isFrist = true return function()&#123; if( immediate &amp;&amp; isFrist )&#123; fn.apply( this, arguments ) isFrist = false &#125; if( !timeount )&#123; timeount = setTimeout( () =&gt; &#123; fn.apply( this, arguments ) timeount = null &#125;, time || 500 ) &#125; &#125;&#125; æµ‹è¯•ï¼š è‡ªå»ºhtmlæ–‡ä»¶æµ‹è¯•123456function go( e )&#123; console.log( e )&#125;document.addEventListener( \"mousemove\", throttle( go, 500, true ) )// è‡ªä¼ å‚æ•°throttle( go, 500, false )( \"æˆ‘æ˜¯è‡ªå·±ä¼ è¿›å»çš„å‚æ•°--\" ) æ€»ç»“ï¼šé˜²æŠ–å’ŒèŠ‚æµåœ¨ä»£ç ä¸­è¢«ä½¿ç”¨çš„é¢‘ç‡è¿˜æ˜¯è›®å¤§çš„ï¼Œ å‡½æ•°çš„ç¼–å†™æœ‰å€Ÿé‰´ï¼Œä¹Ÿæœ‰è‡ªå·±çš„æ€è€ƒï¼Œæ„Ÿè§‰è‡ªå·±æ€è€ƒè¿‡åï¼Œæ‰ä¼šå¯¹å‡½æ•°æœ‰æ›´æ·±çš„ç†è§£ã€‚ é˜²æŠ–å¯ä»¥è¿ç”¨åœ¨ï¼š window çš„ resizeã€scroll mousedownã€mousemove keyupã€keydown æœç´¢è‡ªåŠ¨å¼¹å‡º æœç´¢è”æƒ³ é˜²æŠ–å‡½æ•°è¦ç‚¹ï¼š æ¯ä¸€æ¬¡è§¦å‘äº‹ä»¶ï¼Œéƒ½è¦æ¸…é™¤å®šæ—¶å™¨ï¼Œå¹¶é‡ç½® timeout å®šæ—¶å™¨ã€‚ èŠ‚æµå‡½æ•°è¦ç‚¹ï¼š æ¯æ¬¡æ‰§è¡Œå®Œå‡½æ•°åï¼Œéƒ½è¦æŠŠæ ‡å¿—ç½®ä¸ºnull å‚è€ƒwclimbâ€“JavaScriptä¹‹èŠ‚æµä¸é˜²æŠ– å‡½æ•°é˜²æŠ–å’ŒèŠ‚æµ JavaScriptä¸“é¢˜ä¹‹è·Ÿç€ underscore å­¦èŠ‚æµ JavaScriptä¸“é¢˜ä¹‹è·Ÿç€underscoreå­¦é˜²æŠ–","categories":[{"name":"javascript","slug":"javascript","permalink":"http://blog.curtaintan.club/categories/javascript/"}],"tags":[{"name":"jsåŸºç¡€","slug":"jsåŸºç¡€","permalink":"http://blog.curtaintan.club/tags/js%E5%9F%BA%E7%A1%80/"}]},{"title":"javascriptä¹‹ç»§æ‰¿","slug":"javascriptä¹‹ç»§æ‰¿","date":"2020-02-06T06:07:35.000Z","updated":"2020-02-08T06:01:06.340Z","comments":true,"path":"2020/02/06/javascriptä¹‹ç»§æ‰¿/","link":"","permalink":"http://blog.curtaintan.club/2020/02/06/javascript%E4%B9%8B%E7%BB%A7%E6%89%BF/","excerpt":"åœ¨ es6 ä¹‹å‰ï¼ŒjavaScript ä¸èƒ½ä½¿ç”¨ extends æ¥æ˜¾å¼ç»§æ‰¿çš„ï¼Œæ‰€ä»¥ï¼Œç»§æ‰¿éœ€è¦ç¨‹åºå‘˜æ‰‹åŠ¨å®Œæˆã€‚ é‚£ä¹ˆï¼Œè®©æˆ‘ä»¬æ¥çœ‹ä¸€çœ‹ js ä¸­çš„å„ç§ç»§æ‰¿æ–¹å¼å§ã€‚","text":"åœ¨ es6 ä¹‹å‰ï¼ŒjavaScript ä¸èƒ½ä½¿ç”¨ extends æ¥æ˜¾å¼ç»§æ‰¿çš„ï¼Œæ‰€ä»¥ï¼Œç»§æ‰¿éœ€è¦ç¨‹åºå‘˜æ‰‹åŠ¨å®Œæˆã€‚ é‚£ä¹ˆï¼Œè®©æˆ‘ä»¬æ¥çœ‹ä¸€çœ‹ js ä¸­çš„å„ç§ç»§æ‰¿æ–¹å¼å§ã€‚ å‰ç½®çŸ¥è¯†åŸå‹é“¾ æˆ‘ä»¬éœ€è¦äº†è§£åŸå‹å’ŒåŸå‹é“¾ï¼Œéœ€è¦çŸ¥é“æ„é€ å‡½æ•°ä¸åŸå‹å¯¹è±¡ä¹‹é—´çš„å…³ç³»ï¼Œéœ€è¦çŸ¥é“åŸå‹å¯¹è±¡æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå®ƒæœ‰ä¸ªå±æ€§ constructor å°±æ˜¯æ„é€ å‡½æ•° Object.creact() æ–¹æ³• ä¼ å…¥åŸå‹å¯¹è±¡ï¼Œè¿”å›åŸå‹å¯¹è±¡å’Œå±æ€§ã€‚ 1. åŸå‹é“¾ç»§æ‰¿åŸç†è¯´æ˜ï¼š å°±æ˜¯å°†å·²ç» new å‡ºæ¥çš„å¯¹è±¡å®ä¾‹çš„ prototype å˜æˆçˆ¶å¯¹è±¡ï¼Œä»è€Œï¼ŒæŠŠçˆ¶å¯¹è±¡çš„å±æ€§å’Œæ–¹æ³•éƒ½ç»§æ‰¿åˆ°äº†å½“å‰å¯¹è±¡çš„ prototype ä¸Šï¼Œå½“å‰å¯¹è±¡çš„å®ä¾‹æœ¬èº«æ²¡æœ‰çˆ¶å¯¹è±¡çš„å±æ€§ä¸æ–¹æ³•ï¼Œå½“è°ƒç”¨è¿™äº›æ–¹æ³•æ—¶ï¼Œä»–ä¼šè‡ªåŠ¨åˆ°æ­¤å¯¹è±¡çš„ prototype ä¸Šä¾æ¬¡å»æ‰¾ï¼Œç›´åˆ°æ‰¾åˆ° null ä¸ºæ­¢ï¼Œè¿™å°±ç§°ä¸ºåŸå‹é“¾ç»§æ‰¿ã€‚ å®ç° 123456789101112131415161718192021222324function Person( name=\"tan\", age=18 )&#123; this.name = name this.age = age this.run = function()&#123; console.log(`$&#123; this.name &#125; can run...`) &#125;&#125;Person.prototype.getName = function()&#123; return this.name&#125;function Student( id = 12 )&#123; this.id = id this.study = function()&#123; console.log( `$&#123;name&#125; can study...` ) &#125;&#125;// ä¿®æ”¹åŸå‹å¯¹è±¡ï¼Œå¹¶æ”¹å›æ„é€ å‡½æ•°Student.prototype = new Person()Student.prototype.constuctor = Studentvar S = new Student( 12 )console.log( \"å®ä¾‹Sï¼š\", S )S.run()console.log( S instanceof Student ) è¿è¡Œç»“æœï¼š 1.1 æ€»ç»“ï¼š ç”±ä¸Šé¢çš„ä¾‹å­å¯è§ï¼Œå½“ç»§æ‰¿çš„å¯¹è±¡éœ€è¦ä¼ å‚æ—¶ï¼Œæåº¦ä¸çµæ´»ï¼Œå› ä¸º prototype æ˜¯ä¸€ä¸ªçˆ¶ç±»çš„å®ä¾‹ã€‚ æ•…ï¼šæ­¤ç»§æ‰¿æ–¹æ³•é€‚åˆç»§æ‰¿æ–¹æ³•ï¼Œè€Œä¸é€‚åˆç»§æ‰¿å±æ€§ã€‚ 2. å€Ÿç”¨æ„é€ å‡½æ•°ç»§æ‰¿åŸç†è¯´æ˜ï¼š åœ¨æ„é€ å‡½æ•°ä¸­ï¼Œæ”¹å˜çˆ¶ç±»æ„é€ å‡½æ•°çš„ this å¹¶æ‰§è¡Œæ„é€ å‡½æ•°ã€‚ å®ç°ï¼š 1234567891011121314151617181920212223function Person( name=\"tan\", age=18 )&#123; this.name = name this.age = age this.run = function()&#123; console.log(`$&#123; this.name &#125; can run...`) &#125;&#125;Person.prototype.getName = function()&#123; return this.name&#125;function Student( id = 12, name, age )&#123; this.id = id this.study = function()&#123; console.log( `$&#123;name&#125; can study...` ) &#125; // æ”¹å˜çˆ¶ç±»æ„é€ å‡½æ•°å¹¶ä¼ å‚æ‰§è¡Œ ä¹Ÿå¯ä»¥ä½¿ç”¨ apply æ”¹å˜ this Person.call( this, name, age )&#125;var S = new Student( 12, \"yu\", 12 )console.log( \"å®ä¾‹Sï¼š\", S )S.run()console.log( S instanceof Student ) è¿è¡Œç»“æœï¼š æ€»ç»“ï¼š å¯ä»¥ä¼ å‚ç»™çˆ¶ç±»æ„é€ å‡½æ•°äº†ï¼Œä½†æ˜¯æ­¤æ–¹æ³•ä¸èƒ½ç»§æ‰¿çˆ¶ç±»åŸå‹é“¾ï¼ˆ prototype ï¼‰ä¸Šçš„æ–¹æ³•å’Œå‚æ•°ã€‚ 3. ç»„åˆç»§æ‰¿åŸç†è¯´æ˜ï¼š å°†ä¸Šé¢ä¸¤ç§æ–¹æ³•ç»“åˆèµ·æ¥ï¼Œç›®çš„æ˜¯ç»§æ‰¿åˆ°çˆ¶ç±»åŸå‹é“¾ä¸Šçš„æ–¹æ³•ã€‚ å®ç°ï¼š 1234567891011121314151617181920212223242526function Person( name=\"tan\", age=18 )&#123; this.name = name this.age = age this.run = function()&#123; console.log(`$&#123; this.name &#125; can run...`) &#125;&#125;Person.prototype.getName = function()&#123; return this.name&#125;function Student( id = 12, name, age )&#123; this.id = id this.study = function()&#123; console.log( `$&#123;name&#125; can study...` ) &#125; // æ”¹å˜çˆ¶ç±»æ„é€ å‡½æ•°å¹¶ä¼ å‚æ‰§è¡Œ Person.call( this, name, age )&#125;// ç»§æ‰¿çˆ¶ç±»åŸå‹é“¾Student.prototype = new Person()Student.prototype.constuctor = Studentvar S = new Student( 12, \"yu\", 17 )console.log( \"å®ä¾‹Sï¼š\", S )console.log( \"getName:\", S.getName() )console.log( S instanceof Student ) è¿è¡Œç»“æœï¼š æ€»ç»“ï¼š å¾ˆå¥½çš„ç»§æ‰¿äº†çˆ¶ç±»ï¼Œå¹¶ç»§æ‰¿äº†åŸå‹é“¾ï¼Œä½†æ˜¯å¤šäº†ä¸€äº›å±æ€§åœ¨åŸå‹é“¾ä¸Šã€‚ä¸‹é¢æˆ‘ä»¬å°†è§£å†³è¿™ä¸ªé—®é¢˜ã€‚ 4. ç»„åˆç»§æ‰¿å˜ç§â€”â€”å€Ÿç”¨åŸå‹é“¾ç»§æ‰¿åŸç†è¯´æ˜ï¼š å°†å­ç±»çš„åŸå‹é“¾æŒ‡å‘çˆ¶ç±»çš„åŸå‹é“¾ï¼Œè¾¾åˆ°ç»§æ‰¿çˆ¶ç±»åŸå‹é“¾çš„ç›®çš„ï¼š å®ç°ï¼š ä¿®æ”¹ç»„åˆç»§æ‰¿çš„ä»£ç ï¼š1234567// ç»§æ‰¿çˆ¶ç±»åŸå‹é“¾Student.prototype = new Person()Student.prototype.constuctor = Student// ä¿®æ”¹ä¸ºï¼šStudent.prototype = Object.create( Person.prototype )Student.prototype.constuctor = Student è¿è¡Œç»“æœï¼š æ€»ç»“ï¼š å®Œç¾çš„ç»§æ‰¿äº†çˆ¶ç±»ï¼Œå¹²å‡€åˆ©ç´¢ã€‚ 5. ES6 ç±»ç»§æ‰¿ extendså®ç°è¯´æ˜ï¼šextends å…³é”®å­—ä¸»è¦ç”¨äºç±»å£°æ˜æˆ–è€…ç±»è¡¨è¾¾å¼ä¸­ï¼Œä»¥åˆ›å»ºä¸€ä¸ªç±»ï¼Œè¯¥ç±»æ˜¯å¦ä¸€ä¸ªç±»çš„å­ç±»ã€‚å…¶ä¸­ constructor è¡¨ç¤ºæ„é€ å‡½æ•°ï¼Œä¸€ä¸ªç±»ä¸­åªèƒ½æœ‰ä¸€ä¸ªæ„é€ å‡½æ•°ï¼Œæœ‰å¤šä¸ªä¼šæŠ¥å‡º SyntaxError é”™è¯¯,å¦‚æœæ²¡æœ‰æ˜¾å¼æŒ‡å®šæ„é€ æ–¹æ³•ï¼Œåˆ™ä¼šæ·»åŠ é»˜è®¤çš„ constructor æ–¹æ³•ï¼Œä½¿ç”¨ super æ–¹æ³•ä¼ å‚åˆ°çˆ¶ç±»æ„é€ å‡½æ•°ã€‚ å®ç°ï¼š es6 extends ç»§æ‰¿1234567891011121314151617181920212223242526class Person&#123; constructor( name=\"tan\", age=18 )&#123; this.name = name this.age = age &#125; run = function() &#123; console.log(`$&#123; this.name &#125; can run...`) &#125; getName = function (params) &#123; return this.name &#125;&#125;class Student extends Person&#123; constructor( id, name, age )&#123; super( name, age ) this.id = id &#125; study = function()&#123; console.log( `$&#123;name&#125; can study...` ) &#125;&#125;var S = new Student( 12, \"yu\", 17 )console.log( \"å®ä¾‹Sï¼š\", S )console.log( \"getName:\", S.getName() )console.log( S instanceof Student ) è¿è¡Œç»“æœï¼š æ€»ç»“ï¼š ç®€å•ã€å®Œç¾ ç–‘é—®ï¼šåœ¨ç¬¬å››ç§ç»§æ‰¿æ–¹å¼ä¸­ï¼Œä¸ºä»€ä¹ˆä¸èƒ½ç›´æ¥æ”¹æˆ Student.prototype = Person.prototypeï¼Œè€Œè¦ä½¿ç”¨ Object.create( Person.prototype ), ä»£ç ï¼š 12345678910111213141516171819202122232425function Person( name=\"tan\", age=18 )&#123; this.name = name this.age = age this.run = function()&#123; console.log(`$&#123; this.name &#125; can run...`) &#125;&#125;Person.prototype.getName = function()&#123; return this.name&#125;function Student( id = 12, name, age )&#123; this.id = id this.study = function()&#123; console.log( `$&#123;name&#125; can study...` ) &#125; // æ”¹å˜çˆ¶ç±»æ„é€ å‡½æ•°å¹¶ä¼ å‚æ‰§è¡Œ Person.call( this, name, age )&#125;Student.prototype = Person.prototypeStudent.prototype.constuctor = Studentvar S = new Student( 12, \"yu\", 17 )console.log( \"å®ä¾‹Sï¼š\", S )console.log( \"getName:\", S.getName() )console.log( S instanceof Student ) ç»“æœæ˜¯ï¼š å¦‚æœä½ çŸ¥é“åŸå› ï¼Œè¯·åœ¨ä¸‹æ–¹è¯„è®ºåŒºç»™æˆ‘ç•™è¨€ã€‚æ„Ÿè°¢ï¼ æ€»ç»“ï¼šå°½ç®¡ç»§æ‰¿æ–¹å¼äº”èŠ±å…«é—¨ï¼Œä½†æ˜¯ç»§æ‰¿çš„ç›®çš„å´æ˜¯ä¸å˜çš„ï¼š å°†çˆ¶ç±»å±æ€§å’Œæ–¹æ³•å¤åˆ¶åˆ°å½“å‰ç±» ( åœ¨æ„é€ å‡½æ•°å†…æ”¹å˜çˆ¶ç±»æ„é€ å‡½æ•°çš„thiså¹¶æ‰§è¡Œ ) ç»§æ‰¿çˆ¶ç±»çš„åŸå‹é“¾ ï¼ˆ ä¿®æ”¹æ„é€ å‡½æ•°çš„ prototype æŒ‡å‘çˆ¶ç±»çš„ prototype ï¼‰ å‚è€ƒï¼šçœ‹äº†éƒ½çŸ¥é“ç»§æ‰¿ä¹Ÿå°±é‚£ä¹ˆå›äº‹å„¿ JavaScriptå¸¸ç”¨å…«ç§ç»§æ‰¿æ–¹æ¡ˆ","categories":[{"name":"javascript","slug":"javascript","permalink":"http://blog.curtaintan.club/categories/javascript/"}],"tags":[{"name":"jsåŸºç¡€","slug":"jsåŸºç¡€","permalink":"http://blog.curtaintan.club/tags/js%E5%9F%BA%E7%A1%80/"}]},{"title":"javascript ä¹‹ new çš„å®ç°","slug":"javascript ä¹‹ new çš„å®ç°","date":"2020-02-06T02:30:46.000Z","updated":"2020-02-08T06:00:56.389Z","comments":true,"path":"2020/02/06/javascript ä¹‹ new çš„å®ç°/","link":"","permalink":"http://blog.curtaintan.club/2020/02/06/javascript%20%E4%B9%8B%20new%20%E7%9A%84%E5%AE%9E%E7%8E%B0/","excerpt":"ç½‘ä¸Šæœ‰å¾ˆå¤šè®²åŸå‹ã€åŸå‹é“¾ã€new çš„æ‰§è¡Œä¸å®ç°çš„æ–‡ç« ï¼Œæˆ‘ä¹Ÿçœ‹äº†å¾ˆå¤šã€‚ æœ¬æ–‡æè¿°ä¸€ä¸‹ new çš„æ‰§è¡Œè¿‡ç¨‹ä¸æ‰‹å†™å®ç°ä¸€ä¸ª new çš„å®ç°ã€‚","text":"ç½‘ä¸Šæœ‰å¾ˆå¤šè®²åŸå‹ã€åŸå‹é“¾ã€new çš„æ‰§è¡Œä¸å®ç°çš„æ–‡ç« ï¼Œæˆ‘ä¹Ÿçœ‹äº†å¾ˆå¤šã€‚ æœ¬æ–‡æè¿°ä¸€ä¸‹ new çš„æ‰§è¡Œè¿‡ç¨‹ä¸æ‰‹å†™å®ç°ä¸€ä¸ª new çš„å®ç°ã€‚ 1. new çš„æ‰§è¡Œè¿‡ç¨‹ æˆ‘ä»¬ä»¥ä¸Šå›¾ä¸ºä¾‹é˜è¿° new çš„æ‰§è¡Œè¿‡ç¨‹ã€‚ åˆ›å»ºä¸€ä¸ªä¸­é—´å¯¹è±¡ å°†è¯¥ä¸­é—´å¯¹è±¡çš„åŸå‹æŒ‡å‘æ„é€ å‡½æ•°çš„åŸå‹ å°†æ„é€ å‡½æ•°çš„ this æŒ‡å‘è¯¥ä¸­é—´å¯¹è±¡å¹¶æ‰§è¡Œ è¿”å›è¯¥ä¸­é—´å¯¹è±¡ï¼Œå³è¿”å›å®ä¾‹å¯¹è±¡ 2. ä»£ç å®ç°1234567891011121314function myNew()&#123; // å–å‡ºä¼ å…¥å‚æ•° let argArray = Array.from( arguments ) // å–å‡ºæ„é€ å‡½æ•°ä¸éœ€è¦ä¼ å…¥æ„é€ å‡½æ•°çš„å‚æ•° let constructorFun = argArray.shift() // åˆ›å»ºä¸­é—´å‡½æ•° let obj = &#123;&#125; // å°†è¯¥ä¸­é—´å¯¹è±¡çš„åŸå‹æŒ‡å‘æ„é€ å‡½æ•°çš„åŸå‹ obj.__proto__ = constructorFun.prototype // ç»‘å®š this å¹¶ä¼ å…¥å‚æ•°æ‰§è¡Œ constructorFun.apply( obj, argArray ) // è¿”å›åˆ›å»ºçš„å¯¹è±¡ return obj&#125; 3. è¿è¡Œæµ‹è¯•12345678910111213141516function Animal( name, age )&#123; this.name = name this.age = age&#125;function myNew()&#123; let argArray = Array.from( arguments ) let constructorFun = argArray.shift() let obj = &#123;&#125; obj.__proto__ = constructorFun.prototype constructorFun.apply( obj, argArray ) return obj&#125;console.log( \"myNewï¼š\",myNew( Animal, \"dog\", \"12\" ) )console.log( \"newï¼š\", new Animal( \"cat\", \"11\" ) ) æµ‹è¯•ç»“æœï¼š æ€»ç»“å†™å‡º new çš„æ‰§è¡Œè¿‡ç¨‹ä¸å®ç°ï¼ŒåŸºæœ¬ç®—æ˜¯è€ƒå¯Ÿå¯¹ prototype åŸå‹é“¾çš„ç†è§£ã€‚ å‚è€ƒï¼šå½»åº•æ‹æ¸…æ¥š new çš„å®ç°","categories":[{"name":"javascript","slug":"javascript","permalink":"http://blog.curtaintan.club/categories/javascript/"}],"tags":[{"name":"jsåŸºç¡€","slug":"jsåŸºç¡€","permalink":"http://blog.curtaintan.club/tags/js%E5%9F%BA%E7%A1%80/"}]},{"title":"æ€è·¯æ¸…æ™°---å†™ä¸€ä¸ªæ·±æ‹·è´","slug":"æ€è·¯æ¸…æ™°-å†™ä¸€ä¸ªæ·±æ‹·è´","date":"2020-01-31T09:38:59.000Z","updated":"2020-02-06T15:05:37.998Z","comments":true,"path":"2020/01/31/æ€è·¯æ¸…æ™°-å†™ä¸€ä¸ªæ·±æ‹·è´/","link":"","permalink":"http://blog.curtaintan.club/2020/01/31/%E6%80%9D%E8%B7%AF%E6%B8%85%E6%99%B0-%E5%86%99%E4%B8%80%E4%B8%AA%E6%B7%B1%E6%8B%B7%E8%B4%9D/","excerpt":"å†™ä¸€ä¸ªæ·±æ‹·è´ï¼Œè€ƒè™‘æ•°ç»„ã€å¯¹è±¡å’Œå¾ªç¯å¼•ç”¨ã€‚","text":"å†™ä¸€ä¸ªæ·±æ‹·è´ï¼Œè€ƒè™‘æ•°ç»„ã€å¯¹è±¡å’Œå¾ªç¯å¼•ç”¨ã€‚ 1.å‡†å¤‡ä¸¤ä¸ªå¯¹è±¡ æ— å¾ªç¯å¼•ç”¨çš„å¯¹è±¡ 12345678910111213var target = &#123; field1: \"string\", field2: 33, field3: undefined, field4: null, field5: &#123; child: \"child\" &#125;, field6: [ 1, 2, 3, 4 ], field7: function()&#123; console.log( this.field1 ) &#125;&#125; æœ‰å¾ªç¯å¼•ç”¨çš„å¯¹è±¡1234567891011121314var target = &#123; field1: \"string\", field2: 33, field3: undefined, field4: null, field5: &#123; child: \"child\" &#125;, field6: [ 1, 2, 3, 4 ], field7: function()&#123; console.log( this.field1 ) &#125;&#125;target.target = target 2.ä½¿ç”¨ JSON.parse(JSON.stringify())2.1å¤åˆ¶ä¸€ä¸ªæ— å¾ªç¯å¼•ç”¨çš„å¯¹è±¡ï¼Œä»£ç å¦‚ä¸‹ï¼š12345678910111213141516var target = &#123; field1: \"string\", field2: 33, field3: undefined, field4: null, field5: &#123; child: \"child\" &#125;, field6: [ 1, 2, 3, 4 ], field7: function()&#123; console.log( this.field1 ) &#125;&#125;var res = JSON.parse( JSON.stringify( target ) )console.log( \"target: \", target )console.log( \"res: \", res ) å¾—åˆ°çš„ç»“æœæ˜¯ï¼š æ€»ç»“ï¼šå¯è§ï¼ŒJSON.stringify() ä¸èƒ½å¤„ç†undefinedå’Œfunctionã€‚ 2.2å¤åˆ¶ä¸€ä¸ªå¾ªç¯åº”ç”¨çš„å¯¹è±¡1234567891011121314151617var target = &#123; field1: \"string\", field2: 33, field3: undefined, field4: null, field5: &#123; child: \"child\" &#125;, field6: [ 1, 2, 3, 4 ], field7: function()&#123; console.log( this.field1 ) &#125;&#125;target.target = targetvar res = JSON.parse( JSON.stringify( target ) )console.log( \"target: \", target )console.log( \"res: \", res ) ç»“æœï¼š æ€»ç»“ï¼šå¯è§ï¼ŒJSON.stringify() ä¸èƒ½å¤„ç†å¤„ç†å¾ªç¯å¼•ç”¨çš„ç»“æ„ 3.æ‰‹å†™ä¸€ä¸ªæ·±æ‹·è´3.1æµ…æ‹·è´1234567function clone( target )&#123; let cloneTarget = &#123;&#125; for( let key in target )&#123; cloneTarget[key] = target[key] &#125; return cloneTarget&#125; ä¸Šé¢æ˜¯ä¸€ä¸ªæµ…æ‹·è´ï¼Œæ²¡æœ‰è€ƒè™‘æ•°ç»„ä¸å¯¹è±¡ã€‚ 3.2 è€ƒè™‘å¯¹è±¡æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ typeof æ¥åˆ¤æ–­æ•°æ®ç±»å‹ï¼š typeofå¯ä»¥æŸ¥çœ‹æ•°æ®çš„ç±»å‹æœ‰ 7 ç§ï¼štypeof 12345 === numbertypeof â€œ999â€ === stringtypeof {} === object null []typeof undefined === undefinedtypeof true === booleantypeof symbol(23) === symboltypeof console.log === function typeofå°æç¤º ä½¿ç”¨é€’å½’å¤„ç†å¼•ç”¨å¯¹è±¡çš„æ‹·è´ï¼š 1234567891011function clone( target )&#123; if( typeof target === \"object\" )&#123; let cloneTarget = &#123;&#125; for( let key in target )&#123; cloneTarget[key] = clone( target[key] ) &#125; return cloneTarget &#125; else &#123; return target &#125;&#125; ç»“æœï¼š æ€»ç»“ å› ä¸ºtypeofä¼šæŠŠæ•°ç»„è¯†åˆ«æˆobjectï¼Œæ‰€ä»¥ï¼Œä»£ç è¿˜éœ€è¦å†åº¦æ”¹è¿›ã€‚ 3.3 è€ƒè™‘æ•°ç»„1234567891011function clone( target )&#123; if( typeof target === \"object\" )&#123; let cloneTarget = Array.isArray( target ) ? [] : &#123;&#125; for( let key in target )&#123; cloneTarget[key] = clone( target[key] ) &#125; return cloneTarget &#125; else &#123; return target &#125;&#125; æµ‹è¯•ç»“æœï¼š æ€»ç»“ï¼š å¯è§ï¼Œæ•°ç»„ä¹Ÿå¯ä»¥å¤åˆ¶äº†ï¼Œä¸‹é¢æˆ‘ä»¬è¦è§£å†³å¾ªç¯å¼•ç”¨ã€‚ 3.4 è€ƒè™‘å¾ªç¯å¼•ç”¨å½“å­¦ä¹ è¿‡è®¾è®¡æ¨¡å¼åï¼Œæˆ‘ä»¬ä¼šå‘ç°ï¼Œæœ‰å¾ˆå¤šæƒ…å†µå­˜åœ¨å¾ªç¯å¼•ç”¨çš„é—®é¢˜ï¼Œæ‰€ä»¥ï¼Œåœ¨æ·±æ‹·è´æ—¶ï¼Œå¾ªç¯å¼•ç”¨çš„é—®é¢˜æ˜¯å¿…é¡»è¦è§£å†³çš„ã€‚ è§£å†³å¾ªç¯å¼•ç”¨é—®é¢˜ï¼Œæˆ‘ä»¬å¯ä»¥é¢å¤–å¼€è¾Ÿä¸€ä¸ªå­˜å‚¨ç©ºé—´ï¼Œæ¥å­˜å‚¨å½“å‰å¯¹è±¡å’Œæ‹·è´å¯¹è±¡çš„å¯¹åº”å…³ç³»ï¼Œå½“éœ€è¦æ‹·è´å½“å‰å¯¹è±¡æ—¶ï¼Œå…ˆå»å­˜å‚¨ç©ºé—´ä¸­æ‰¾ï¼Œæœ‰æ²¡æœ‰æ‹·è´è¿‡è¿™ä¸ªå¯¹è±¡ï¼Œå¦‚æœæœ‰çš„è¯ç›´æ¥è¿”å›ï¼Œå¦‚æœæ²¡æœ‰çš„è¯ç»§ç»­æ‹·è´ï¼Œè¿™æ ·å°±å·§å¦™åŒ–è§£çš„å¾ªç¯å¼•ç”¨çš„é—®é¢˜ã€‚ â€”å¼•ç”¨è‡ªï¼šå¦‚ä½•å†™å‡ºä¸€ä¸ªæƒŠè‰³é¢è¯•å®˜çš„æ·±æ‹·è´? es6ä¸­ï¼Œæœ‰è¿™æ ·ä¸€ç§æ•°æ®ç»“æ„å« Mapï¼Œä»–èƒ½å°†å¯¹è±¡ä½œä¸ºé”®ï¼Œè¿™æ ·ï¼Œæˆ‘ä»¬å°±èƒ½å¾ˆå¥½çš„ä¿å­˜å¯¹è±¡ï¼Œå¹¶åˆ¤æ–­å¯¹è±¡æ˜¯å¦è¢«æ‹·è´è¿‡äº†ã€‚ æ•´ä½“æµç¨‹å¦‚ä¸‹ï¼š æ˜¯å¯¹è±¡ï¼Œæ£€æŸ¥mapä¸­æ˜¯å¦å­˜åœ¨æ­¤å¯¹è±¡ å­˜åœ¨â€”-è¿”å›ä¿å­˜åœ¨mapä¸­çš„é”® ä¸å­˜åœ¨â€”å°†å€¼å­˜å…¥mapï¼Œé”®çš„å€¼ä½¿ç”¨å½“å‰cloneTargetï¼ˆè¿™é‡Œå…¶å®ç”¨ä»€ä¹ˆéƒ½è¡Œï¼‰ ç»§ç»­é€’å½’æ‹·è´ï¼Œå¹¶ä¼ å…¥æ­¤æ—¶çš„map ä»£ç å¦‚ä¸‹ï¼š 123456789101112131415function clone( target, map = new Map() )&#123; if( typeof target === \"object\" )&#123; var cloneTarget = Array.isArray( target ) ? [] : &#123;&#125; if( map.get( target ) )&#123; return map.get( target ) &#125; map.set( target, cloneTarget ) for( let key in target )&#123; cloneTarget[key] = clone( target[key], map ) &#125; return cloneTarget &#125; else &#123; return target &#125;&#125; æµ‹è¯•ç»“æœï¼š å¯ä»¥çœ‹è§ï¼Œå·²ç»è§£å†³äº†å¾ªç¯å¼•ç”¨çš„é—®é¢˜ã€‚ 3.5 ç®€å•æ€§èƒ½ä¼˜åŒ–ä½¿ç”¨ WeakMap æ•°æ®ç»“æ„ï¼Œå°†å¤åˆ¶å¯¹è±¡å±æ€§çš„å¼ºå¼•ç”¨å˜ä¸ºå¼±å¼•ç”¨ã€‚ WeakMapçš„ä½œç”¨ï¼Œè¯·å‚è€ƒ es6 WeakMap. ä¿®æ”¹åçš„ä»£ç ï¼š 123456789101112131415function clone( target, map = new WeakMap() )&#123; if( typeof target === \"object\" )&#123; var cloneTarget = Array.isArray( target ) ? [] : &#123;&#125; if( map.get( target ) )&#123; return map.get( target ) &#125; map.set( target, cloneTarget ) for( let key in target )&#123; cloneTarget[key] = clone( target[key], map ) &#125; return cloneTarget &#125; else &#123; return target &#125;&#125; æœ€åï¼Œæˆ‘ä»¬å°±å®Œæˆäº†ä¸€ä¸ªç®€å•çš„æ·±æ‹·è´ï¼Œè§£å†³äº†å¯¹è±¡ã€æ•°ç»„ã€å¾ªç¯å¼•ç”¨çš„é—®é¢˜ã€‚ ç»“è¯­æ€»ç»“ä¸€ä¸‹å†™å‡ºä¸€ä¸ªæ·±æ‹·è´çš„è¿‡ç¨‹ï¼š éœ€è¦ä¼ å…¥ä¸¤ä¸ªå‚æ•°ï¼Œä¸€ä¸ªæ˜¯æ‹·è´ç›®æ ‡ï¼Œä¸€ä¸ªæ˜¯ä½œä¸ºæ‹·è´è¿‡å±æ€§çš„å®¹å™¨ WeakMap åˆ¤æ–­æ‹·è´ç›®æ ‡æ˜¯å¦ä¸€ä¸ªå¯¹è±¡ æˆ–æ˜¯ æ•°ç»„ æ˜¯ ä½¿ç”¨ WeakMap åˆ¤æ–­æ˜¯å¦å·²ç»æ‹·è´ï¼Œå¹¶é€’å½’æ‹·è´æ¯ä¸ªå±æ€§ ä¸æ˜¯ ç›´æ¥è¿”å›æ­¤å±æ€§çš„å€¼ jsä¸­è¿˜æœ‰å¾ˆå¤šå…¶ä»–çš„æ•°æ®ç»“æ„ï¼Œæ¯”å¦‚ Set å’Œ Mapï¼Œè¿™é‡Œå°±ä¸åšç»§ç»­çš„æ·±å…¥äº†ï¼Œ å¦‚æœä½ æƒ³ç»§ç»­æ·±å…¥æ·±æ‹·è´ï¼Œä½ å¯ä»¥å‚è€ƒï¼šå¦‚ä½•å†™å‡ºä¸€ä¸ªæƒŠè‰³é¢è¯•å®˜çš„æ·±æ‹·è´? å‚è€ƒå¦‚ä½•å†™å‡ºä¸€ä¸ªæƒŠè‰³é¢è¯•å®˜çš„æ·±æ‹·è´? é˜®ä¸€å³° es6","categories":[{"name":"javascript","slug":"javascript","permalink":"http://blog.curtaintan.club/categories/javascript/"}],"tags":[{"name":"jsåŸºç¡€","slug":"jsåŸºç¡€","permalink":"http://blog.curtaintan.club/tags/js%E5%9F%BA%E7%A1%80/"}]},{"title":"æ€è·¯æ¸…æ™°---socket.ioçš„æ€»ç»“","slug":"æ€è·¯æ¸…æ™°-socket-ioçš„æ€»ç»“","date":"2020-01-30T07:35:36.000Z","updated":"2020-01-31T06:46:04.954Z","comments":true,"path":"2020/01/30/æ€è·¯æ¸…æ™°-socket-ioçš„æ€»ç»“/","link":"","permalink":"http://blog.curtaintan.club/2020/01/30/%E6%80%9D%E8%B7%AF%E6%B8%85%E6%99%B0-socket-io%E7%9A%84%E6%80%BB%E7%BB%93/","excerpt":"æ€è·¯æ¸…æ™°çš„ä½¿ç”¨socket.ioâ€¦..","text":"æ€è·¯æ¸…æ™°çš„ä½¿ç”¨socket.ioâ€¦.. å¼•å…¥ï¼šå…ˆçœ‹å®˜ç½‘apiï¼š å¯ä»¥çœ‹è§ï¼Œä¸»è¦æœ‰è¿™ä¸‰ä¸ªå¯¹è±¡ï¼šserverï¼Œnamespaceå’Œsocket å¦‚æœä½ æŒæ¡äº†è¿™ä¸‰ä¸ªå¯¹è±¡ï¼Œé‚£ä¹ˆä½ å°±å·²ç»åŸºæœ¬å­¦ä¼šsocket.ioçš„ä½¿ç”¨äº†ã€‚ åœ¨æœåŠ¡ç«¯ï¼Œæˆ‘ä»¬ä¼šå†™å‡ºè¿™æ ·çš„socket.ioæœåŠ¡ç«¯ä»£ç ï¼š12345678910111213141516171819202122const Koa = require('koa') // å¼•å…¥koaconst app = new Koa() // åˆ›å»ºä¸€ä¸ªkoaå®ä¾‹// å¼•å…¥httpæ¨¡å—ï¼Œå¹¶åœ¨Serverå‡½æ•°ä¸­ä¼ å…¥appçš„å›è°ƒå‡½æ•°const http = require(\"http\").Server( app.callback() )// å¼•å…¥socket.io ä¼ å…¥httpï¼Œå¹¶é…ç½®socketconst IO = require(\"socket.io\")( http, &#123; pingTimeout: 1000 * 10, pingInterval: 1000 * 2.5&#125;)// é»˜è®¤å‘½åç©ºé—´ï¼ˆ\"/\"ï¼‰æ€»çº¿IOç›‘å¬è¿æ¥äº‹ä»¶ å½“å‰IOä¸ºé»˜è®¤å‘½åç©ºé—´IO.on( \"connection\", ( socket ) =&gt; &#123; // å½“å‰socketè¿æ¥æ”¶åˆ°eventäº‹ä»¶ï¼Œè§¦å‘callbackå‡½æ•° socket.on( \"event\", callBack ) // å‘å½“å‰socketè¿æ¥å®¢æˆ·ç«¯è§¦å‘eventäº‹ä»¶ï¼Œè¿”å›æ•°æ®sendData socket.emit( \"event\", sendData )&#125;)// ç›¸å½“äºå¦‚ä¸‹ä»£ç ï¼švar mainSpace = IO.of(\"/\")mainSpace.on( \"connection\", ( socket ) =&gt; &#123; ....&#125; çœ‹äº†ä¸Šé¢çš„ä»£ç ï¼Œä¸éš¾å‘ç°socket.ioæš´éœ²ä¸¤ä¸ªå¯¹è±¡ä¾›æˆ‘ä»¬ä½¿ç”¨ï¼Œä¸€ä¸ªæ˜¯å½“å‰å‘½åç©ºé—´æ€»çº¿IOï¼Œä¸€ä¸ªæ˜¯å½“å‰è¿æ¥çš„socketï¼Œä»–ä»¬çš„å…³ç³»å¦‚å›¾ï¼š è¿™é‡Œå°±ä¸å¾—ä¸è¯´ä¸€ä¸‹å‘½åç©ºé—´äº† å…³äºå‘½åç©ºé—´ï¼ˆnamespaceï¼‰ï¼šé»˜è®¤å‘½åç©ºé—´ï¼š 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283848586878889909192amespace &#123; name: '/', server: Server &#123; nsps: &#123; '/': [Circular] &#125;, parentNsps: Map &#123;&#125;, _path: '/socket.io', _serveClient: true, parser: &#123; protocol: 4, types: [Array], CONNECT: 0, DISCONNECT: 1, EVENT: 2, ACK: 3, ERROR: 4, BINARY_EVENT: 5, BINARY_ACK: 6, Encoder: [Function: Encoder], Decoder: [Function: Decoder] &#125;, encoder: Encoder &#123;&#125;, _adapter: [Function: Adapter], _origins: '*:*', sockets: [Circular], eio: Server &#123; clients: &#123;&#125;, clientsCount: 0, wsEngine: 'ws', pingTimeout: 5000, pingInterval: 25000, upgradeTimeout: 10000, maxHttpBufferSize: 100000000, transports: [Array], allowUpgrades: true, allowRequest: [Function: bound ], cookie: 'io', cookiePath: '/', cookieHttpOnly: true, perMessageDeflate: [Object], httpCompression: [Object], initialPacket: [Array], ws: [Object], _events: [Object], _eventsCount: 1 &#125;, httpServer: Server &#123; domain: null, _events: [Object], _eventsCount: 5, _maxListeners: undefined, _connections: 0, _handle: null, _usingSlaves: false, _slaves: [], _unref: false, allowHalfOpen: true, pauseOnConnect: false, httpAllowHalfOpen: false, timeout: 120000, keepAliveTimeout: 5000, _pendingResponseData: 0, maxHeadersCount: null, [Symbol(asyncId)]: -1 &#125;, engine: Server &#123; clients: &#123;&#125;, clientsCount: 0, wsEngine: 'ws', pingTimeout: 5000, pingInterval: 25000, upgradeTimeout: 10000, maxHttpBufferSize: 100000000, transports: [Array], allowUpgrades: true, allowRequest: [Function: bound ], cookie: 'io', cookiePath: '/', cookieHttpOnly: true, perMessageDeflate: [Object], httpCompression: [Object], initialPacket: [Array], ws: [Object], _events: [Object], _eventsCount: 1 &#125; &#125;, sockets: &#123;&#125;, connected: &#123;&#125;, fns: [], ids: 0, rooms: [], flags: &#123;&#125;, adapter: Adapter &#123; nsp: [Circular], rooms: &#123;&#125;, sids: &#123;&#125;, encoder: Encoder &#123;&#125; &#125; &#125; å‘½åç©ºé—´ä¸socketå½“å‰å‘½åç©ºé—´æ€»çº¿IOçš„æ€»ç»“é€šè¿‡ä¸Šé¢çš„å‘½åç©ºé—´çš„å®šä¹‰çš„ä»£ç ï¼Œæˆ‘ä»¬å¯ä»¥çŸ¥é“ï¼Œåœ¨æ€»çº¿IOä¸Šï¼Œæ‹¥æœ‰æ‰€æœ‰è¿æ¥çš„socketçš„ä¿¡æ¯ï¼Œæ‹¥æœ‰æ‰€æœ‰çš„roomsä¿¡æ¯ï¼Œ æ•…ï¼š å¯ä»¥å‘æŒ‡å®šæˆ¿é—´é‡Œå‘é€æ¶ˆæ¯ å¯ä»¥å‘è¿æ¥åˆ°å½“å‰å‘½åç©ºé—´é‡Œçš„æ‰€æœ‰socketå‘é€æ¶ˆæ¯ ç­‰â€¦ å®˜ç½‘apiæˆªå›¾ï¼š å¯çŸ¥ï¼Œæ€»çš„æ˜¯å¯¹roomå’Œè¿æ¥çš„socketsè¿›è¡Œæ“ä½œã€‚ å½“å‰è¿æ¥socketæ€»ç»“ï¼š ä¸ªäººæ€»ç»“å½“ç†è§£äº†æ€»çº¿IOä¸å½“å‰è¿æ¥çš„socketçš„å…³ç³»åï¼Œå°±èƒ½æ€è·¯æ¸…æ™°çš„å†™å‡ºä¼˜ç§€çš„çš„ä»£ç äº†ã€‚ å†™ä¸‹è¿™ç¯‡æ–‡ç« ï¼Œå¸Œæœ›å¯¹ä½ æœ‰å¸®åŠ©ï¼Œä¸å›å…±å‹‰ï¼å‚è€ƒèµ„æ–™ï¼šsocket.ioå®˜ç½‘ socket.ioå‘½åç©ºé—´çš„è¯¦ç»†è§£æ WebSocketåè®®-Socket.io æœåŠ¡ç«¯API","categories":[{"name":"socket.io","slug":"socket-io","permalink":"http://blog.curtaintan.club/categories/socket-io/"}],"tags":[{"name":"å…¥é—¨","slug":"å…¥é—¨","permalink":"http://blog.curtaintan.club/tags/%E5%85%A5%E9%97%A8/"},{"name":"æ€»ç»“","slug":"æ€»ç»“","permalink":"http://blog.curtaintan.club/tags/%E6%80%BB%E7%BB%93/"}]},{"title":"vscodeç›¸å…³é…ç½®","slug":"vscodeç›¸å…³é…ç½®","date":"2020-01-06T02:57:53.000Z","updated":"2020-01-06T03:05:25.798Z","comments":true,"path":"2020/01/06/vscodeç›¸å…³é…ç½®/","link":"","permalink":"http://blog.curtaintan.club/2020/01/06/vscode%E7%9B%B8%E5%85%B3%E9%85%8D%E7%BD%AE/","excerpt":"è®°å½•è‡ªå·±å¸¸ç”¨çš„ä¸€äº›é…ç½®â€¦","text":"è®°å½•è‡ªå·±å¸¸ç”¨çš„ä¸€äº›é…ç½®â€¦ æ‰“å¼€setting.jsoné…ç½®æ–‡ä»¶ VSCodeå®ç°ç”¨Ctrl+æ»šè½®å®ç°ä»£ç çš„ç¼©æ”¾é…ç½®æ–‡ä»¶å¦‚ä¸‹ï¼š åœ¨æ–‡ä»¶â€“&gt;é¦–é€‰é¡¹â€“&gt;è®¾ç½®â€“&gt;ç”¨æˆ·è®¾ç½®ä¸­æ·»åŠ å¦‚ä¸‹ä»£ç ï¼š 1\"editor.mouseWheelZoom\": true","categories":[{"name":"å·¥å…·","slug":"å·¥å…·","permalink":"http://blog.curtaintan.club/categories/%E5%B7%A5%E5%85%B7/"}],"tags":[{"name":"vsCode","slug":"vsCode","permalink":"http://blog.curtaintan.club/tags/vsCode/"}]},{"title":"ä¸€ä¸ªå°demoå¼„æ‡‚vueçš„$nextTick","slug":"ä¸€ä¸ªå°demoå¼„æ‡‚vueçš„$nextTick","date":"2020-01-06T01:51:23.000Z","updated":"2020-01-31T01:31:37.853Z","comments":true,"path":"2020/01/06/ä¸€ä¸ªå°demoå¼„æ‡‚vueçš„$nextTick/","link":"","permalink":"http://blog.curtaintan.club/2020/01/06/%E4%B8%80%E4%B8%AA%E5%B0%8Fdemo%E5%BC%84%E6%87%82vue%E7%9A%84$nextTick/","excerpt":"ä¸€ä¸ªå°demoå¼„æ‡‚vueçš„$nextTickçš„ä½œç”¨","text":"ä¸€ä¸ªå°demoå¼„æ‡‚vueçš„$nextTickçš„ä½œç”¨ æœ‰è¿™æ ·ä¸€æ®µä»£ç ï¼š ä»£ç æˆªå›¾ï¼š 123456789101112131415161718192021222324252627&lt;script src=\"https://cdn.bootcss.com/vue/2.6.10/vue.min.js\"&gt;&lt;/script&gt;&lt;div id=\"app\"&gt; &lt;span id=\"span\" v-if=\"showSpan\" &gt;span&lt;/span&gt; &lt;button @click=\"btn\" &gt;æ˜¾ç¤º&lt;/button&gt;&lt;/div&gt;&lt;script&gt; new Vue(&#123; el: \"#app\", data: &#123; showSpan: false &#125;, methods: &#123; btn()&#123; this.showSpan = true console.log( document.querySelector(\"span\") ) setTimeout( () =&gt; &#123; console.log( \"200æ¯«ç§’å\" ) console.log( document.querySelector(\"span\") ) &#125;, 200 ) this.$nextTick( () =&gt; &#123; console.log( \"$nextTickæ‰§è¡Œçš„ç»“æœ\" ) console.log( document.querySelector(\"span\") ) &#125; ) &#125; &#125; &#125;)&lt;/script&gt; æ‰§è¡Œç»“æœï¼š åˆ†æç¬¬ä¸€ä¸ªç»“æœä¸ºnullï¼Œå› ä¸ºæ²¡æœ‰æ‰¾åˆ°domå…ƒç´ ï¼Œç¬¬äºŒä¸ªå‡ºç°çš„æ˜¯$nextTickæ‰§è¡Œçš„ç»“æœï¼Œæ˜¯ç¡®å®šdomé‡æ–°æ¸²æŸ“æŒ‚è½½å®Œæ¯•æ‰§è¡Œçš„å›è°ƒå‡½æ•°ç¬¬ä¸‰ä¸ªæ‰æ˜¯å®šæ—¶å™¨çš„ç»“æœï¼Œæ˜¯åœ¨æœ€åæ‰§è¡Œçš„å‡½æ•°ã€‚ ç»“è®ºå¯çŸ¥ï¼Œvueä¸­æ•°æ®æ›´æ–°å¼•èµ·çš„domæ›´æ–°æ˜¯å¼‚æ­¥æ‰§è¡Œçš„ã€‚ å°æ‹“å±•v-ifå’Œv-showçš„åŒºåˆ«å½“æˆ‘ä»¬æŠŠä¸Šæ–‡çš„ v-if æ”¹æˆ v-show åï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼š å¯ä»¥çœ‹å‡ºï¼Œv-if=false æ—¶ï¼Œå…ƒç´ ä¸ä¼šæ¸²æŸ“åˆ°é¡µé¢ï¼Œä½¿ç”¨ v-show å…ƒç´ ä¸€ç›´åœ¨é¡µé¢ä¸­ï¼Œåªæ˜¯è®¾ç½®æ ·å¼ display: none; æ²¡æœ‰æ˜¾ç¤ºè€Œå·²ï¼Œ","categories":[{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"http://blog.curtaintan.club/categories/%E5%89%8D%E7%AB%AF/"}],"tags":[{"name":"vue","slug":"vue","permalink":"http://blog.curtaintan.club/tags/vue/"}]},{"title":"æ­£åˆ™ä¹‹ç»™å­—ç¬¦ä¸²æ¥ä¸€å¥—å¢åˆ æ”¹æŸ¥æœåŠ¡","slug":"æ­£åˆ™ä¹‹ç»™å­—ç¬¦ä¸²æ¥ä¸€å¥—å¢åˆ æ”¹æŸ¥æœåŠ¡","date":"2020-01-03T13:47:46.000Z","updated":"2020-01-04T15:16:16.829Z","comments":true,"path":"2020/01/03/æ­£åˆ™ä¹‹ç»™å­—ç¬¦ä¸²æ¥ä¸€å¥—å¢åˆ æ”¹æŸ¥æœåŠ¡/","link":"","permalink":"http://blog.curtaintan.club/2020/01/03/%E6%AD%A3%E5%88%99%E4%B9%8B%E7%BB%99%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%9D%A5%E4%B8%80%E5%A5%97%E5%A2%9E%E5%88%A0%E6%94%B9%E6%9F%A5%E6%9C%8D%E5%8A%A1/","excerpt":"æƒ³å­¦ä¹ æ­£åˆ™çš„æ“ä½œå—ï¼Ÿï¼Ÿé‚£å°±è¿›æ¥å§â€¦","text":"æƒ³å­¦ä¹ æ­£åˆ™çš„æ“ä½œå—ï¼Ÿï¼Ÿé‚£å°±è¿›æ¥å§â€¦ å¯¼è¯»å—¨å’¯ï¼Œäº²çˆ±çš„è¯»è€…ä½ å¥½ï¼æ—¢ç„¶ä½ ç‚¹è¿›æ¥äº†ï¼Œé‚£ä¹ˆæƒ³å¿…ä½ ä¸€å®šå¯¹æ­£åˆ™æ„Ÿå…´è¶£å§ã€‚ å¦‚æœä½ å¯¹æ­£åˆ™å……æ»¡ç•æƒ§å¿ƒç†ï¼Œä¸æ‡‚ä¹Ÿä¸ç†è§£æ­£åˆ™ï¼Œæ²¡å…³ç³»ï¼Œå¾€ä¸‹çœ‹ï¼Œ çœ‹å®Œè¿™ç¯‡æ–‡ç« ï¼Œç›¸ä¿¡ä½ ä¸€å®šä¼šå¯¹æ­£åˆ™å……æ»¡å…´è¶£ï¼Œå¹¶ä¸”ä¸å†ç•æƒ§ï¼Œæ¶ˆç­ææƒ§çš„æœ€å¥½åŠæ³•ï¼Œå°±æ˜¯é¢å¯¹ææƒ§ï¼ï¼ åŠ æ²¹ï¼ï¼è¯»å®Œå®ƒï¼Œç†è§£æ­£åˆ™æ“ä½œï¼Œç„¶åçˆ±ä¸Šæ­£åˆ™ï¼ æ­£åˆ™è¡¨è¾¾å¼æ˜¯åŒ¹é…æ¨¡å¼ï¼Œè¦ä¹ˆåŒ¹é…å­—ç¬¦ï¼Œè¦ä¹ˆåŒ¹é…ä½ç½®ã€‚è¯·è®°ä½è¿™å¥è¯ã€‚ @è€å§šJSæ­£åˆ™è¡¨è¾¾å¼å®Œæ•´æ•™ç¨‹ï¼ˆç•¥é•¿ï¼‰ è€å§šå¯¹æ­£åˆ™çš„è¯„ä»·éå¸¸åˆ°ä½ï¼Œæˆ‘å¾ˆèµåŒï¼Œå¸Œæœ›ä½ èƒ½è®°ä½ï¼Œè¿™ç¯‡æ–‡ç« å°±æ˜¯åœ¨åŒ¹é…çš„åŸºç¡€ä¸Šåšçš„ç›¸å…³çš„æ“ä½œã€‚ å¦‚æœä½ æ²¡æœ‰æ­£åˆ™çš„åŸºç¡€ï¼Œè¯·ä¸è¦å®³æ€•ï¼Œè¿™ç¯‡æ–‡ç« ä¼šä¸€æ­¥ä¸€æ­¥çš„å¸¦ä½ äº†è§£æ­£åˆ™ç›¸å…³çš„æ“ä½œï¼Œæ¯ä¸ªæ“ä½œçš„æ¡ˆä¾‹ç›¸å¯¹ç®€å•æ˜“ç†è§£ï¼Œä½†æ˜¯å±•ç¤ºå‡ºäº†æ¯ä¸ªæ“ä½œçš„ä½œç”¨ã€‚åœ¨é˜…è¯»æ–‡ç« å‰ï¼Œè¯·ä»”ç»†çš„é˜…è¯»å‰ç½®çŸ¥è¯†ï¼Œäº†è§£ç›¸å…³apiçš„ä½œç”¨ã€‚ å¦‚æœä½ å­¦ä¹ è¿‡æ­£åˆ™ï¼Œå¯¹æ­£åˆ™æœ‰ä¸€å®šäº†è§£ï¼Œé‚£ä¹ˆè¿™ç¯‡æ–‡ç« éå¸¸é€‚åˆä½ ï¼Œè¿™ç¯‡æ–‡ç« å¯ä»¥åŠ æ·±ä½ å¯¹æ­£åˆ™ç”¨æ³•çš„ç†è§£ã€‚ å¦‚æœä½ æ˜¯æ­£åˆ™é«˜æ‰‹ï¼Œæ–‡ä¸­æœ‰å†™çš„ä¸å¯¹çš„å’Œå†™å¾—ä¸å¦¥å½“çš„ï¼Œä¹Ÿè¯·æŒ‡å‡ºé”™è¯¯ã€‚ æœ¬æ–‡ä¸æ¶‰åŠæ­£åˆ™è¡¨è¾¾å¼çš„ä¹¦å†™æ•™å­¦ï¼Œä½†æ˜¯å¹¶å½±å“ä½ å¯¹æ¯ä¸ªå¢åˆ æŸ¥æ”¹æ“ä½œçš„ç†è§£ã€‚å¦‚æœä½ æƒ³å­¦ä¹ æ­£åˆ™è¡¨è¾¾å¼çš„ä¹¦å†™ï¼Œåœ¨æ–‡ç« åé¢æˆ‘æœ‰æ¨èå­¦ä¹ æ­£åˆ™çš„ä¼˜ç§€æ–‡ç« ã€‚ ç›¸ä¿¡ä½ çœ‹è¿‡è¿™ç¯‡æ–‡ç« åï¼Œä¼šæé«˜ä½ å¯¹æ­£åˆ™çš„ç†è§£ä¸å­¦ä¹ æ­£åˆ™çš„å…´è¶£ã€‚åŠ æ²¹ï¼ å‰ç½®çŸ¥è¯†æ—¢ç„¶æ˜¯ç”¨æ­£åˆ™å¯¹å­—ç¬¦ä¸²çš„æ“ä½œï¼Œé‚£ä¹ˆï¼Œæˆ‘ä»¬å¾—éœ€è¦äº†è§£ç›¸å…³çš„æ–¹æ³•ï¼Œå¯¹å§ï¼Ÿï¼Ÿä¸æ­£åˆ™ç›¸å…³çš„æ–¹æ³•å°±6ä¸ªï¼ˆçœŸçš„å¾ˆå°‘å¾ˆå®¹æ˜“ç†è§£ï¼ï¼ï¼‰ï¼šå¦‚æœä½ å¯¹ä¸‹é¢å…­ä¸ªæ–¹æ³•éå¸¸ç†Ÿæ‚‰äº†ï¼Œä½ å¯ä»¥ç›´æ¥ä»å‰ç½®çŸ¥è¯†çš„æ€»ç»“å¤„å¼€å§‹çœ‹ï¼ˆï¿£ï¸¶ï¿£ï¼‰â†— ä¸æ­£åˆ™ç›¸å…³çš„6ä¸ªæ–¹æ³•12345678// å­—ç¬¦ä¸²å››ä¸ªString#search // æŸ¥æ‰¾åŒ¹é…åˆ°å­—ç¬¦ä¸²çš„ä½ç½®ï¼Œè¿”å›ä½ç½®indexString#split // ä»¥æ­£åˆ™åŒ¹é…åˆ°çš„å­—ç¬¦ä¸²æˆªæ–­åŸå­—ç¬¦ä¸²ï¼Œè¿”å›æ•°ç»„String#match // åŒ¹é…å­—ç¬¦ä¸²å¹¶è¿”å›ä¸€äº›ä¿¡æ¯String#replace // å¯¹åŒ¹é…åˆ°çš„å­—ç¬¦ä¸²è¿›è¡Œæ›¿æ¢ï¼Œè¿”å›ä¿®æ”¹åçš„å­—ç¬¦ä¸²// æ­£åˆ™ä¸¤ä¸ªRegExp#test // åŒ¹é…å­—ç¬¦ä¸²æ˜¯å¦æœ‰ç¬¦åˆæ­£åˆ™çš„éƒ¨åˆ†RegExp#exec // åŒ¹é…å­—ç¬¦ä¸²ï¼Œå¹¶è¿”å›ç›¸å…³ä¿¡æ¯ 1.String#searchè¯­æ³•ï¼šstr.search(regexp) å®šä¹‰ï¼šæ­£åˆ™å»åŒ¹é…å­—ç¬¦ä¸²ï¼Œå¦‚æœåŒ¹é…æˆåŠŸï¼Œå°±è¿”å›åŒ¹é…æˆåŠŸçš„ä½ç½®ï¼ŒåŒ¹é…å¤±è´¥å°±è¿”å›-1. search1234var regex = /\\d/var string = \"abc123\"console.log( string.search(regex) )// =&gt; 3 æ³¨æ„ï¼š å½“ä¼ å…¥çš„å‚æ•°æ˜¯å­—ç¬¦ä¸²æ—¶ï¼Œä¼šæŠŠå­—ç¬¦ä¸²è½¬æˆæ­£åˆ™è¡¨è¾¾å¼ã€‚ 2.String#splitè¯­æ³•ï¼šstr.split(separator, limit) å®šä¹‰ï¼šsplit()æ–¹æ³•æŠŠåŸå­—ç¬¦ä¸²åˆ†å‰²æˆå­å­—ç¬¦ä¸²ç»„æˆæ•°ç»„ï¼Œå¹¶è¿”å›è¯¥æ•°ç»„ã€‚ ä¸¤ä¸ªå‚æ•°å‡æ˜¯å¯é€‰çš„ï¼Œå…¶ä¸­ separator è¡¨ç¤ºåˆ†éš”ç¬¦ï¼Œå®ƒå¯ä»¥æ˜¯å­—ç¬¦ä¸²ä¹Ÿå¯ä»¥æ˜¯æ­£åˆ™è¡¨è¾¾å¼ã€‚å¦‚æœå¿½ç•¥ separatorï¼Œåˆ™è¿”å›çš„æ•°ç»„åŒ…å«ä¸€ä¸ªç”±åŸå­—ç¬¦ä¸²ç»„æˆçš„å…ƒç´ ã€‚å¦‚æœ separator æ˜¯ä¸€ä¸ªç©ºä¸²ï¼Œåˆ™ str å°†ä¼šè¢«åˆ†å‰²æˆä¸€ä¸ªç”±åŸå­—ç¬¦ä¸²ä¸­å­—ç¬¦ç»„æˆçš„æ•°ç»„ã€‚limit è¡¨ç¤ºä»è¿”å›çš„æ•°ç»„ä¸­æˆªå–å‰ limit ä¸ªå…ƒç´ ï¼Œä»è€Œé™å®šè¿”å›çš„æ•°ç»„é•¿åº¦ã€‚ split1234567var regex = /\\D/console.log( \"2017/06/26\".split(regex) )console.log( \"2017.06.26\".split(regex, 2) )console.log( \"2017-06-26\".split(regex) )// =&gt; [\"2017\", \"06\", \"26\"]// =&gt; [\"2017\", \"06\"]// =&gt; [\"2017\", \"06\", \"26\"] 3.String#matchè¯­æ³•ï¼šstr.match(regexp) å®šä¹‰ï¼šæŸ¥æ‰¾å‡ºä¸æ­£åˆ™ç›¸åŒ¹é…çš„é¡¹ã€‚ è¿”å›å€¼ï¼š æ­£åˆ™çš„åŒ¹é…æ¨¡å¼ä¸ºå…¨å±€åŒ¹é…ï¼šè¿”å›åŒ¹é…çš„æ•°ç»„æˆ–åˆ™null æ­£åˆ™çš„åŒ¹é…æ¨¡å¼ä¸æ˜¯ä¸ºå…¨å±€åŒ¹é…ï¼šè¿”å›åŒ¹é…åˆ°çš„é¡¹ï¼Œgroupsï¼šåˆ†ç»„ï¼Œindex:æ‰¾åˆ°ç»“æœçš„ç´¢å¼•,input:åŸå­—ç¬¦ä¸² match1234567var str = \"aa22bb313cc444ff\"var reg = /\\d+/gvar reg1 = /(\\d+)([a-z]+)(\\d+)/console.log( str.match( reg ) )console.log( str.match( reg1 ) )// =&gt; [\"22\", \"313\", \"444\"]// =&gt; [\"22bb313\", \"22\", \"bb\", \"313\", index: 2, input: \"aa22bb313cc444\", groups: undefined] æ³¨æ„ï¼š å½“ä¼ å…¥çš„å‚æ•°æ˜¯å­—ç¬¦ä¸²æ—¶ï¼Œä¼šæŠŠå­—ç¬¦ä¸²è½¬æˆæ­£åˆ™è¡¨è¾¾å¼ã€‚ 4.String#replaceè¯­æ³•ï¼šstr.replace( regexp | substr, newSubStr | function ) å‚æ•°è¯´æ˜ï¼š regexp: ä¸€ä¸ª RegExp å¯¹è±¡. è¯¥æ­£åˆ™æ‰€åŒ¹é…çš„å†…å®¹ä¼šè¢«ç¬¬äºŒä¸ªå‚æ•°çš„è¿”å›å€¼æ›¿æ¢æ‰ã€‚ substr: ä¸€ä¸ªè¦è¢« newSubStr æ›¿æ¢çš„å­—ç¬¦ä¸². newSubStr: æ›¿æ¢æ‰ç¬¬ä¸€ä¸ªå‚æ•°åœ¨åŸå­—ç¬¦ä¸²ä¸­çš„åŒ¹é…éƒ¨åˆ†. è¯¥å­—ç¬¦ä¸²ä¸­å¯ä»¥å†…æ’ä¸€äº›ç‰¹æ®Šçš„å˜é‡å. function: ç”¨æ¥åˆ›å»ºæ–°å­å­—ç¬¦ä¸²çš„å‡½æ•°ï¼Œè¯¥å­å­—ç¬¦ä¸²ç”¨äºæ›¿æ¢ä¸ç»™å®šregexpæˆ–çš„åŒ¹é…é¡¹substrã€‚ å‚æ•°functionçš„å‚æ•°è¯´æ˜ï¼š ç¬¬ä¸€ä¸ªå‚æ•°ï¼šæ•´ä¸ªæ­£åˆ™æˆ–è€…å­—ç¬¦ä¸²åŒ¹é…åˆ°çš„å­—ç¬¦ä¸²ï¼Œ ä¸­é—´çš„å‚æ•°ï¼šä¾æ¬¡ä¸ºæ­£åˆ™ä¸­åˆ†ç»„åŒ¹é…åˆ°çš„å­—ç¬¦ä¸²ï¼Œ å€’æ•°ç¬¬äºŒä¸ªå‚æ•°ï¼šæ‰¾åˆ°ç»“æœçš„ç´¢å¼• å€’æ•°ç¬¬ä¸€ä¸ªå‚æ•°ï¼šåŸå­—ç¬¦ä¸² str.replace( regexp, function )12345678var str = \"aa22bb313cc444ff\"var reg = /(\\d+)(\\w&#123;1&#125;)/gstr = str.replace( reg, function( str, s1, s2, index, sour )&#123; console.log( \"å‚æ•°åˆ—è¡¨ï¼š\", str, s1, s2, index, sour ) console.log( arguments ) return s1 + \"---\" + s2&#125;)console.log( str ) 5.RegExp#testè¯­æ³•ï¼šreg.test( str ) è¯´æ˜ï¼šæ­£åˆ™å»åŒ¹é…å­—ç¬¦ä¸²ï¼ŒåŒ¹é…æˆåŠŸï¼Œè¿”å›trueï¼ŒåŒ¹é…å¤±è´¥ï¼Œè¿”å›false reg.test()1234var regex = /\\d/var string = \"abc123\"console.log( regex.test(string) )// =&gt; true 6.RegExp#execè¯­æ³•ï¼šreg.exec( str ) è¯´æ˜ï¼šexec() æ–¹æ³•åœ¨ä¸€ä¸ªæŒ‡å®šå­—ç¬¦ä¸²ä¸­æ‰§è¡Œä¸€ä¸ªæœç´¢åŒ¹é…ã€‚è¿”å›ä¸€ä¸ªç»“æœæ•°ç»„æˆ– nullã€‚ reg.exec( str )12345var str = \"aa22bb313cc444ff\"var reg = /(\\d+)(\\w&#123;1&#125;)/gconsole.log( reg.exec( str ))console.log( reg.exec( str ))console.log( reg.exec( str )) æ³¨æ„å½“ä½¿ç”¨å…¨å±€æ¨¡å¼æ—¶ï¼Œexecå‡½æ•°ä¼šæŠŠè¿™æ¬¡åŒ¹é…åˆ°çš„ä½ç½®å­˜æ”¾åœ¨å½“å‰æ­£åˆ™regçš„lastIndexé‡Œé¢ï¼Œä¸‹æ¬¡è°ƒç”¨æ—¶ï¼Œä¼šä»è¿™æ¬¡çš„æœ€åä½ç½®å¼€å§‹æŸ¥æ‰¾ã€‚ æ€»ç»“é€šè¿‡ä¸Šé¢ç®€å•çš„æ¡ˆä¾‹ä¸è¯´æ˜ï¼Œç›¸ä¿¡ä½ å·²ç»å¯ä»¥çœ‹å‡ºæˆ‘ä»¬è¦è¿›è¡Œçš„å¢åˆ æ”¹æŸ¥æ“ä½œåº”è¯¥ç”¨å“ªä¸ªæ–¹æ³•äº†å§ï¼Ÿæˆ‘ä»¬æ¥æ€»ç»“ä¸€ä¸‹ï¼š å¢ï¼š6ä¸ªæ–¹æ³•ä¸­ï¼Œåªæœ‰replaceå¯ä»¥å¯¹åŒ¹é…åˆ°çš„å­—ç¬¦ä¸²è¿›è¡Œæ“ä½œï¼Œæ‰€ä»¥å½“æˆ‘ä»¬éœ€è¦åœ¨å­—ç¬¦ä¸²ä¸­å¢åŠ å†…å®¹æ—¶ï¼Œæˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨replaceæ–¹æ³•ã€‚ åˆ ï¼š6ä¸ªæ–¹æ³•ä¸­ï¼Œsplitæ–¹æ³•ä»¥åŒ¹é…åˆ°çš„å­—ç¬¦ä¸²ä¸ºæ–­ç‚¹æˆªæ–­å­—ç¬¦ä¸²è¿”å›æ•°ç»„ï¼Œreplaceä¹Ÿå¯ä»¥å¯¹åŒ¹é…åˆ°çš„å­—ç¬¦ä¸²è¿›è¡Œæ“ä½œï¼Œæ‰€ä»¥åˆ é™¤å¯ä»¥ä½¿ç”¨splitå’Œreplaceæ–¹æ³•ã€‚ æŸ¥ï¼š6ä¸ªæ–¹æ³•ä¸­ï¼Œé™¤äº†splitæ–¹æ³•ï¼Œéƒ½æˆ–å¤šæˆ–å°‘å¯ä»¥å¾—åˆ°ä¸€äº›åŒ¹é…åˆ°å­—ç¬¦ä¸²çš„ä¿¡æ¯ã€‚ æ”¹ï¼š6ä¸ªæ–¹æ³•ä¸­ï¼Œåªæœ‰replaceæ–¹æ³•å¯ä»¥æ“ä½œåŒ¹é…åˆ°çš„å­—ç¬¦ä¸²ï¼Œæ‰€ä»¥ä¿®æ”¹åªæœ‰ç”¨replaceæ–¹æ³•ã€‚ å¥½äº†ï¼Œä¸‹é¢è¯¦ç»†çš„ä»‹ç»ä¸‹å„ç§æ“ä½œçš„è¯¦ç»†æƒ…å†µã€‚ 1.å¢ç›¸ä¿¡ä½ ä¸€å®šé‡åˆ°è¿‡å¾€å­—ç¬¦ä¸²é‡Œé¢åŠ å­—ç¬¦ä¸²çš„æƒ…å†µï¼Œä½ ä¸€èˆ¬æ˜¯æ€ä¹ˆæ“ä½œçš„å‘¢ï¼Ÿæˆ‘ä»¬æ¥åˆ†æä¸‹ï¼š å½“å‘å­—ç¬¦ä¸²ä¸­æ·»åŠ å­—ç¬¦ä¸²æ—¶ï¼Œæœ‰ä¸¤ç§æ·»åŠ æƒ…å†µï¼Œä¸€ç§ï¼šæ·»åŠ åˆ°åŒ¹é…çš„å­—ç¬¦ä¸²å‰ï¼Œå¦ä¸€ç§æ˜¯ï¼šæ·»åŠ åˆ°åŒ¹é…çš„å­—ç¬¦ä¸²åé¢ã€‚ æ˜¯å§ï¼Ÿï¼Ÿå¥½ï¼Œå¼€å§‹æ“ä½œå§ï¼ æ·»åŠ åˆ°åŒ¹é…å­—ç¬¦ä¸²å‰ï¼šæˆ‘ä»¬å¯ä»¥ä½¿ç”¨æ­£åˆ™ä½ç½®åŒ¹é…è¡¨è¾¾å¼ï¼š(?=p)ï¼Œæ­£å‘è‚¯å®šé¢„æŸ¥ï¼Œå…¶ä¸­pæ˜¯ä¸€ä¸ªå­æ¨¡å¼ï¼Œå³på‰é¢çš„ä½ç½®ã€‚ 123var result = \"hello\".replace(/(?=ll)/g, '#')console.log(result)// =&gt; \"he#llo\" ä¹Ÿå¯ä»¥ç›´æ¥ä½¿ç”¨å‡½æ•°æ“ä½œï¼š 12345var result = \"hello\".replace(/(?=ll)/g, function( str )&#123; return \"#\" + str&#125;)console.log(result)// =&gt; \"he#llo\" æ·»åŠ åˆ°åŒ¹é…å­—ç¬¦ä¸²åï¼šæˆ‘ä»¬å¯ä»¥ä½¿ç”¨æ­£åˆ™ä½ç½®åŒ¹é…è¡¨è¾¾å¼ï¼š(?&lt;=p)ï¼Œåå‘è‚¯å®šé¢„æŸ¥ï¼Œå°±æ˜¯påé¢çš„ä½ç½®ã€‚ 12345var result = \"hello\".replace(/(?&lt;=ll)/g, function( str )&#123; return \"#\" + str&#125;)console.log(result)// =&gt; \"hell#o\" å½“ç„¶ï¼Œä½ ä¹Ÿå¯ä»¥ç›´æ¥ä½¿ç”¨replaceçš„å‡½æ•°æ“ä½œå®Œæˆã€‚ è¡¥å…… åœ¨æ•´ä¸ªå­—ç¬¦ä¸²å‰å’Œåé¢æ·»åŠ ï¼Œ 12345var result = \"hello\".replace(/^|$/g, function( str )&#123; return \"#\" + str&#125;)console.log(result)// =&gt; \"#hello#\" åœ¨æ¯ä¸ªå•è¯çš„å‰åé¢æ·»åŠ  12345var result = \"hello world\".replace(/^|$/g, function( str )&#123; return \"#\" + str&#125;)console.log(result)// =&gt; \"#hello# #world#\" 2.åˆ ï¼šç»è¿‡æˆ‘ä»¬å‰é¢çš„æ€»ç»“ï¼Œåˆ é™¤å¯ä»¥ä½¿ç”¨String.splitå’ŒString.replaceå®Œæˆã€‚ String.spliteå¯ä»¥çŸ¥é“ï¼Œä½¿ç”¨spliteæ–¹æ³•è¿”å›çš„æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œæ“ä½œåï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨join()å‡½æ•°ï¼Œè¿”å›å­—ç¬¦ä¸² 1234var str = \"aa22bb313cc444ff\"var reg = /\\d+/console.log( str.split( reg ).join(\"\") )// =&gt; \"aabbccff\" String.replaceä½¿ç”¨replaceå°±éå¸¸ç®€å•äº†ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠç¬¬äºŒä¸ªå‚æ•°ä¼  &quot;&quot; ,ä¹Ÿå¯ä»¥ç”¨å‡½æ•°æ“ä½œï¼Œè¿”å› &quot;&quot;å³å¯ã€‚ 12345var str = \"aa22bb313cc444ff\"var reg = /\\d+/g // å…¨å±€æ¨¡å¼ï¼Œä¸åŠ å…¨å±€æ¨¡å¼ï¼Œåªä¼šæ›¿æ¢ä¸€æ¬¡str = str.replace( reg, \"\" )console.log( str )// =&gt; \"aabbccff\" 3.æŸ¥æŸ¥æ‰¾å¯ä»¥åˆ†ä¸ºä¸¤ç±»ï¼šä¸€ç§æ˜¯éœ€è¦è¯¦ç»†ç»“æœçš„ï¼Œä¸€ç§æ˜¯ä¸éœ€è¦è¯¦ç»†ç»“æœçš„ã€‚ ä¸éœ€è¦è¯¦ç»†ç»“æœä¸éœ€è¦è¯¦ç»†ç»“æœå°±æ˜¯è¿”å› true å’Œ false å°±å¯ä»¥äº†ã€‚è¿™é‡Œå¯ä»¥ä½¿ç”¨test éªŒè¯ç”µè¯å·ç 123var reg = /^1[345789]\\d&#123;9&#125;$/var res = reg.test( \"13882628333\" )// =&gt; true éœ€è¦è¯¦ç»†ç»“æœä½¿ç”¨String.match()è·å–æ—¶é—´123var reg = /^([0-9]&#123;4&#125;)-(0[1-9]|1[0-2])-(0[1-9]|[12][0-9]|3[01])$/console.log( \"2017-06-10\".match( reg ) )// =&gt; [\"2017-06-10\", \"2017\", \"06\", \"10\", index: 0, input: \"2017-06-10\", groups: undefined] è·å–ç±»å1234var reg = /class=\\\"(.*)?\"/var string = '&lt;div id=\"container\" class=\"main box\"&gt;&lt;/div&gt;'console.log( string.match( reg ))// =&gt; [\"class=\"main box\"\", \"main box\", index: 20, input: \"&lt;div id=\"container\" class=\"main box\"&gt;&lt;/div&gt;\", groups: undefined] matchè·å–å…¨éƒ¨çš„é¢œè‰²ä»£ç ï¼ˆæ­£åˆ™ä½¿ç”¨gå…¨å±€åŒ¹é…æ¨¡å¼ï¼‰1234var reg = /#([0-9a-fA-F]&#123;6&#125;|[0-9a-fA-F]&#123;3&#125;)/gvar str = \"#ffbbad #Fc01DF #FFF #ffE\"console.log( str.match( reg ) )// =&gt; [\"#ffbbad\", \"#Fc01DF\", \"#FFF\", \"#ffE\"] ä½¿ç”¨reg.exec()è·å–æ—¶é—´123var regex = /^([0-9]&#123;4&#125;)-(0[1-9]|1[0-2])-(0[1-9]|[12][0-9]|3[01])$/console.log( reg.exec( \"2017-06-10\" ) )// =&gt; [\"2017-06-10\", \"2017\", \"06\", \"10\", index: 0, input: \"2017-06-10\", groups: undefined] è·å–ç±»å1234var reg = /class=\\\"(.*)?\"/var str = '&lt;div id=\"container\" class=\"main box\"&gt;&lt;/div&gt;'console.log( reg.exec( str ) )// =&gt; [\"class=\"main box\"\", \"main box\", index: 20, input: \"&lt;div id=\"container\" class=\"main box\"&gt;&lt;/div&gt;\", groups: undefined] execè·å–å…¨éƒ¨çš„é¢œè‰²ä»£ç ï¼ˆæ­£åˆ™ä½¿ç”¨gå…¨å±€åŒ¹é…æ¨¡å¼ï¼‰12345678var reg = /#([0-9a-fA-F]&#123;6&#125;|[0-9a-fA-F]&#123;3&#125;)/gvar str = \"#ffbbad #Fc01DF #FFF #ffE\"var arr = []var tempwhile( temp = reg.exec( str ) )&#123; arr.push( temp[0] )&#125;console.log( arr ) 4.æ”¹ç»è¿‡å‰é¢çš„ç»ˆç»“ï¼Œæˆ‘ä»¬çŸ¥é“åªæœ‰replaceå¯ä»¥è¿›è¡Œä¿®æ”¹æ“ä½œï¼š 1234567var str = \"aa22bb313cc444ff\"var reg = /(\\d+)(\\w&#123;1&#125;)/gstr = str.replace( reg, function( str, s1, s2, index, sour )&#123; return s1 + \"---\" + s2&#125;)console.log( str )// =&gt; \"aa22---bb313---cc444---ff\" åè®°å†™ä¸‹è¿™ç¯‡æ–‡ç« ï¼Œå°±æ˜¯æƒ³è®©è‡ªå·±æ¢³ç†ä¸‹æ­£åˆ™ç›¸å…³çš„apiä¸ç”¨æ³•ï¼ŒåŠ å¼ºä¸€ä¸‹è‡ªå·±å†™æ­£åˆ™çš„ä¿¡å¿ƒã€‚ çœ‹äº†è¿™ç¯‡æ–‡ç« ï¼Œä½ æ˜¯å¦å¯¹æ­£åˆ™åˆæœ‰äº†æ–°çš„ç†è§£å‘¢ï¼Ÿå¯¹è‡ªå·±å†™æ­£åˆ™æ˜¯å¦åˆå¢åŠ äº†å‡ åˆ†ä¿¡å¿ƒå‘¢ï¼Ÿ æ€»ç»“æœ¬æ–‡ä¸»è¦è®²è¿°äº†æ­£åˆ™çš„ç›¸å…³ç”¨æ³•ï¼Œè€ƒè™‘åˆ°æ­£åˆ™æ–°æ‰‹ï¼Œæ‰€ä»¥æ¯ä¸ªæ“ä½œéƒ½åªæ˜¯åšçš„å¾ˆç®€å•çš„æ¡ˆä¾‹ï¼Œæ­£åˆ™è¡¨è¾¾å¼å¤§éƒ½å¾ˆç®€å•ï¼Œä½†æ˜¯ï¼Œæˆ‘ç›¸ä¿¡ï¼Œçœ‹äº†æœ¬æ–‡ï¼Œä½ ä¼šæ›´æœ‰ä¿¡å¿ƒå»å­¦ä¹ æ­£åˆ™ã€‚ å­¦ä¹ æ­£åˆ™ï¼šå¦‚æœä½ æƒ³å­¦ä¹ æ­£åˆ™è¡¨è¾¾å¼çš„ä¹¦å†™ï¼Œæˆ‘è¿™é‡Œå°†æ¨èä¸€äº›å¥½çš„æ–‡ç« ç»™ä½ ï¼š è€å§š-JSæ­£åˆ™è¡¨è¾¾å¼å®Œæ•´æ•™ç¨‹ï¼ˆç•¥é•¿ï¼‰ éå¸¸æ¨èçš„ä¸€ç¯‡æ–‡ç« ï¼Œæˆ‘å°±æ˜¯çœ‹è¿™ç¯‡æ–‡ç« å­¦ä¹ çš„æ­£åˆ™ï¼Œé€‚åˆæœ‰ä¸€ç‚¹æ­£åˆ™åŸºç¡€çš„åŒå­¦ è€ƒæ‹‰æµ·å‰ç«¯å›¢é˜Ÿâ€”JS çš„æ­£åˆ™è¡¨è¾¾å¼ æ¡ç†æ¸…æ™°â€“é€‚åˆåˆå­¦è€…å­¦ä¹ æ­£åˆ™çš„ä¹¦å†™ æ–‡ç« åœ¨ç²¾ä¸åœ¨å¤šï¼Œè¿™ä¸¤ç¯‡æ–‡ç« å¯¹åˆå­¦æ­£åˆ™çš„åŒå­¦éå¸¸å‹å¥½ï¼Œèƒ½å¼•å¯¼ä½ å†™å‡ºä¼˜ç§€çš„æ­£åˆ™è¡¨è¾¾å¼ï¼Œå†ç»“åˆè¿™ç¯‡æ–‡ç« å¯¹æ­£åˆ™è¡¨è¾¾å¼çš„è¿ç”¨ï¼Œç›¸ä¿¡ä½ ä¼šå¯¹æ­£åˆ™çš„è¿ç”¨æ¸¸åˆƒæœ‰ä½™ã€‚ å‚è€ƒèµ„æ–™ï¼šè€å§š-JSæ­£åˆ™è¡¨è¾¾å¼å®Œæ•´æ•™ç¨‹ï¼ˆç•¥é•¿ï¼‰ MDN-String.prototype.match() MDN-String.prototype.replace() å…±å‹‰å†™ä¸‹è¿™ç¯‡æ–‡ç« ï¼Œå¸Œæœ›å¯¹ä½ æœ‰å¸®åŠ©ï¼Œä¸å›å…±å‹‰ï¼","categories":[{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"http://blog.curtaintan.club/categories/%E5%89%8D%E7%AB%AF/"}],"tags":[{"name":"æ­£åˆ™","slug":"æ­£åˆ™","permalink":"http://blog.curtaintan.club/tags/%E6%AD%A3%E5%88%99/"}]},{"title":"åšå®¢å†æ¬¡å¯ç¨‹","slug":"åšå®¢å†æ¬¡å¯ç¨‹","date":"2019-12-02T09:52:17.000Z","updated":"2020-02-07T15:56:26.796Z","comments":true,"path":"2019/12/02/åšå®¢å†æ¬¡å¯ç¨‹/","link":"","permalink":"http://blog.curtaintan.club/2019/12/02/%E5%8D%9A%E5%AE%A2%E5%86%8D%E6%AC%A1%E5%90%AF%E7%A8%8B/","excerpt":"æ¢äº†åšå®¢çš„ä¸»é¢˜ï¼Œé¡µé¢ç¾è§‚å¤šäº†ï¼Œå¿ƒæƒ…ä¹Ÿèˆ’ç•…å¤šäº†ã€‚æ›´åŠ æœ‰åŠ¨åŠ›å†™åšå®¢äº†ï¼Œæ•´ç†å¥½å¿ƒæƒ…ï¼Œé‡æ–°å‡ºå‘ï¼ï¼","text":"æ¢äº†åšå®¢çš„ä¸»é¢˜ï¼Œé¡µé¢ç¾è§‚å¤šäº†ï¼Œå¿ƒæƒ…ä¹Ÿèˆ’ç•…å¤šäº†ã€‚æ›´åŠ æœ‰åŠ¨åŠ›å†™åšå®¢äº†ï¼Œæ•´ç†å¥½å¿ƒæƒ…ï¼Œé‡æ–°å‡ºå‘ï¼ï¼ ç¢ç¢å¿µç»è¿‡ä¸€å¤©çš„é…ç½®ï¼Œåšå®¢æ­å»ºçš„å·®ä¸å¤šäº†ï¼Œ æ•´ç†å¥½å¿ƒæƒ…ï¼ï¼ï¼ é‡æ–°å‡ºå‘ï¼","categories":[{"name":"æˆ‘çš„éšç¬”","slug":"æˆ‘çš„éšç¬”","permalink":"http://blog.curtaintan.club/categories/%E6%88%91%E7%9A%84%E9%9A%8F%E7%AC%94/"}],"tags":[{"name":"ç”Ÿæ´»","slug":"ç”Ÿæ´»","permalink":"http://blog.curtaintan.club/tags/%E7%94%9F%E6%B4%BB/"}],"author":{"avatar":"https://img.vim-cn.com/a1/d53c11fb5d4fd69529bc805d385fe818feb3f6.png","url":"http://blog.curtaintan.club/"}},{"title":"drawing-boardç”»æ¿","slug":"drawing-boardç”»æ¿","date":"2019-08-14T08:04:55.000Z","updated":"2020-02-06T05:21:32.102Z","comments":true,"path":"2019/08/14/drawing-boardç”»æ¿/","link":"","permalink":"http://blog.curtaintan.club/2019/08/14/drawing-board%E7%94%BB%E6%9D%BF/","excerpt":"canvaså†™çš„ç”»æ¿","text":"canvaså†™çš„ç”»æ¿ å¿«åˆ°ç¢—é‡Œæ¥-ç”»æ¿ é¢„è§ˆï¼šç‚¹å‡» å‰è¨€ï¼š ä¹‹å‰å­¦å®Œcanvasï¼Œä¸€ç›´æƒ³è‡ªå·±å†™ä¸€ç‚¹ä¸œè¥¿ï¼Œè¿™ä¸¤å¤©ç»ˆäºå®Œæˆäº†ï¼Œå¼€å¿ƒï¼ï¼ å®ŒæˆåŠŸèƒ½ï¼š ç»˜ç”» ç”»ç›´çº¿ æˆªå›¾ æ—‹è½¬ å¼¹å¹• é¼ æ ‡è§¦ç¢°å¼¹å¹•ï¼Œå¼¹å¹•æ‚¬åœ æ’¤é”€/å‰è¿› è®¾ç½®ç”»ç¬”ä¿¡æ¯ å…¼å®¹ç§»åŠ¨ç«¯ åŠŸèƒ½æˆªå›¾ï¼š å‰ç½®è¯´æ˜å¦‚æœä½ éœ€è¦å‚è€ƒä»£ç ï¼Œä½ éœ€è¦çœ‹ä¸‹è¿™é‡Œã€‚å› ä¸ºåŠŸèƒ½å¤æ‚ï¼Œæ ‡å¿—çš„å˜é‡æœ‰æ¥è¿‘10ä¸ªä¹‹å¤šï¼Œä¸€ä¸‹å­å¯èƒ½å¾ˆéš¾çœ‹æ‡‚ï¼Œæ‰€ä»¥æˆ‘è¿™é‡Œè¯´æ˜ä¸‹æˆ‘çš„å¼€å‘æµç¨‹ï¼Œä»¥åŠå®šä¹‰å˜é‡çš„é¡ºåºã€‚ åŠŸèƒ½é¡ºåºï¼š ç”»ç¬” â†’ å®šä¹‰ç”»ç¬”ä¿¡æ¯ â†’ æ©¡çš®æª« â†’ åˆ é™¤ â†’ æ’¤é”€/å‰è¿› â†’ ç›´çº¿ â†’ æˆªå›¾ â†’ å¼¹å¹• å®šä¹‰å˜é‡çš„é¡ºåºï¼Œä»¥åŠä½œç”¨ï¼š æ‰€æœ‰åŠŸèƒ½å˜é‡ï¼š 1234567891011121314151617181920212223242526272829303132333435363738var isDown = false // æ ‡å¿—é¼ æ ‡æ˜¯å¦æŒ‰ä¸‹ ç»˜å›¾ä¸‰æ­¥å’Œå‰ªåˆ‡ä¸‰æ­¥èµ°æ—¶ï¼Œåé¢ä¸¤ä¸ªäº‹ä»¶è§¦å‘çš„æ ‡å¿—var points = [] // æ»‘åŠ¨æ—¶æ”¶é›†çš„ç‚¹ ç»˜ç”»ä¸‰æ­¥èµ°æ—¶ï¼Œä¸ºäº†æ—¶ç”»çš„çº¿å…‰æ»‘ï¼Œè®°å½•ç‚¹ï¼Œå‡çŸ­ç”»çº¿çš„è·ç¦»var beginPoint = null // å¼€å§‹çš„ç‚¹ ç»˜ç”»ä¸‰æ­¥èµ°æ—¶ä½¿ç”¨----è¿™ä¸‰ä¸ªä¸ºä¸€ç»„ï¼Œç”»çº¿ä¸‰äººç»„ï¼Œä¸ºäº†è®©ç”»çš„çº¿æ›´ä¸ºå…‰æ»‘var currentMenu = \"icon-pen\" // åˆå§‹æŒ‰é’® åº•éƒ¨æŒ‰é’®é€‰ä¸­çš„æŒ‰é’®var currentColor = 0 // åˆå§‹é¢œè‰²çš„index é¢œè‰²é€‰æ‹©ï¼Œé»˜è®¤ç¬¬ä¸€ä¸ªvar paintingModal = \"pen\" // ç”»ç¬”æ¨¡å¼ line||pen||cut----æŒ‰é’®åŠŸèƒ½ä¸‰äººç»„ï¼ŒæŒ‰é’®é€‰ä¸­æ ‡è®°ï¼Œé¢œè‰²é€‰ä¸­ï¼Œç”»ç”»çš„æ¨¡å¼ï¼Œåˆ‡æ¢å‰é¢ç”»ç¬”å’Œç”»ç›´çº¿çš„æ¨¡å¼var lookModal = false // é¼ æ ‡æ¨¡å¼ æŒ‰é’®ç¬¬ä¸€ä¸ªåŠŸèƒ½ï¼Œæ­¤æ¨¡å¼ä¸èƒ½ç»˜ç”»ï¼Œåªèƒ½çœ‹var cuted = false // æ ‡è®°è£å‰ªæ—¶ï¼Œæ˜¯å¦å·²ç»è£å‰ª è£å‰ªåï¼Œé˜²æ­¢åç»­çš„æ“ä½œå†æ¬¡è§¦å‘è£å‰ªæ“ä½œ ----é¼ æ ‡æ¨¡å¼å’Œå‰ªåˆ‡æ¨¡å¼çš„å®šä¹‰var animationTimer = null // å¼¹å¹•åŠ¨ç”»çš„timer åŠ¨ç”»çš„timervar barrageArray = [] // ä¿å­˜å¼¹å¹•çš„æ•°ç»„var globalPoint = &#123; x : 0, y : 0 &#125; // canvasä¸Šé¼ æ ‡çš„ç‚¹ ---å¼¹å¹•æ—¶ä½¿ç”¨----å¼¹å¹•ä¸‰äººç»„ globalPointç”¨æ¥æ ‡è®°é¼ æ ‡åœ¨canvasä¸­çš„åæ ‡ï¼Œç”¨äºåˆ¤æ–­é¼ æ ‡æ˜¯å¦è§¦ç¢°åˆ°å¼¹å¹•ä¸Š// å®ç°æ’¤é”€å’Œé‡åšçš„åŠŸèƒ½let canvasHistory = [] // canvasæ•°æ®ï¼Œåœ¨æ¯æ¬¡ç”»çº¿å’Œæ©¡çš®æª«ä½¿ç”¨åä¿å­˜æ•°æ®let step = 0 // ç”»ç¬”æŠ¬èµ·çš„æ­¥æ•°ï¼Œæ¸…ç©ºæ—¶ï¼Œæ­¥æ•°ä¹Ÿæ¸…ç©º----æ’¤é”€/å‰è¿›äºŒäººç»„ï¼Œç”»ç¬”æŠ¬èµ·æ—¶ï¼ŒæŠŠç”»å¸ƒä¿¡æ¯ç”¨getImageDataå­˜å…¥canvasHistoryï¼Œç”¨stepå®Œæˆå‰è¿›å’Œæ’¤é”€çš„åŠŸèƒ½var penAttibutes = &#123; // ç”»ç¬”æ•°æ®ï¼Œ width : 2, lineCap : \"round\", lineJoin : \"round\", strokeStyle: \"#000\", fillStyle: \"#000\", globalCompositeOperation: \"source-over\", globalAlpha : 1&#125; å¼€å‘ä¸­é‡åˆ°çš„éš¾ç‚¹ä¸é‡ç‚¹ä¸è§£å†³æ–¹æ¡ˆï¼š ä¿å­˜å†å²è®°å½•ä½¿ç”¨apiå¯¹æ¯” æˆ‘åœ¨å†™ä»£ç çš„æ—¶å€™æœ‰åšè¿‡å‚è€ƒ è¿™ç¯‡æ–‡ç« ï¼Œæ–‡ç« é‡Œç”¨æ˜¯canvas.toDataUrlçš„æ–¹å¼åšçš„æ•°æ®ä¿å­˜ï¼Œè¯„è®ºé‡Œè¯´è¿™ä¸ªæ•°æ®ä¿å­˜ä¸ç†æƒ³ï¼Œå…¶å®æˆ‘ä¸€å¼€å§‹çš„æ—¶å€™æƒ³çš„å°±æ˜¯ç”¨ctx.getImageDaataçš„æ–¹å¼æ¥åšçš„ï¼Œæˆ‘ä¹Ÿç”¨è¿™ä¸ªä¸¤ä¸ªapiåšäº†ä¸€ä¸ªå¯¹æ¯”ï¼š ä»£ç ï¼š ç»“æœï¼š å¯è§ï¼Œä½¿ç”¨getImageDataè·å–æ•°æ®æ˜¯æ—¶é—´æ˜¯éå¸¸çŸ­çš„ï¼Œå¹¶ä¸”è·å–åˆ°æ˜¯ç”»å¸ƒåƒç´ æ•°æ®ï¼Œåç»­å¯ä»¥ç›´æ¥è¿›è¡Œåƒç´ æ“ä½œï¼Œä»è€Œä¸ç”¨å†èŠ±æ—¶é—´å†å»è·å–ç”»å¸ƒä¿¡æ¯ï¼Œå…¶æ¬¡ï¼ŒgetImageDataè·å–åˆ°æ˜¯æ•°æ®æ˜¯æœ‰æ•°æ®ç»“æ„çš„ï¼Œè¿™æ ·åœ¨å†…å­˜é‡Œé¢ä¿å­˜ä¸‹æ¥å¯¹å†…å­˜æ›´åŠ å‹å¥½ï¼Œè€Œä½¿ç”¨toDataUrlæ–¹å¼ä¿å­˜ä¸‹æ¥çš„æ•°æ®æœ‰21ä¸‡è¡Œé‚£ä¹ˆé•¿çš„å­—ç¬¦ä¸²ï¼Œå¯¹å†…å­˜å¹¶ä¸å‹å¥½ã€‚ åé¢æˆ‘è¿˜åšäº†ä»–ä»¬ç»˜åˆ¶åˆ°ç”»å¸ƒä¸Šçš„æ—¶é—´å¯¹æ¯”ï¼Œä»–ä»¬çš„æ—¶é—´éƒ½åœ¨1mså†…ï¼Œåˆ°æ—¶æ¯æ¬¡putImageDataéƒ½è¦å¿«ä¸€ç‚¹ç‚¹ï¼Œä½†æ˜¯å¿«è¿™ä¸€ç‚¹æ—¶é—´çš„æ„ä¹‰å¹¶ä¸å¤§ã€‚ toDataUrlä¹Ÿæ˜¯æœ‰å¥½å¤„çš„ï¼Œå› ä¸ºè½¬ç½®å‡ºæ¥çš„æ˜¯base64çš„å­—ç¬¦ä¸²ï¼Œæ‰€ä»¥ä»–èƒ½å¤Ÿç›´æ¥ä½œä¸ºå›¾ç‰‡çš„srcå±æ€§ï¼Œè®©å›¾ç‰‡æ˜¾ç¤ºåˆ°é¡µé¢ã€‚ ç”»ç›´çº¿ å¦‚ä½•ç”»å‡ºä¸€æ¡ç›´çº¿ï¼Ÿï¼Ÿå½“æˆ‘åšäº†æ’¤é”€å’Œå‰è¿›çš„æ—¶å€™ï¼Œæˆ‘å°±æŠŠç”»æ¿æ•°æ®ç»™å­˜åˆ°canvasHistoryé‡Œé¢äº†ï¼Œè¿™é‡Œåˆšå¥½ç”¨åˆ°ï¼Œé¼ æ ‡ç§»åŠ¨æ˜¯æ—¶å€™ï¼Œå…ˆæ¸…ç©ºç”»å¸ƒï¼Œå†ç»˜åˆ¶ä¿å­˜åˆ°canvasHistoryé‡Œæœ€åé‚£ä¸ªæ•°æ®ï¼Œç„¶åå°±æ˜¯ç»˜å›¾ä¸‰æ­¥èµ°ï¼Œå°±å®Œæˆäº†ã€‚ æ³¨æ„ï¼šè¿™é‡Œä¸€å®šè¦ç»˜å›¾ä¸‰æ­¥èµ°ï¼Œæˆ–è€…åœ¨ç»˜åˆ¶å‰ä¸€å®šè¦ç”¨beginPath()é‡å¼€ä¸€æ¡è·¯å¾„ï¼Œå¦‚æœä¸é‡å¼€è·¯å¾„ï¼Œç»˜åˆ¶æ—¶ï¼Œä¼šæŠŠå‰é¢çš„ç›´çº¿ä¸€åŒç»˜åˆ¶å‡ºæ¥ï¼Œå› ä¸ºä½ ä¸€ç›´æ˜¯ä¸€æ¡è·¯å¾„ï¼Œæ‰€ä»¥ä¸‹æ¬¡ç»˜åˆ¶æ—¶ï¼Œä¸Šæ¬¡çš„ç‚¹ä¹Ÿè¦ç»˜åˆ¶ä¸€éã€‚ å›¾ç‰‡æ—‹è½¬ æ—‹è½¬å¾ˆç±»ä¼¼css3ï¼Œä½†æ˜¯ï¼Œcanvasçš„åŸºç‚¹å›ºå®šåœ¨å·¦ä¸Šè§’å¤„ï¼Œæ‰€ä»¥åœ¨æ—‹è½¬çš„æ—¶å€™ï¼Œéœ€è¦å…ˆç”¨translateç§»åŠ¨ç”»æ¿ï¼Œå¯ä»¥ç”»ä¸€ä¸‹å›¾ï¼Œ ä¸‹é¢æ˜¯æˆ‘ç”»çš„å›¾ï¼š é—®é¢˜ï¼š å½“æˆ‘ç”»ç¬”æœ‰rotateå±æ€§çš„æ—¶å€™ï¼Œå½“å‰æ“ä½œçš„putImageDataä¸ä¼šæˆåŠŸï¼Œä¸çŸ¥é“ä¸ºä»€ä¹ˆ----- å¦‚ä½•ç”»å‡ºä¸€æ¡å…‰æ»‘çš„æ›²çº¿ ç”¨æ­£å¸¸çš„ç”»æ³•ç”»æ›²çº¿æ˜¯æ—¶å€™ï¼Œç”»å‡ºçš„æ›²çº¿ä¸å¤Ÿå…‰æ»‘ï¼Œ æ‰€ä»¥æˆ‘å°±å‚è€ƒäº†è¿™ç¯‡æ–‡ç«  canvasè¿›é˜¶â€”â€”å¦‚ä½•ç”»å‡ºå¹³æ»‘çš„æ›²çº¿? ï¼ˆå…¶å®æˆ‘ä¹Ÿæƒ³åˆ°äº†ç”¨äºŒæ¬¡è´å¡å°”æ›²çº¿ï¼Œåœ¨å¯»æ‰¾æ›´å¥½çš„è§£å†³æ–¹æ¡ˆæ—¶ï¼Œå°±æ‰¾åˆ°è¿™ä¸ªæ–¹æ³•äº†ï¼Œè¿™ä¸ªæ–¹æ¡ˆæ›´ä¼˜ï¼‰ï¼ŒåŸç†å¯ä»¥çœ‹åŸæ–‡ã€‚ é¼ æ ‡è§¦æ‘¸å¼¹å¹• å› ä¸ºcanvasæ˜¯æ— è®°å¿†æ€§çš„ï¼Œæ‰€ä»¥ï¼Œä½ ç”¨isPointPathå’ŒisPointStrokeæ—¶ï¼Œæ˜¯åœ¨å½“å‰ç»˜ç”»ä¸‹æ‰èƒ½æ£€æµ‹ã€‚ åœ¨ä½¿ç”¨isPointPathæ—¶ï¼Œä»–åªä¸pathè·¯å¾„æœ‰å…³ï¼Œæ„æ€å°±æ˜¯ï¼Œä½ ç”¨fillRectç›´æ¥ç»˜åˆ¶ä¸€ä¸ªçŸ©å½¢å›¾å½¢æ˜¯ä¸èƒ½æ£€æµ‹çš„ï¼Œ åªèƒ½æ£€æµ‹rect()å’ŒpathToç­‰å›´èµ·æ¥çš„è·¯å¾„å†…ã€‚ æ‰€ä»¥ï¼Œè¿™é‡Œæˆ‘åšäº†ä¸€ä¸ªå¤–æŒ‚è·¯å¾„-ç”¨rect()æŠŠæ¯ä¸ªå¼¹å¹•æ¡†èµ·æ¥â€”â€”å“ˆå“ˆâ€“ ä½¿ç”¨drawImageé¡»çŸ¥ï¼š drawImageæœ‰ä¸‰ç§ä¼ å‚æ–¹å¼ï¼Œä¸‰ç§æ–¹å¼å‡ºæ¥çš„æ•ˆæœï¼Œåœ¨ä¹¦å†™å‰å¯ä»¥å…ˆå‚è€ƒæ•ˆæœã€‚ å‚è€ƒåœ°å€ï¼šCanvasRenderingContext2D.drawImage å…¼å®¹ç§»åŠ¨ç«¯ å½“åœ¨ç§»åŠ¨ç«¯æ—¶ï¼Œä¼šå­˜åœ¨ç§»åŠ¨ç«¯å»¶æ—¶300msçš„é—®é¢˜ï¼Œå› ä¸ºç§»åŠ¨ç«¯æœ‰åŒå‡»æ”¾å¤§åŠŸèƒ½ï¼Œæ•…å­˜åœ¨300msæ—¶é—´ã€‚ æˆ‘è§£å†³çš„æ–¹æ³•æ˜¯è®¾ç½®metaä¿¡æ¯ï¼Œç¦æ­¢ç¼©æ”¾ï¼Œå°±å¯ä»¥é˜²æ­¢300msé—®é¢˜ ç»“è¯­ï¼šè¿™ä¸ªé¡¹ç›®å¤§æ¦‚ç”¨äº†canvasçš„75%çš„apiï¼Œè¿˜æœ‰åƒç´ æ“ä½œå’Œæ¸å˜ç­‰apiè¿˜æ²¡ç”¨åˆ°ã€‚ ä¸çŸ¥é“æœ‰æ²¡æœ‰äººçœ‹å‘¢ï¼Œ å¦‚æœä½ çœ‹åˆ°äº†è¿™ç¯‡æ–‡ç« ï¼Œå¸Œæœ›å¯¹ä½ æœ‰å¸®åŠ©ã€‚ æ…¢æ…¢æ¥ï¼Œå¥½å¥½å­¦ä¹ ï¼Œè¦åŠ æ²¹å“¦ï¼ ä¸å›å…±å‹‰ï¼ï¼ å‚è€ƒææ–™ï¼š æ‰‹æŠŠæ‰‹æ•™ä½ å®ç°ä¸€ä¸ªcanvasæ™ºç»˜ç”»æ¿ å‚è€ƒäº†æ¥¼ä¸»é¡¹ç›®çš„æ ·å¼ï¼Œä½†æ˜¯æ‰€æœ‰æ ·å¼éƒ½æ˜¯æˆ‘è‡ªå·±å†™çš„ï¼Œå˜»å˜»ï¼Œå®ç°æ–¹å¼ä¸ä¸€æ ·å“¦ã€‚ã€‚ canvasè¿›é˜¶â€”â€”å¦‚ä½•ç”»å‡ºå¹³æ»‘çš„æ›²çº¿? ç”»ä¸€æ¡å…‰æ»‘çš„æ›²çº¿ï¼Œä¸é”™å“¦ã€‚ canvasåŠ¨ç”»åŒ…æ•™ä¸åŒ…ä¼š å¯ä»¥åœ¨è¿™é‡ŒæŠŠæ‰€æœ‰apiçš„æ„ä¹‰å’Œä½œç”¨å’Œå‚æ•°ç­‰éƒ½è®°ä¸‹æ¥â€”â€“ Canvas APIä¸­æ–‡æ–‡æ¡£é¦–é¡µåœ°å›¾ canvasæ‰€æœ‰çš„apiï¼Œå½“ç„¶ä½ ä¹Ÿå¯ä»¥å»mdnçœ‹ï¼Œå…¶å®éƒ½ä¸€æ ·å•¦â€”","categories":[{"name":"æˆ‘çš„ä½œå“","slug":"æˆ‘çš„ä½œå“","permalink":"http://blog.curtaintan.club/categories/%E6%88%91%E7%9A%84%E4%BD%9C%E5%93%81/"}],"tags":[{"name":"canvas","slug":"canvas","permalink":"http://blog.curtaintan.club/tags/canvas/"}]},{"title":"æ­£åˆ™å°è®°ï¼ˆä¸€ï¼‰ä¹‹apié€Ÿå­¦","slug":"æ­£åˆ™å°è®°ï¼ˆä¸€ï¼‰ä¹‹apié€Ÿå­¦","date":"2019-08-14T08:04:55.000Z","updated":"2020-01-02T04:43:51.427Z","comments":true,"path":"2019/08/14/æ­£åˆ™å°è®°ï¼ˆä¸€ï¼‰ä¹‹apié€Ÿå­¦/","link":"","permalink":"http://blog.curtaintan.club/2019/08/14/%E6%AD%A3%E5%88%99%E5%B0%8F%E8%AE%B0%EF%BC%88%E4%B8%80%EF%BC%89%E4%B9%8Bapi%E9%80%9F%E5%AD%A6/","excerpt":"ä½œä¸ºä¸€ä¸ªå‰ç«¯ï¼Œæ­£åˆ™æ˜¯å¿…é¡»è¦ä¼šçš„æŠ€èƒ½ä¹‹ä¸€ï¼Œæ‰€ä»¥ï¼Œè®©æˆ‘ä»¬å¼€å§‹å­¦ä¹ æ­£åˆ™å§ã€‚ è¿™æ˜¯æ­£åˆ™å­¦ä¹ çš„ç¬¬ä¸€ç¯‡æ–‡ç« â€¦","text":"ä½œä¸ºä¸€ä¸ªå‰ç«¯ï¼Œæ­£åˆ™æ˜¯å¿…é¡»è¦ä¼šçš„æŠ€èƒ½ä¹‹ä¸€ï¼Œæ‰€ä»¥ï¼Œè®©æˆ‘ä»¬å¼€å§‹å­¦ä¹ æ­£åˆ™å§ã€‚ è¿™æ˜¯æ­£åˆ™å­¦ä¹ çš„ç¬¬ä¸€ç¯‡æ–‡ç« â€¦ å‰è¨€æ­£åˆ™ï¼Œç”¨ç®€çŸ­çš„ä¸€å¥è¯æ¦‚æ‹¬ï¼Œæ­£åˆ™è¡¨è¾¾å¼æ˜¯åŒ¹é…æ¨¡å¼ï¼Œè¦ä¹ˆåŒ¹é…å­—ç¬¦ï¼Œè¦ä¹ˆåŒ¹é…ä½ç½®ã€‚ æ­£åˆ™çš„æ–¹æ³•å’Œä¸æ­£åˆ™æœ‰å…³çš„æ–¹æ³•å…±æœ‰6ä¸ªï¼Œå­—ç¬¦ä¸²å®ä¾‹4ä¸ªï¼Œæ­£åˆ™å®ä¾‹2ä¸ªï¼š String#search String#split String#match String#replace RegExp#test RegExp#exec 1.search()å®šä¹‰ï¼šæ­£åˆ™å»åŒ¹é…å­—ç¬¦ä¸²ï¼Œå¦‚æœåŒ¹é…æˆåŠŸï¼Œå°±è¿”å›åŒ¹é…æˆåŠŸçš„ä½ç½®ï¼ŒåŒ¹é…å¤±è´¥å°±è¿”å›-1. ä¾‹å­ï¼š 1234var regex = /\\d/;var string = \"abc123\";console.log( string.search(regex) );// =&gt; 3 2.splitå®šä¹‰ï¼šsplit()æ–¹æ³•æŠŠåŸå­—ç¬¦ä¸²åˆ†å‰²æˆå­å­—ç¬¦ä¸²ç»„æˆæ•°ç»„ï¼Œå¹¶è¿”å›è¯¥æ•°ç»„ã€‚ è¯­æ³•ï¼šstr.split(separator, limit) ä¸¤ä¸ªå‚æ•°å‡æ˜¯å¯é€‰çš„ï¼Œå…¶ä¸­ separator è¡¨ç¤ºåˆ†éš”ç¬¦ï¼Œå®ƒå¯ä»¥æ˜¯å­—ç¬¦ä¸²ä¹Ÿå¯ä»¥æ˜¯æ­£åˆ™è¡¨è¾¾å¼ã€‚å¦‚æœå¿½ç•¥ separatorï¼Œåˆ™è¿”å›çš„æ•°ç»„åŒ…å«ä¸€ä¸ªç”±åŸå­—ç¬¦ä¸²ç»„æˆçš„å…ƒç´ ã€‚å¦‚æœ separator æ˜¯ä¸€ä¸ªç©ºä¸²ï¼Œåˆ™ str å°†ä¼šè¢«åˆ†å‰²æˆä¸€ä¸ªç”±åŸå­—ç¬¦ä¸²ä¸­å­—ç¬¦ç»„æˆçš„æ•°ç»„ã€‚limit è¡¨ç¤ºä»è¿”å›çš„æ•°ç»„ä¸­æˆªå–å‰ limit ä¸ªå…ƒç´ ï¼Œä»è€Œé™å®šè¿”å›çš„æ•°ç»„é•¿åº¦ã€‚ ä¾‹å­ï¼š 1234567var regex = /\\D/console.log( \"2017/06/26\".split(regex) )console.log( \"2017.06.26\".split(regex) )console.log( \"2017-06-26\".split(regex) )// =&gt; [\"2017\", \"06\", \"26\"]// =&gt; [\"2017\", \"06\", \"26\"]// =&gt; [\"2017\", \"06\", \"26\"] 3.matchå®šä¹‰ï¼šmatch() æ–¹æ³•ç”¨äºæµ‹è¯•å­—ç¬¦ä¸²æ˜¯å¦æ”¯æŒæŒ‡å®šæ­£åˆ™è¡¨è¾¾å¼çš„è§„åˆ™ï¼Œå³ä½¿ä¼ å…¥çš„æ˜¯éæ­£åˆ™è¡¨è¾¾å¼å¯¹è±¡ï¼Œå®ƒä¹Ÿä¼šéšå¼åœ°ä½¿ç”¨new RegExp(obj)å°†å…¶è½¬æ¢ä¸ºæ­£åˆ™è¡¨è¾¾å¼å¯¹è±¡ã€‚ è¯­æ³•ï¼šstr.match(regexp) è¯¥æ–¹æ³•è¿”å›åŒ…å«åŒ¹é…ç»“æœçš„æ•°ç»„ï¼Œå¦‚æœæ²¡æœ‰åŒ¹é…é¡¹ï¼Œåˆ™è¿”å› null åŒ¹é…åŸåˆ™ï¼š åŒ¹é…æˆåŠŸå°±ä¼šç»“æŸï¼Œå¦‚æœæƒ³ç»§ç»­å…¨éƒ¨åŒ¹é…ï¼ŒåŠ æ ‡è¯†g æè¿° è‹¥æ­£åˆ™è¡¨è¾¾å¼æ²¡æœ‰ g æ ‡å¿—ï¼Œåˆ™è¿”å›åŒ RegExp.exec(str) ç›¸åŒçš„ç»“æœã€‚è€Œä¸”è¿”å›çš„æ•°ç»„æ‹¥æœ‰ä¸€ä¸ªé¢å¤–çš„ input å±æ€§ï¼Œè¯¥å±æ€§åŒ…å«åŸå§‹å­—ç¬¦ä¸²ï¼Œå¦å¤–è¯¥æ•°ç»„è¿˜æ‹¥æœ‰ä¸€ä¸ª index å±æ€§ï¼Œè¯¥å±æ€§è¡¨ç¤ºåŒ¹é…å­—ç¬¦ä¸²åœ¨åŸå­—ç¬¦ä¸²ä¸­ç´¢å¼•ï¼ˆä»0å¼€å§‹ï¼‰ã€‚ è‹¥æ­£åˆ™è¡¨è¾¾å¼åŒ…å« g æ ‡å¿—ï¼Œåˆ™è¯¥æ–¹æ³•è¿”å›ä¸€ä¸ªåŒ…å«æ‰€æœ‰åŒ¹é…ç»“æœçš„æ•°ç»„ï¼Œæ²¡æœ‰åŒ¹é…åˆ°åˆ™è¿”å› nullã€‚ æ¡ˆä¾‹ï¼š 1234var regex = /^(\\d&#123;4&#125;)\\D(\\d&#123;2&#125;)\\D(\\d&#123;2&#125;)$/;var string = \"2017-06-26\";console.log( string.match(regex) );// =&gt;[\"2017-06-26\", \"2017\", \"06\", \"26\", index: 0, input: \"2017-06-26\"] 4.replaceè¯­æ³•ï¼šstr.replace( regexp | substr, newSubStr | function[, flags] ) å‚æ•°ï¼š regexp: ä¸€ä¸ª RegExp å¯¹è±¡. è¯¥æ­£åˆ™æ‰€åŒ¹é…çš„å†…å®¹ä¼šè¢«ç¬¬äºŒä¸ªå‚æ•°çš„è¿”å›å€¼æ›¿æ¢æ‰ã€‚ substr: ä¸€ä¸ªè¦è¢« newSubStr æ›¿æ¢çš„å­—ç¬¦ä¸². newSubStr: æ›¿æ¢æ‰ç¬¬ä¸€ä¸ªå‚æ•°åœ¨åŸå­—ç¬¦ä¸²ä¸­çš„åŒ¹é…éƒ¨åˆ†. è¯¥å­—ç¬¦ä¸²ä¸­å¯ä»¥å†…æ’ä¸€äº›ç‰¹æ®Šçš„å˜é‡å. function: ä¸€ä¸ªç”¨æ¥åˆ›å»ºæ–°å­å­—ç¬¦ä¸²çš„å‡½æ•°, è¯¥å‡½æ•°çš„è¿”å›å€¼å°†æ›¿æ¢æ‰ç¬¬ä¸€ä¸ªå‚æ•°åŒ¹é…åˆ°çš„ç»“æœ. è¯¥å‡½æ•°çš„å‚æ•°æ-è¿°è¯·å‚è€ƒ æŒ‡å®šä¸€ä¸ªå‡½æ•°ä½œä¸ºå‚æ•° å°èŠ‚. flags: æ³¨æ„ï¼šflags å‚æ•°åœ¨ v8 å†…æ ¸ï¼ˆChrome and NodeJsï¼‰ä¸­ä¸èµ·ä½œç”¨. æ–¹æ³•ä¸­ä½¿ç”¨ flags å‚æ•°ä¸æ˜¯ç¬¦åˆæ ‡å‡†çš„å¹¶ä¸”ä¸èµæˆè¿™æ ·åš. replaceåé¢å•ç‹¬å†™ä¸€ç¯‡æ–‡ç« æ€»ç»“ æ¡ˆä¾‹ï¼š 12345678var regex = /^(\\d&#123;4&#125;)\\D(\\d&#123;2&#125;)\\D(\\d&#123;2&#125;)$/;var string = \"2017-06-26\";var date = [];string.replace(regex, function(match, year, month, day) &#123; date.push(year, month, day);&#125;);console.log(date);// =&gt; [\"2017\", \"06\", \"26\"] 5.testè¯´æ˜ï¼šæ­£åˆ™å»åŒ¹é…å­—ç¬¦ä¸²ï¼ŒåŒ¹é…æˆåŠŸï¼Œè¿”å›trueï¼ŒåŒ¹é…å¤±è´¥ï¼Œè¿”å›false æ¡ˆä¾‹ï¼š 1234var regex = /\\d/;var string = \"abc123\";console.log( regex.test(string) );// =&gt; true 6.execè¯´æ˜ï¼šexec() æ–¹æ³•åœ¨ä¸€ä¸ªæŒ‡å®šå­—ç¬¦ä¸²ä¸­æ‰§è¡Œä¸€ä¸ªæœç´¢åŒ¹é…ã€‚è¿”å›ä¸€ä¸ªç»“æœæ•°ç»„æˆ– nullã€‚ è¿™ä¸ªæ–¹æ³•å¾ˆç±»ä¼¼matchæ–¹æ³•ã€‚ æ¡ˆä¾‹ï¼š 1234var regex = /^(\\d&#123;4&#125;)\\D(\\d&#123;2&#125;)\\D(\\d&#123;2&#125;)$/;var string = \"2017-06-26\";console.log( regex.exec(string) );// =&gt;[\"2017-06-26\", \"2017\", \"06\", \"26\", index: 0, input: \"2017-06-26\"] ç›¸å…³APIæ³¨æ„è¦ç‚¹-1 searchå’Œmatchçš„å‚æ•°é—®é¢˜æˆ‘ä»¬çŸ¥é“å­—ç¬¦ä¸²å®ä¾‹çš„é‚£4ä¸ªæ–¹æ³•å‚æ•°éƒ½æ”¯æŒæ­£åˆ™å’Œå­—ç¬¦ä¸²ã€‚ ä½†searchå’Œmatchï¼Œä¼šæŠŠå­—ç¬¦ä¸²è½¬æ¢ä¸ºæ­£åˆ™çš„ã€‚ 1234567891011121314151617181920212223var string = \"2017.06.27\";console.log( string.search(\".\") );// =&gt; 0//éœ€è¦ä¿®æ”¹æˆä¸‹åˆ—å½¢å¼ä¹‹ä¸€console.log( string.search(\"\\\\.\") );console.log( string.search(/\\./) );// =&gt; 4// =&gt; 4console.log( string.match(\".\") );// =&gt; [\"2\", index: 0, input: \"2017.06.27\"]//éœ€è¦ä¿®æ”¹æˆä¸‹åˆ—å½¢å¼ä¹‹ä¸€console.log( string.match(\"\\\\.\") );console.log( string.match(/\\./) );// =&gt; [\".\", index: 4, input: \"2017.06.27\"]// =&gt; [\".\", index: 4, input: \"2017.06.27\"]console.log( string.split(\".\") );// =&gt; [\"2017\", \"06\", \"27\"]console.log( string.replace(\".\", \"/\") );// =&gt; \"2017/06.27\" 2 matchè¿”å›ç»“æœçš„æ ¼å¼é—®é¢˜matchè¿”å›ç»“æœçš„æ ¼å¼ï¼Œä¸æ­£åˆ™å¯¹è±¡æ˜¯å¦æœ‰ä¿®é¥°ç¬¦gæœ‰å…³ã€‚ 1234567var string = \"2017.06.27\";var regex1 = /\\b(\\d+)\\b/;var regex2 = /\\b(\\d+)\\b/g;console.log( string.match(regex1) );console.log( string.match(regex2) );// =&gt; [\"2017\", \"2017\", index: 0, input: \"2017.06.27\"]// =&gt; [\"2017\", \"06\", \"27\"] æ²¡æœ‰gï¼Œè¿”å›çš„æ˜¯æ ‡å‡†åŒ¹é…æ ¼å¼ï¼Œå³ï¼Œæ•°ç»„çš„ç¬¬ä¸€ä¸ªå…ƒç´ æ˜¯æ•´ä½“åŒ¹é…çš„å†…å®¹ï¼Œæ¥ä¸‹æ¥æ˜¯åˆ†ç»„æ•è·çš„å†…å®¹ï¼Œç„¶åæ˜¯æ•´ä½“åŒ¹é…çš„ç¬¬ä¸€ä¸ªä¸‹æ ‡ï¼Œæœ€åæ˜¯è¾“å…¥çš„ç›®æ ‡å­—ç¬¦ä¸²ã€‚ æœ‰gï¼Œè¿”å›çš„æ˜¯æ‰€æœ‰åŒ¹é…çš„å†…å®¹ã€‚ 3 execæ¯”matchæ›´å¼ºå¤§å½“æ­£åˆ™æ²¡æœ‰gæ—¶ï¼Œä½¿ç”¨matchè¿”å›çš„ä¿¡æ¯æ¯”è¾ƒå¤šã€‚ä½†æ˜¯æœ‰gåï¼Œå°±æ²¡æœ‰å…³é”®çš„ä¿¡æ¯indexäº†ã€‚ è€Œexecæ–¹æ³•å°±èƒ½è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œå®ƒèƒ½æ¥ç€ä¸Šä¸€æ¬¡åŒ¹é…åç»§ç»­åŒ¹é…ï¼š 123456789101112131415161718var string = \"2017.06.27\";var regex2 = /\\b(\\d+)\\b/g;console.log( regex2.exec(string) );console.log( regex2.lastIndex);console.log( regex2.exec(string) );console.log( regex2.lastIndex);console.log( regex2.exec(string) );console.log( regex2.lastIndex);console.log( regex2.exec(string) );console.log( regex2.lastIndex);// =&gt; [\"2017\", \"2017\", index: 0, input: \"2017.06.27\"]// =&gt; 4// =&gt; [\"06\", \"06\", index: 5, input: \"2017.06.27\"]// =&gt; 7// =&gt; [\"27\", \"27\", index: 8, input: \"2017.06.27\"]// =&gt; 10// =&gt; null// =&gt; 0 å…¶ä¸­æ­£åˆ™å®ä¾‹lastIndexå±æ€§ï¼Œè¡¨ç¤ºä¸‹ä¸€æ¬¡åŒ¹é…å¼€å§‹çš„ä½ç½®ã€‚ æ¯”å¦‚ç¬¬ä¸€æ¬¡åŒ¹é…äº†â€œ2017â€ï¼Œå¼€å§‹ä¸‹æ ‡æ˜¯0ï¼Œå…±4ä¸ªå­—ç¬¦ï¼Œå› æ­¤è¿™æ¬¡åŒ¹é…ç»“æŸçš„ä½ç½®æ˜¯3ï¼Œä¸‹ä¸€æ¬¡å¼€å§‹åŒ¹é…çš„ä½ç½®æ˜¯4ã€‚ ä»ä¸Šè¿°ä»£ç çœ‹å‡ºï¼Œåœ¨ä½¿ç”¨execæ—¶ï¼Œç»å¸¸éœ€è¦é…åˆä½¿ç”¨whileå¾ªç¯ï¼š 123456789var string = \"2017.06.27\";var regex2 = /\\b(\\d+)\\b/g;var result;while ( result = regex2.exec(string) ) &#123; console.log( result, regex2.lastIndex );&#125;// =&gt; [\"2017\", \"2017\", index: 0, input: \"2017.06.27\"] 4// =&gt; [\"06\", \"06\", index: 5, input: \"2017.06.27\"] 7// =&gt; [\"27\", \"27\", index: 8, input: \"2017.06.27\"] 10 4 ä¿®é¥°ç¬¦gï¼Œå¯¹exexå’Œtestçš„å½±å“ä¸Šé¢æåˆ°äº†æ­£åˆ™å®ä¾‹çš„lastIndexå±æ€§ï¼Œè¡¨ç¤ºå°è¯•åŒ¹é…æ—¶ï¼Œä»å­—ç¬¦ä¸²çš„lastIndexä½å¼€å§‹å»åŒ¹é…ã€‚ å­—ç¬¦ä¸²çš„å››ä¸ªæ–¹æ³•ï¼Œæ¯æ¬¡åŒ¹é…æ—¶ï¼Œéƒ½æ˜¯ä»0å¼€å§‹çš„ï¼Œå³lastIndexå±æ€§å§‹ç»ˆä¸å˜ã€‚ è€Œæ­£åˆ™å®ä¾‹çš„ä¸¤ä¸ªæ–¹æ³•execã€testï¼Œå½“æ­£åˆ™æ˜¯å…¨å±€åŒ¹é…æ—¶ï¼Œæ¯ä¸€æ¬¡åŒ¹é…å®Œæˆåï¼Œéƒ½ä¼šä¿®æ”¹lastIndexã€‚ä¸‹é¢è®©æˆ‘ä»¬ä»¥testä¸ºä¾‹ï¼Œçœ‹çœ‹ä½ æ˜¯å¦ä¼šè¿·ç³Šï¼š 1234567var regex = /a/g;console.log( regex.test(\"a\"), regex.lastIndex );console.log( regex.test(\"aba\"), regex.lastIndex );console.log( regex.test(\"ababc\"), regex.lastIndex );// =&gt; true 1// =&gt; true 3// =&gt; false 0 æ³¨æ„ä¸Šé¢ä»£ç ä¸­çš„ç¬¬ä¸‰æ¬¡è°ƒç”¨testï¼Œå› ä¸ºè¿™ä¸€æ¬¡å°è¯•åŒ¹é…ï¼Œå¼€å§‹ä»ä¸‹æ ‡lastIndexå³3ä½ç½®å¤„å¼€å§‹æŸ¥æ‰¾ï¼Œè‡ªç„¶å°±æ‰¾ä¸åˆ°äº†ã€‚ å¦‚æœæ²¡æœ‰gï¼Œè‡ªç„¶éƒ½æ˜¯ä»å­—ç¬¦ä¸²ç¬¬0ä¸ªå­—ç¬¦å¤„å¼€å§‹å°è¯•åŒ¹é…ï¼š 1234567var regex = /a/;console.log( regex.test(\"a\"), regex.lastIndex );console.log( regex.test(\"aba\"), regex.lastIndex );console.log( regex.test(\"ababc\"), regex.lastIndex );// =&gt; true 0// =&gt; true 0// =&gt; true 0 5 testæ•´ä½“åŒ¹é…æ—¶éœ€è¦ä½¿ç”¨^å’Œ$è¿™ä¸ªç›¸å¯¹å®¹æ˜“ç†è§£ï¼Œå› ä¸ºtestæ˜¯çœ‹ç›®æ ‡å­—ç¬¦ä¸²ä¸­æ˜¯å¦æœ‰å­ä¸²åŒ¹é…æ­£åˆ™ï¼Œå³æœ‰éƒ¨åˆ†åŒ¹é…å³å¯ã€‚ å¦‚æœï¼Œè¦æ•´ä½“åŒ¹é…ï¼Œæ­£åˆ™å‰åéœ€è¦æ·»åŠ å¼€å¤´å’Œç»“å°¾ï¼š 123456console.log( /123/.test(\"a123b\") );// =&gt; trueconsole.log( /^123$/.test(\"a123b\") );// =&gt; falseconsole.log( /^123$/.test(\"123\") );// =&gt; true 6 splitç›¸å…³æ³¨æ„äº‹é¡¹splitæ–¹æ³•çœ‹èµ·æ¥ä¸èµ·çœ¼ï¼Œä½†è¦æ³¨æ„çš„åœ°æ–¹æœ‰ä¸¤ä¸ªçš„ã€‚ ç¬¬ä¸€ï¼Œå®ƒå¯ä»¥æœ‰ç¬¬äºŒä¸ªå‚æ•°ï¼Œè¡¨ç¤ºç»“æœæ•°ç»„çš„æœ€å¤§é•¿åº¦ï¼š 123var string = \"html,css,javascript\";console.log( string.split(/,/, 2) );// =&gt;[\"html\", \"css\"] 7 replaceæ˜¯å¾ˆå¼ºå¤§çš„ ã€ŠJavaScriptæƒå¨æŒ‡å—ã€‹è®¤ä¸ºexecæ˜¯è¿™6ä¸ªAPIä¸­æœ€å¼ºå¤§çš„ï¼Œè€Œæˆ‘å§‹ç»ˆè®¤ä¸ºreplaceæ‰æ˜¯æœ€å¼ºå¤§çš„ã€‚ å› ä¸ºå®ƒä¹Ÿèƒ½æ‹¿åˆ°è¯¥æ‹¿åˆ°çš„ä¿¡æ¯ï¼Œç„¶åå¯ä»¥å‡å€Ÿæ›¿æ¢ä¹‹åï¼Œåšäº›å…¶ä»–äº‹æƒ…ã€‚ æ€»ä½“æ¥è¯´replaceæœ‰ä¸¤ç§ä½¿ç”¨å½¢å¼ï¼Œè¿™æ˜¯å› ä¸ºå®ƒçš„ç¬¬äºŒä¸ªå‚æ•°ï¼Œå¯ä»¥æ˜¯å­—ç¬¦ä¸²ï¼Œä¹Ÿå¯ä»¥æ˜¯å‡½æ•°ã€‚å½“ç¬¬äºŒä¸ªå‚æ•°æ˜¯å­—ç¬¦ä¸²æ—¶ï¼Œå¦‚ä¸‹çš„å­—ç¬¦æœ‰ç‰¹æ®Šçš„å«ä¹‰ï¼š $1,$2,...,$99 åŒ¹é…ç¬¬1~99ä¸ªåˆ†ç»„é‡Œæ•è·çš„æ–‡æœ¬ $&amp; åŒ¹é…åˆ°çš„å­ä¸²æ–‡æœ¬ $` åŒ¹é…åˆ°çš„å­ä¸²çš„å·¦è¾¹æ–‡æœ¬ $&apos; åŒ¹é…åˆ°çš„å­ä¸²çš„å³è¾¹æ–‡æœ¬ $$ ç¾å…ƒç¬¦å·ä¾‹å¦‚ï¼ŒæŠŠâ€2,3,5â€ï¼Œå˜æˆâ€5=2+3â€ï¼š 123var result = \"2,3,5\".replace(/(\\d+),(\\d+),(\\d+)/, \"$3=$1+$2\");console.log(result);// =&gt; \"5=2+3\" åˆä¾‹å¦‚ï¼ŒæŠŠâ€2,3,5â€ï¼Œå˜æˆâ€222,333,555â€: 123var result = \"2,3,5\".replace(/(\\d+)/g, \"$&amp;$&amp;$&amp;\");console.log(result);// =&gt; \"222,333,555\" å†ä¾‹å¦‚ï¼ŒæŠŠâ€2+3=5â€ï¼Œå˜æˆâ€2+3=2+3=5=5â€: 123var result = \"2+3=5\".replace(/=/, \"$&amp;$`$&amp;$'$&amp;\");console.log(result);// =&gt; \"2+3=2+3=5=5\" å½“ç¬¬äºŒä¸ªå‚æ•°æ˜¯å‡½æ•°æ—¶ï¼Œæˆ‘ä»¬éœ€è¦æ³¨æ„è¯¥å›è°ƒå‡½æ•°çš„å‚æ•°å…·ä½“æ˜¯ä»€ä¹ˆï¼š 123456\"1234 2345 3456\".replace(/(\\d)\\d&#123;2&#125;(\\d)/g, function(match, $1, $2, index, input) &#123; console.log([match, $1, $2, index, input]);&#125;);// =&gt; [\"1234\", \"1\", \"4\", 0, \"1234 2345 3456\"]// =&gt; [\"2345\", \"2\", \"5\", 5, \"1234 2345 3456\"]// =&gt; [\"3456\", \"3\", \"6\", 10, \"1234 2345 3456\"] æ­¤æ—¶æˆ‘ä»¬å¯ä»¥çœ‹åˆ°replaceæ‹¿åˆ°çš„ä¿¡æ¯ï¼Œå¹¶ä¸æ¯”execå°‘ã€‚ 8 ä½¿ç”¨æ„é€ å‡½æ•°éœ€è¦æ³¨æ„çš„é—®é¢˜ ä¸€èˆ¬ä¸æ¨èä½¿ç”¨æ„é€ å‡½æ•°ç”Ÿæˆæ­£åˆ™ï¼Œè€Œåº”è¯¥ä¼˜å…ˆä½¿ç”¨å­—é¢é‡ã€‚å› ä¸ºç”¨æ„é€ å‡½æ•°ä¼šå¤šå†™å¾ˆå¤š\\ã€‚ 12345678var string = \"2017-06-27 2017.06.27 2017/06/27\";var regex = /\\d&#123;4&#125;(-|\\.|\\/)\\d&#123;2&#125;\\1\\d&#123;2&#125;/g;console.log( string.match(regex) );// =&gt; [\"2017-06-27\", \"2017.06.27\", \"2017/06/27\"]regex = new RegExp(\"\\\\d&#123;4&#125;(-|\\\\.|\\\\/)\\\\d&#123;2&#125;\\\\1\\\\d&#123;2&#125;\", \"g\");console.log( string.match(regex) );// =&gt; [\"2017-06-27\", \"2017.06.27\", \"2017/06/27\"] 9 ä¿®é¥°ç¬¦ ES5ä¸­ä¿®é¥°ç¬¦ï¼Œå…±3ä¸ªï¼š g å…¨å±€åŒ¹é…ï¼Œå³æ‰¾åˆ°æ‰€æœ‰åŒ¹é…çš„ï¼Œå•è¯æ˜¯global i å¿½ç•¥å­—æ¯å¤§å°å†™ï¼Œå•è¯ingoreCase m å¤šè¡ŒåŒ¹é…ï¼Œåªå½±å“^å’Œ$ï¼ŒäºŒè€…å˜æˆè¡Œçš„æ¦‚å¿µï¼Œå³è¡Œå¼€å¤´å’Œè¡Œç»“å°¾ã€‚å•è¯æ˜¯multiline10 sourceå±æ€§æ­£åˆ™å®ä¾‹å¯¹è±¡å±æ€§ï¼Œé™¤äº†globalã€ingnoreCaseã€multilineã€lastIndexå±æ€§ä¹‹å¤–ï¼Œè¿˜æœ‰ä¸€ä¸ªsourceå±æ€§ã€‚ å®ƒä»€ä¹ˆæ—¶å€™æœ‰ç”¨å‘¢ï¼Ÿ æ¯”å¦‚ï¼Œåœ¨æ„å»ºåŠ¨æ€çš„æ­£åˆ™è¡¨è¾¾å¼æ—¶ï¼Œå¯ä»¥é€šè¿‡æŸ¥çœ‹è¯¥å±æ€§ï¼Œæ¥ç¡®è®¤æ„å»ºå‡ºçš„æ­£åˆ™åˆ°åº•æ˜¯ä»€ä¹ˆï¼š 1234var className = \"high\";var regex = new RegExp(\"(^|\\\\s)\" + className + \"(\\\\s|$)\");console.log( regex.source )// =&gt; (^|\\s)high(\\s|$) å³å­—ç¬¦ä¸²\"(^|\\\\s)high(\\\\s|$)\" 11 æ„é€ å‡½æ•°å±æ€§ æ„é€ å‡½æ•°çš„é™æ€å±æ€§åŸºäºæ‰€æ‰§è¡Œçš„æœ€è¿‘ä¸€æ¬¡æ­£åˆ™æ“ä½œè€Œå˜åŒ–ã€‚é™¤äº†æ˜¯$1,â€¦,$9ä¹‹å¤–ï¼Œè¿˜æœ‰å‡ ä¸ªä¸å¤ªå¸¸ç”¨çš„å±æ€§ï¼ˆæœ‰å…¼å®¹æ€§é—®é¢˜ï¼‰ï¼š RegExp.input æœ€è¿‘ä¸€æ¬¡ç›®æ ‡å­—ç¬¦ä¸²ï¼Œç®€å†™æˆRegExp[&quot;$_&quot;] RegExp.lastMatch æœ€è¿‘ä¸€æ¬¡åŒ¹é…çš„æ–‡æœ¬ï¼Œç®€å†™æˆRegExp[&quot;$&amp;&quot;] RegExp.lastParen æœ€è¿‘ä¸€æ¬¡æ•è·çš„æ–‡æœ¬ï¼Œç®€å†™æˆRegExp[&quot;$+&quot;] RegExp.leftContext ç›®æ ‡å­—ç¬¦ä¸²ä¸­lastMatchä¹‹å‰çš„æ–‡æœ¬ï¼Œç®€å†™æˆRegExp[&quot;$`&quot;] RegExp.rightContext ç›®æ ‡å­—ç¬¦ä¸²ä¸­lastMatchä¹‹åçš„æ–‡æœ¬ï¼Œç®€å†™æˆRegExp[&quot;$&apos;&quot;]æµ‹è¯•ä»£ç å¦‚ä¸‹ï¼š 1234567891011121314151617181920212223var regex = /([abc])(\\d)/g;var string = \"a1b2c3d4e5\";string.match(regex);console.log( RegExp.input );console.log( RegExp[\"$_\"]);// =&gt; \"a1b2c3d4e5\"console.log( RegExp.lastMatch );console.log( RegExp[\"$&amp;\"] );// =&gt; \"c3\"console.log( RegExp.lastParen );console.log( RegExp[\"$+\"] );// =&gt; \"3\"console.log( RegExp.leftContext );console.log( RegExp[\"$`\"] );// =&gt; \"a1b2\"console.log( RegExp.rightContext );console.log( RegExp[\"$'\"] );// =&gt; \"d4e5\" ç»“è¯­ï¼š æˆ‘æœæŸ¥åˆ—å‡ºäº†ç›¸å…³çš„6ä¸ªæ–¹æ³•ï¼Œå¹¶å¯¹6ä¸ªæ–¹æ³•è¿›è¡Œäº†è¯´æ˜ã€‚ åé¢æˆ‘ä¼šå¯¹replaceå†å•ç‹¬å‡ºä¸€ç¯‡æ–‡ç« ã€‚ å‚è€ƒèµ„æ–™é‡Œçš„ç¬¬ä¸€ç¯‡æ–‡ç« çœŸçš„éå¸¸å¥½ï¼Œå€¼å¾—ä»”ç»†ç ”è¯»ã€‚ å¦‚æœä½ æƒ³ç²—ç•¥äº†è§£æ­£åˆ™çš„æ–¹æ³•ï¼Œçœ‹æˆ‘è¿™ç¯‡æ–‡ç« æ˜¯æ²¡é”™äº†ï¼Œåé¢åˆ—å‡ºçš„ç›¸åº”æ–¹æ³•çš„å‘ç‚¹å’Œæ³¨æ„ç‚¹ã€‚ åé¢ï¼Œæˆ‘ä¼šå†æ…¢æ…¢è¡¥å……åŒ¹é…è§„åˆ™ï¼Œæˆ‘ä¼šå•ç‹¬åˆ—å‡ºä¸€ç¯‡æ–‡ç« ï¼Œå› ä¸ºåŒ¹é…è§„åˆ™ä¹Ÿæœ‰å¾ˆå¤šæ³¨æ„ç‚¹å‘¢ã€‚ å“ˆå“ˆå“ˆï¼Œå…¶å®ä¹Ÿæ˜¯åœ¨ä¸‹é¢çš„æ–‡ç« é‡Œé¢çœ‹çš„å•¦ï¼Œæ–‡ç« çœŸçš„å†™å¾—å¥½---å˜»å˜» å…¶å®æ­£åˆ™ä¹Ÿæ²¡æœ‰é‚£ä¹ˆéš¾çš„å•¦----- å¸Œæœ›è¿™ç¯‡æ–‡ç« å¯¹ä½ æœ‰å¸®åŠ©ï¼Œæ¯å¤©éƒ½è¦åŠ æ²¹å“¦ã€‚ åŠ æ²¹ï¼Œä¸å›å…±å‹‰ï¼ï¼ï¼å‚è€ƒèµ„æ–™ï¼š JSæ­£åˆ™è¡¨è¾¾å¼å®Œæ•´æ•™ç¨‹ï¼ˆç•¥é•¿ï¼‰ æ–‡ç« çœŸçš„å†™çš„ä¸é”™ï¼Œè®¤è®¤çœŸçœŸï¼Œç»†åš¼æ…¢å’½çš„çœ‹å®Œè¿™ç¯‡æ–‡ç« ï¼Œä¿è¯ä½ å­¦ä¼šæ­£åˆ™ã€‚ è¿™ç¯‡æ–‡ç« å¯¹æ­£åˆ™çš„ç»†ææœ«èŠ‚éƒ½æœ‰è¯¦ç»†çš„ä»‹ç»ï¼Œæˆ‘æ‘˜æŠ„äº†éƒ¨åˆ†é‡è¦çš„ä»£ç ï¼Œå’Œæ€»ç»“äº†6ä¸ªæ–¹æ³•ã€‚ å‰©ä¸‹çš„åŒ¹é…è§„åˆ™ã€å…³é”®å­—ç­‰ï¼Œä»¥åä¼šä¸€ä¸€è¡¥å……ã€‚ MDN-RegExp MDN-String","categories":[{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"http://blog.curtaintan.club/categories/%E5%89%8D%E7%AB%AF/"}],"tags":[{"name":"æ­£åˆ™","slug":"æ­£åˆ™","permalink":"http://blog.curtaintan.club/tags/%E6%AD%A3%E5%88%99/"}]}]}